{
  "hash": "87719a4eb329445872e35461219ffa73",
  "result": {
    "markdown": "---\ntitle: \"Vérifier l'installation de ffmpeg pour utiliser Whisper\"\n\ncategories:\n  - Python\n  - Whisper\n  - Erreur\n  \nauthor: \n  - name: \"Marc Thévenin\"\n    affiliations:\n      - name: \"Ined\"\n\ndate: 06/20/2023\n\nimage: \"https://www.pngall.com/wp-content/uploads/2016/05/Python-Logo-PNG-Picture.png\"\n\nformat: \n  html: default\n#  docx: default\n#  pdf:  default\n\nfilters:\n   - lightbox\nlightbox: auto\n\nabstract: | \n Le paquet de retranscription d'un fichier audio Whisper demande l'installation de l'encodeur vidéo **ffmpeg**. Même installé, le chemin d'accès de ffmpeg doit être imérativement présent dans les variables d'environnement\n \n---\n\n- [Tutoriel d'installation de whisper](https://github.com/openai/whisper)\n\n- Message d'erreur indiquant un problème d'installation de ffmpeg: **`FileNotFoundError: [WinError 2] Le fichier spécifié est introuvable`**\n\n- Vérifier la bonne installation de ffmpeg:\n   - ouvrir l'invite de commande windows (taper `cmd` dans la barre de tâche)\n   - taper `ffmpeg` dans la console\n   - Si le message renvoyé indique que **ffmpeg n’est pas reconnu en tant que commande interne**, soit l'encodeur n'est pas installé, soit il est installé mais le chemin d'accès n'a pas été ajouté aux variables d'environnement.\n   - pour ajouter une variable d'environnement: \n\n\n\n{{< youtube M2BWTJXDJXY >}} \n\n\n\n\n- Vérifier de nouveau la bonne installation de ffmpeg (relancer l'invite de commande windows avant)\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport whisper\n\n\nmodel = whisper.load_model(\"base\")\nresult = model.transcribe(\"C:/Users/thevenin_m/Desktop/mlk.mp3\",  verbose = True)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nC:\\Users\\thevenin_m\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\whisper\\transcribe.py:114: UserWarning:\n\nFP16 is not supported on CPU; using FP32 instead\n\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nDetecting language using up to the first 30 seconds. Use `--language` to specify the language\nDetected language: English\n[00:00.000 --> 00:10.880]  I have a dream that one day this nation will rise up, live out the true meaning of its\n[00:10.880 --> 00:12.800]  creed.\n[00:12.800 --> 00:17.960]  We hold these truths to be self-evident that all men are created equal.\n```\n:::\n:::\n\n\n::: callout-tip\n\n## Installation de ffmpeg à  l'Ined\n\n- Envisager l'installation automatique de ffmpeg via **applined**\n- Il est fort possible que vous deviez utiliser votre compte administrateur pour modifier les variables environnement\n\n:::\n\n",
    "supporting": [
      "whisper_files"
    ],
    "filters": [],
    "includes": {}
  }
}