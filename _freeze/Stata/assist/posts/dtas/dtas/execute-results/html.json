{
  "hash": "4c4aa9afeb4fbd044afbdc0a2fda0f7b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: '**Le format dtas**'\ntitle-block-banner: false\nauthor:\n  - name: Marc Thévenin\n    affiliations:\n      - name: Ined\ndate: 07/03/2023\nimage: 'https://pbs.twimg.com/media/Fupd5EUXoAAYcYx?format=jpg&name=4096x4096'\ncategories:\n  - Frame\nformat:\n  html: default\n  docx:\n    toc: true\n    number-sections: true\nabstract: |\n  La version 18 de Stata a implémenté un nouveau format, associé aux frames, le format **.dtas**. Il permet d'enregistrer toutes les frames actives, qu'elles soit liées ou non.\n---\n\nPar l'exemple.   \n\n- On charge la base *auto* (nom de la frame = *default*).\n- On renomme la frame en *auto*.\n- On génère la frame *prix* qui comprend la variable *price* de la frame *auto*.\n\n::: {#3dc6b530 .cell execution_count=1}\n``` {.stata .cell-code}\nsysuse auto \nframe rename default auto\nframe put price foreign, into(prix)\n\nframe dir\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<style>div.jp-Notebook .datagrid-container {min-height: 448px; }</style>\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n(1978 automobile data)\n  auto  74 x 12; 1978 automobile data\n* prix  74 x 2; 1978 automobile data\n\nNote: Frames marked with * contain unsaved data.\n```\n:::\n:::\n\n\n* La frame *prix* est transformé en une frame indicateurs avec la commande `collapse`.\n\n::: {#d1ce4917 .cell execution_count=2}\n``` {.stata .cell-code}\nframe prix {\ncollapse price, by(foreign)\nlist\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n     +--------------------+\n     |  foreign     price |\n     |--------------------|\n  1. | Domestic   6,072.4 |\n  2. |  Foreign   6,384.7 |\n     +--------------------+\n```\n:::\n:::\n\n\n* On enregistre les deux frames avec la commande `frames save` au format **dtas**.\n* Cette collection de frames est appelée *auto_prix*.\n\n::: {#e5e8118c .cell execution_count=3}\n``` {.stata .cell-code}\nframes save \"auto_prix.dtas\", frames(_all) replace\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nfile auto_prix.dtas saved\n```\n:::\n:::\n\n\n* On ferme les frames\n* On ouvre la collection *auto_prix.dtas* \n\n::: {#2473133a .cell execution_count=4}\n``` {.stata .cell-code}\nframe reset\n\nframes use \"auto_prix.dtas\", frames(_all)\nframe dir\nframe change prix\nlist\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  auto  74 x 12; 1978 automobile data\n  prix  2 x 2; 1978 automobile data\n  auto     74 x 12; 1978 automobile data\n  default  0 x 0\n  prix     2 x 2; 1978 automobile data\n\n     +--------------------+\n     |  foreign     price |\n     |--------------------|\n  1. | Domestic   6,072.4 |\n  2. |  Foreign   6,384.7 |\n     +--------------------+\n```\n:::\n:::\n\n\n* On ferme la collection.\n* On ouvre seulement la frame *prix* de la collection *auto_prix.dtas*.\n\n::: {#5cc481e6 .cell execution_count=5}\n``` {.stata .cell-code}\nframe reset\n\nframes use \"auto_prix.dtas\", frames(prix)\nframe dir\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  prix  2 x 2; 1978 automobile data\n  default  0 x 0\n  prix     2 x 2; 1978 automobile data\n```\n:::\n:::\n\n\n",
    "supporting": [
      "dtas_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}