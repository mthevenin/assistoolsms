[
  {
    "objectID": "supports.html",
    "href": "supports.html",
    "title": "Supports en ligne",
    "section": "",
    "text": "UtilitR\nIntroduction à R et au tidyverse\nR-Bloggers\nThe R Graph Gallery"
  },
  {
    "objectID": "supports.html#footnotes",
    "href": "supports.html#footnotes",
    "title": "Supports en ligne",
    "section": "Notes de bas de page",
    "text": "Notes de bas de page\n\n\nNon dédié à R, mais les articles dédiés sont devenus largement majoritaires↩︎"
  },
  {
    "objectID": "R/assist/posts/weight_norm/weight_norm.html",
    "href": "R/assist/posts/weight_norm/weight_norm.html",
    "title": "Pondérations normalisées avec R",
    "section": "",
    "text": "Fonctions utilisées dans la fiche\n\n\nPackage\nFonction\n\n\n\n\nquestionr\nwtd.table - cprop - lprop\n\n\nsurvey\nsvydesign - svytable - svymean - svyglm\n\n\nBase R\nmean\nDocumentation sur les packages:\nActivation des packages et ouverture de la table d’exemple HDV\n#install.packages(questionr)\n#install.packages(survey)\n\nlibrary(questionr)\nlibrary(survey)\n\n#Utilisation de la table d'exemple Histoire de vie (hdv2003) \ndata(\"hdv2003\")\n\n# Extrait du fichier\nhdv2003[1:5,1:5]\n\n  id age  sexe                                              nivetud    poids\n1  1  28 Femme Enseignement superieur y compris technique superieur 2634.398\n2  2  23 Femme                                                 &lt;NA&gt; 9738.396\n3  3  59 Homme                    Derniere annee d'etudes primaires 3994.102\n4  4  34 Homme Enseignement superieur y compris technique superieur 5731.662\n5  5  71 Femme                    Derniere annee d'etudes primaires 4329.094\nLa variable pondérée du fichier s’appelle poids"
  },
  {
    "objectID": "R/assist/posts/weight_norm/weight_norm.html#fréquences-pondérées",
    "href": "R/assist/posts/weight_norm/weight_norm.html#fréquences-pondérées",
    "title": "Pondérations normalisées avec R",
    "section": "Fréquences pondérées",
    "text": "Fréquences pondérées\n\nFonction wtd.table()\n\n\n\n\nfréquences sans pondération\n\ntable(hdv2003$sexe)\n\n\n\nHomme Femme \n  899  1101 \n\n\n\n\n\nfréquences avec pondérations\n\n# tris à plat avec l'option weights\nwtd.table(hdv2003$sexe, weights = hdv2003$poids)\n\n\n  Homme   Femme \n5149382 5921844 \n\n#  tris croisé\nwtd.table(hdv2003$qualif,hdv2003$sexe,weights=hdv2003$poids)\n\n                             Homme     Femme\nOuvrier specialise        532365.8  479015.0\nOuvrier qualifie         1163988.6  296252.0\nTechnicien                378956.7  115658.0\nProfession intermediaire  438737.8  375560.7\nCadre                     779354.9  623574.6\nEmploye                   525068.8 2591911.0\nAutre                     129695.9  145912.6\n\n\nPour normaliser la pondération on ajoute l’option normwt=TRUE.\n\n\n\nfréquences avec pondérations normalisées\n\nwtd.table(hdv2003$sexe,weights=hdv2003$poids, normwt=TRUE)\n\n\n   Homme    Femme \n 930.228 1069.772 \n\n\n\n\n\ntri croisé avec pondérations normalisées\n\nwtd.table(hdv2003$qualif,hdv2003$sexe,weights=hdv2003$poids, normwt=TRUE)\n\n\n                             Homme     Femme\nOuvrier specialise        96.17106  86.53332\nOuvrier qualifie         210.27275  53.51747\nTechnicien                68.45794  20.89344\nProfession intermediaire  79.25731  67.84446\nCadre                    140.78927 112.64780\nEmploye                   94.85286 468.22473\nAutre                     23.42937  26.35888"
  },
  {
    "objectID": "R/assist/posts/weight_norm/weight_norm.html#pourcentages-pondérés",
    "href": "R/assist/posts/weight_norm/weight_norm.html#pourcentages-pondérés",
    "title": "Pondérations normalisées avec R",
    "section": "Pourcentages pondérés",
    "text": "Pourcentages pondérés\n\n\n\nStocker le resultat des fréquences pondérées dans un objet, ici res\n\nres=wtd.table(hdv2003$qualif,hdv2003$sexe, weights=hdv2003$poids, normwt=TRUE)\n\n\n\nOn utilise les fonctions cprop() et lprop:\n\ncprop(): pourcentages colonnes\nlprop(): pourcentages lignes\n\n\n\ncprop(res) \n\n                         Homme Femme Ensemble\nOuvrier specialise        13.5  10.4  11.8   \nOuvrier qualifie          29.5   6.4  17.0   \nTechnicien                 9.6   2.5   5.8   \nProfession intermediaire  11.1   8.1   9.5   \nCadre                     19.7  13.5  16.4   \nEmploye                   13.3  56.0  36.3   \nAutre                      3.3   3.2   3.2   \nTotal                    100.0 100.0 100.0   \n\nlprop(res) \n\n                         Homme Femme Total\nOuvrier specialise        52.6  47.4 100.0\nOuvrier qualifie          79.7  20.3 100.0\nTechnicien                76.6  23.4 100.0\nProfession intermediaire  53.9  46.1 100.0\nCadre                     55.6  44.4 100.0\nEmploye                   16.8  83.2 100.0\nAutre                     47.1  52.9 100.0\nEnsemble                  46.0  54.0 100.0"
  },
  {
    "objectID": "R/assist/posts/weight_norm/weight_norm.html#création-de-la-variable-de-pondération-normalisée",
    "href": "R/assist/posts/weight_norm/weight_norm.html#création-de-la-variable-de-pondération-normalisée",
    "title": "Pondérations normalisées avec R",
    "section": "Création de la variable de pondération normalisée",
    "text": "Création de la variable de pondération normalisée\nOn divise tout simplement chaque poids individuel par la moyenne des poids (fonction mean())\n\n\n\ncreation d'une variable de pondération normalisée\n\nhdv2003$poids_norm=hdv2003$poids/mean(hdv2003$poids)\n\n\nComme la normalisation se fait sur la taille de l’échantillon, la somme des poids normalisés est bien égale à l’effectif de celui-ci\n\nsum(hdv2003$poids_norm)\n\n[1] 2000"
  },
  {
    "objectID": "R/assist/posts/weight_norm/weight_norm.html#design-de-léchantillon",
    "href": "R/assist/posts/weight_norm/weight_norm.html#design-de-léchantillon",
    "title": "Pondérations normalisées avec R",
    "section": "Design de l’échantillon",
    "text": "Design de l’échantillon\n\nOn est ici dans la situation la plus simple simple, le design se réduisant à l’application d’un poids d’échantillonage.\nAvant d’utiliser la fonction d’analyse on générère un objet renseignant les divers éléments entrant dans le design de l’enquête (ici seulement la variable hdv2003$poids_norm) avec la fonction svydesign\n\n\n\n\nFonction svydesign\n\ndfw &lt;- svydesign(ids = ~1, data = hdv2003, weights = ~ hdv2003$poids)"
  },
  {
    "objectID": "R/assist/posts/weight_norm/weight_norm.html#application-du-design-à-des-fonctions-analytiques",
    "href": "R/assist/posts/weight_norm/weight_norm.html#application-du-design-à-des-fonctions-analytiques",
    "title": "Pondérations normalisées avec R",
    "section": "Application du design à des fonctions analytiques",
    "text": "Application du design à des fonctions analytiques\n\nOn ajoute aux fonctions l’objet généré avec svydesign (ici dfw)\n\nTableaux de fréquence\n\nFonction svytable\n\n\n\n\nfréquences pondérées\n\nsvytable(~sexe, dfw)\n\n\nsexe\n  Homme   Femme \n5149382 5921844 \n\nsvytable(~ sexe + qualif, dfw)\n\n       qualif\nsexe    Ouvrier specialise Ouvrier qualifie Technicien Profession intermediaire\n  Homme           532365.8        1163988.6   378956.7                 438737.8\n  Femme           479015.0         296252.0   115658.0                 375560.7\n       qualif\nsexe        Cadre   Employe     Autre\n  Homme  779354.9  525068.8  129695.9\n  Femme  623574.6 2591911.0  145912.6\n\n\n\n\n\nPourcentages pondérés\n\ntab &lt;- svytable(~ sexe + qualif, dfw)\n\n\n\n\n\nPourcentages pondérés\n\nlprop(tab)  # % ligne pondérée\n\n\n          qualif\nsexe       Ouvrier specialise Ouvrier qualifie Technicien\n  Homme     13.5               29.5              9.6     \n  Femme     10.4                6.4              2.5     \n  Ensemble  11.8               17.0              5.8     \n          qualif\nsexe       Profession intermediaire Cadre Employe Autre Total\n  Homme     11.1                     19.7  13.3     3.3 100.0\n  Femme      8.1                     13.5  56.0     3.2 100.0\n  Ensemble   9.5                     16.4  36.3     3.2 100.0\n\ncprop(tab)  # % colonne pondérée\n\n       qualif\nsexe    Ouvrier specialise Ouvrier qualifie Technicien Profession intermediaire\n  Homme  52.6               79.7             76.6       53.9                   \n  Femme  47.4               20.3             23.4       46.1                   \n  Total 100.0              100.0            100.0      100.0                   \n       qualif\nsexe    Cadre Employe Autre Ensemble\n  Homme  55.6  16.8    47.1  46.0   \n  Femme  44.4  83.2    52.9  54.0   \n  Total 100.0 100.0   100.0 100.0   \n\n\nMoyenne pondérée\n\nFonction svymean et svyby\n\n\n\n\nMoyenne pondérée\n\nsvymean(~age, dfw)\n\n\n      mean     SE\nage 46.347 0.5284\n\n\n\nSi on souhaite calculer une moyenne par sous groupe, on utilise la fonction svyby à laquelle on ajoute l’argument svymean en option\n\n\n\n\nMoyennes pondérées par groupe\n\nsvyby(~age, ~sexe, dfw, svymean)\n\n\n       sexe      age        se\nHomme Homme 45.20200 0.7419450\nFemme Femme 47.34313 0.7420836\n\n\n\nModèle logistique avec svyglm\n\n\n\n\nMoyennes pondérées par groupe\n\noptions(show.signif.stars=FALSE)\nsummary(svyglm(cuisine ~ age + sexe + occup + qualif, dfw, family=binomial))\n\n\nWarning in eval(family$initialize): nombre de succès non entier dans un glm\nbinomial !\n\n\n\nCall:\nsvyglm(formula = cuisine ~ age + sexe + occup + qualif, design = dfw, \n    family = binomial)\n\nSurvey design:\nsvydesign(ids = ~1, data = hdv2003, weights = ~hdv2003$poids)\n\nCoefficients:\n                                Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)                    -0.151065   0.324985  -0.465    0.642\nage                            -0.012303   0.006407  -1.920    0.055\nsexeFemme                       0.922651   0.160463   5.750 1.06e-08\noccupChomeur                    0.344982   0.255175   1.352    0.177\noccupEtudiant, eleve           -0.677345   1.124417  -0.602    0.547\noccupRetraite                  -0.256705   0.242383  -1.059    0.290\noccupRetire des affaires        0.633727   1.100048   0.576    0.565\noccupAu foyer                   0.249697   0.286245   0.872    0.383\noccupAutre inactif             -0.231741   0.382382  -0.606    0.545\nqualifOuvrier qualifie          0.134447   0.252713   0.532    0.595\nqualifTechnicien               -0.395892   0.357399  -1.108    0.268\nqualifProfession intermediaire  0.220994   0.293482   0.753    0.452\nqualifCadre                    -0.265439   0.256451  -1.035    0.301\nqualifEmploye                   0.018206   0.222582   0.082    0.935\nqualifAutre                    -0.510097   0.401470  -1.271    0.204\n\n(Dispersion parameter for binomial family taken to be 0.9331289)\n\nNumber of Fisher Scoring iterations: 4\n\n\nVous pouvez retrouver dans la documentation l’ensemble des fonctions prises en charge."
  },
  {
    "objectID": "R/assist/posts/R_vscode/R_vscode_doc.html#première-ouverture-et-installation-des-extensions",
    "href": "R/assist/posts/R_vscode/R_vscode_doc.html#première-ouverture-et-installation-des-extensions",
    "title": "R avec VScode",
    "section": "Première ouverture et installation des extensions",
    "text": "Première ouverture et installation des extensions\n\n\n\n\n\n\n\n\n\nPremière ouverture\n\n\n\n\n \n\n\n\n\n\nExtensions R disponibles\n\n\n\n\n \n\n\n\n\n\nL’extension R\n\n\n\n\n\n\n\n\n\nL’extension Rtools"
  },
  {
    "objectID": "R/assist/posts/R_vscode/R_vscode_doc.html#résolution-du-conflit-entre-r-et-rtools",
    "href": "R/assist/posts/R_vscode/R_vscode_doc.html#résolution-du-conflit-entre-r-et-rtools",
    "title": "R avec VScode",
    "section": "Résolution du conflit entre R et Rtools",
    "text": "Résolution du conflit entre R et Rtools\n\n\n\n\n\n\n\n\n\nRechercher r.execute in terminal\n\n\n\n\n \n\n\n\n\n\nSuppression du conflit\n\n\n\n\n \n\n\n\n\n\nExécution de R\n\n\n\n\n\n\n\n\n\n\nPremière ouverture\nExtensions R disponibles\nL’extension R\nL’extension Rtools\nRechercher r.execute in terminal\nSuppression du conflit\nExécution de R"
  },
  {
    "objectID": "R/assist/posts/recodage_multiple/recodage_multiple.html",
    "href": "R/assist/posts/recodage_multiple/recodage_multiple.html",
    "title": "Recodage multiple",
    "section": "",
    "text": "Fonctions utilisées dans la fiche\n\n\n\n\n\n\nPackages\nFonctions\n\n\n\n\ndplyr\nmutate_all - mutate_if - mutate_at - ifelse - select\n\n\nBase R\nas.data.frame - for - grep - assign - get - paste\nIl existe plusieurs solutions pour automatiser un recodage dans R, nous allons aborder certaines d’entre-elles mais cette liste est loin d’être exhaustive."
  },
  {
    "objectID": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-lensemble-des-données",
    "href": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-lensemble-des-données",
    "title": "Recodage multiple",
    "section": "Sur l’ensemble des données",
    "text": "Sur l’ensemble des données\n\nExemple 1 : Changer l’ensemble des valeurs manquantes\n\n# Je fais un copie du jeu de donnée\ndf2 &lt;- df\n# Je remplace tous les NA par la valeurs 0\ndf2[is.na(df2)] &lt;- 0\ndf2\n\n   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10\n1   8  0  8  5  8  5  5  8  6   1\n2   3  4  8  9  7  7  6  6  6   9\n3   6  4  4  9  8  1  5  3  2   0\n4   0  9  4  5  6  1  7  6  5  10\n5   1  5  1  3  7  5  6  5  1  10\n6   6  9  9  3  5  5 10  0  9   9\n7  10  6  8  9  9  0  0  4 10   9\n8   1  8  0  8  6  2  3  5  9   7\n9  10  4  3  6  2  2  7  0  6   9\n10  2  4  2  5  9  7  8  8  2   4\n\n\n\n\nExemple 2 : Remplacer une valeur par une autre\n\n# Je fais une copie de l'original\ndf2 &lt;- df\n# Je remplace tous les 10 par la valeur \"DIX\"\ndf2[df2==10] &lt;- \"DIX\"\ndf2\n\n     V1 V2 V3 V4 V5 V6   V7 V8  V9  V10\n1     8 NA  8  5  8  5    5  8   6    1\n2     3  4  8  9  7  7    6  6   6    9\n3     6  4  4  9  8  1    5  3   2 &lt;NA&gt;\n4  &lt;NA&gt;  9  4  5  6  1    7  6   5  DIX\n5     1  5  1  3  7  5    6  5   1  DIX\n6     6  9  9  3  5  5  DIX NA   9    9\n7   DIX  6  8  9  9 NA &lt;NA&gt;  4 DIX    9\n8     1  8 NA  8  6  2    3  5   9    7\n9   DIX  4  3  6  2  2    7 NA   6    9\n10    2  4  2  5  9  7    8  8   2    4"
  },
  {
    "objectID": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-une-sélection-de-variables",
    "href": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-une-sélection-de-variables",
    "title": "Recodage multiple",
    "section": "Sur une sélection de variables",
    "text": "Sur une sélection de variables\nLes jeux de données peuvent être composés d’un grand nombre de variables et donc on peut-être amené à effectuer un recodage uniquement sur certaines variables.\nL’exemple ci-dessous montre comment procéder à partir d’une sélection de variable stockée dans le vecteur var.\n\nExemple 3 : Recoder une sélection de variables\n\n# Je fais une copie de l'original\ndf2 &lt;- df\n# Je choisis certaines variables sur lesquelle on appliquera le recodage\nvar &lt;- c(\"V1\",\"V7\",\"V9\")\n\n# Fonctionne aussi avec la position de la colonne\n# var &lt;- c(2,5,6)\n\n# On crée une boucle qui s'activera uniquement pour les variables contenues \n# dans var\n\nfor (i in var) {\n  df2[[i]] &lt;- ifelse(df2[[i]] == 10, \"DIX\", df2[[i]])\n}\n\n\ndf2\n\n     V1 V2 V3 V4 V5 V6   V7 V8  V9 V10\n1     8 NA  8  5  8  5    5  8   6   1\n2     3  4  8  9  7  7    6  6   6   9\n3     6  4  4  9  8  1    5  3   2  NA\n4  &lt;NA&gt;  9  4  5  6  1    7  6   5  10\n5     1  5  1  3  7  5    6  5   1  10\n6     6  9  9  3  5  5  DIX NA   9   9\n7   DIX  6  8  9  9 NA &lt;NA&gt;  4 DIX   9\n8     1  8 NA  8  6  2    3  5   9   7\n9   DIX  4  3  6  2  2    7 NA   6   9\n10    2  4  2  5  9  7    8  8   2   4\n\n\nSeulement les variables V1, V7 et V9 ont été recodées. On remarque que des valeurs 10 sont présentes dans la variable V10."
  },
  {
    "objectID": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-lensemble-des-données-1",
    "href": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-lensemble-des-données-1",
    "title": "Recodage multiple",
    "section": "Sur l’ensemble des données",
    "text": "Sur l’ensemble des données\nLa fonction mutate_all permet de recoder l’ensemble des variables du jeu de données.\n\nExemple 4 : mutate_all\nOn remplace l’ensemble de 7 par la valeur “SEPT”\n\nlibrary(dplyr)\n\ndf2 &lt;- df %&gt;% \n  mutate_all(~ifelse(. == 7, \"SEPT\", .))\ndf2\n\n   V1 V2 V3 V4   V5   V6   V7 V8 V9  V10\n1   8 NA  8  5    8    5    5  8  6    1\n2   3  4  8  9 SEPT SEPT    6  6  6    9\n3   6  4  4  9    8    1    5  3  2 &lt;NA&gt;\n4  NA  9  4  5    6    1 SEPT  6  5   10\n5   1  5  1  3 SEPT    5    6  5  1   10\n6   6  9  9  3    5    5   10 NA  9    9\n7  10  6  8  9    9 &lt;NA&gt; &lt;NA&gt;  4 10    9\n8   1  8 NA  8    6    2    3  5  9 SEPT\n9  10  4  3  6    2    2 SEPT NA  6    9\n10  2  4  2  5    9 SEPT    8  8  2    4\n\n\n\nLe signe ~ est obligatoire, et permet d’indiquer qu’on applique la formule qui le suit à l’ensemble du jeu de données.\nLes . sont une spécificité de la syntaxe sous forme de pipes (%&gt;%). Ils sont synonymes de la base de données en entrée (df) mais permet de tenir compte de toutes les transformations des pipes précédentes faites sur cette base."
  },
  {
    "objectID": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-une-sélection-de-variables-1",
    "href": "R/assist/posts/recodage_multiple/recodage_multiple.html#sur-une-sélection-de-variables-1",
    "title": "Recodage multiple",
    "section": "Sur une sélection de variables",
    "text": "Sur une sélection de variables\nLes fonctions mutate_if et mutate_at permettent d’appliquer un recodage mais uniquement sur des variables choisies par une ou plusieurs conditions.\n\nExemple 5 : mutate_if\nDans cet exemple, on va appliquer un recodage uniquement aux variables numériques. Pour l’exemple, on commence par créer une variable catégorielle var_categ, sur laquelle le recodage ne s’appliquera pas.\n\ndf2 &lt;- df %&gt;% \n  mutate(var_categ = rep(c(\"bonjour\", \"5\"), 5)) %&gt;% \n  select(var_categ, everything())\ndf2\n\n   var_categ V1 V2 V3 V4 V5 V6 V7 V8 V9 V10\n1    bonjour  8 NA  8  5  8  5  5  8  6   1\n2          5  3  4  8  9  7  7  6  6  6   9\n3    bonjour  6  4  4  9  8  1  5  3  2  NA\n4          5 NA  9  4  5  6  1  7  6  5  10\n5    bonjour  1  5  1  3  7  5  6  5  1  10\n6          5  6  9  9  3  5  5 10 NA  9   9\n7    bonjour 10  6  8  9  9 NA NA  4 10   9\n8          5  1  8 NA  8  6  2  3  5  9   7\n9    bonjour 10  4  3  6  2  2  7 NA  6   9\n10         5  2  4  2  5  9  7  8  8  2   4\n\n\nOn utilise mutate_if, pour changer la valeur 5 en CINQ, uniquement pour les variables numériques.\n\ndf2 &lt;- df2 %&gt;% \n  mutate_if(is.numeric, ~ifelse(. == 5, \"CINQ\", .))\ndf2\n\n   var_categ V1   V2 V3   V4   V5   V6   V7   V8   V9 V10\n1    bonjour  8 &lt;NA&gt;  8 CINQ    8 CINQ CINQ    8    6   1\n2          5  3    4  8    9    7    7    6    6    6   9\n3    bonjour  6    4  4    9    8    1 CINQ    3    2  NA\n4          5 NA    9  4 CINQ    6    1    7    6 CINQ  10\n5    bonjour  1 CINQ  1    3    7 CINQ    6 CINQ    1  10\n6          5  6    9  9    3 CINQ CINQ   10 &lt;NA&gt;    9   9\n7    bonjour 10    6  8    9    9 &lt;NA&gt; &lt;NA&gt;    4   10   9\n8          5  1    8 NA    8    6    2    3 CINQ    9   7\n9    bonjour 10    4  3    6    2    2    7 &lt;NA&gt;    6   9\n10         5  2    4  2 CINQ    9    7    8    8    2   4\n\n\n\n\nExemple 6 : mutate_at\nla fonction mutate_at permet d’appliquer un recodage à un ensemble de variables définies par leur nom.\nIci, on applique le recodage uniquement aux variables qui continennent la chaîne de caractéres V1 dans leur nom de variables, on recode donc V1 et V10.\n\n# Sélection des variables\nvar &lt;- grep(\"1\", names(df), value=TRUE)\nvar\n\n[1] \"V1\"  \"V10\"\n\n# On recode les NA en VAL.MANQ pour les variables de var\ndf2 &lt;- df %&gt;% \n  mutate_at(var, ~ ifelse(is.na(.) == TRUE, \"VAL.MANQ\", .))\ndf2\n\n         V1 V2 V3 V4 V5 V6 V7 V8 V9      V10\n1         8 NA  8  5  8  5  5  8  6        1\n2         3  4  8  9  7  7  6  6  6        9\n3         6  4  4  9  8  1  5  3  2 VAL.MANQ\n4  VAL.MANQ  9  4  5  6  1  7  6  5       10\n5         1  5  1  3  7  5  6  5  1       10\n6         6  9  9  3  5  5 10 NA  9        9\n7        10  6  8  9  9 NA NA  4 10        9\n8         1  8 NA  8  6  2  3  5  9        7\n9        10  4  3  6  2  2  7 NA  6        9\n10        2  4  2  5  9  7  8  8  2        4"
  },
  {
    "objectID": "R/assist/posts/nuage_de_mot/nuage_de_mot.html",
    "href": "R/assist/posts/nuage_de_mot/nuage_de_mot.html",
    "title": "Générer des graphes de mot avec R.temis",
    "section": "",
    "text": "Documentation:\n\nR.temis\n[dplyr - Officiel] [dplyr - Julien Barnier]\ntibble\n\ninstall.packages(R.temis)\ninstall.packages(dplyr) # ou (tidyverse)\ninstall.packages(tibble) # ou (tidyverse)\n\n# Appel des packages (à installer si besoin)\nlibrary(\"R.temis\")\nlibrary(\"dplyr\") \nlibrary(\"tibble\")\n\nConcernant le choix du corpus, nous avons sélectionné les voeux prononcés par François Hollande de 2013 à 2017. Les textes retranscrits dans des fichiers de type texte (.txt) et placé dans un seul dossier nommé dossier_de_texte.\n\n# import des textes avec la fonction import_corpus\n\ncorpus1 &lt;- import_corpus(\"dossier_de_texte\", format=\"txt\", language =\"fr\")\n\n# découpage en unités textuelles de 5 paragraphes pour un meilleur rendu \n\ncorpus&lt;-split_documents(corpus1, 5, preserveMetadata = TRUE)\n\nLes stop words (ou mots vides) sont des mots très courants d’une langue comme les prépositions, les articles, les pronoms, etc., qui sont souvent omis lors de l’analyse car en général ils ne portent pas de sens important pour la compréhension globale du texte. La fonction build_dtm est utilisée pour construire une matrice de termes-document (ou tableau lexical) à partir d’un corpus de textes. La matrice de termes-document (ou Tableau Lexical) est une représentation quantitative d’un corpus de textes, où chaque colonne représente un terme et chaque ligne représente un document. Ici les documents sont les unités textuelles (composées de 5) paragraphes.\nOn choisit de supprimer les mots vides.\nOn passe maintenant à la création du tableau lexical (dtm) sans mots outils et avec les mots d’au moins 1 lettre.\n\n#on crée le tableau lexical avec la fonction build_dtm\n\ndtm &lt;-build_dtm(corpus, remove_stopwords = T, min_length = 1)\n\n# Calcul des occurrences des mots dans le corpus de textes\n\nfrequent_terms(dtm) \n\n             Global occ.  Global %\nfrance                66 1.9446081\na                     54 1.5910430\nplus                  48 1.4142605\nannée                 33 0.9723041\nêtre                  29 0.8544490\naussi                 28 0.8249853\npays                  24 0.7071302\ntous                  24 0.7071302\ntout                  24 0.7071302\ncontre                19 0.5598114\ncompatriotes          18 0.5303477\nfaire                 18 0.5303477\ndoit                  17 0.5008839\nface                  16 0.4714202\ntoutes                16 0.4714202\nchers                 15 0.4419564\nveux                  15 0.4419564\neurope                14 0.4124926\ncomme                 13 0.3830289\nemploi                13 0.3830289\nmonde                 13 0.3830289\nconfiance             12 0.3535651\nparce                 12 0.3535651\nrépublique            12 0.3535651\nceux                  11 0.3241014\n\n\nLe mot france est prononcé 66 fois dans l’ensemble des 5 discours et représente 1,95% des occurences totales.\nOn va maintenant affiner l’analyse.\nOn aimerait aussi retirer les mots a et plus et rassembler sous un même mot les termes tout, toutes et tous en tous.tes à titre d’exemple.\nOn crée le dictionnaire qui affiche les mots initiaux et les racines des mots (Term). Il va servir à lemmatiser le corpus.\nLa lemmatisation consiste à remplacer les mots initiaux par des termes: la racine des mots ou une forme personnalisée (comme c’est le cas ici)\n\n# Création d'un dictionnaire de mot\ndic &lt;-dictionary(dtm) \n\ndic2 = dic %&gt;%\n  rownames_to_column(var=\"word\") %&gt;% \n  mutate(Term = word)\n\nrow.names(dic2) &lt;- dic2$word\n\n# Remplacer les mots spécifiés par tous.tes\ndic2$Term[dic2$word == \"toutes\"] &lt;- \"tous.tes\"\ndic2$Term[dic2$word == \"tout\"] &lt;- \"tous.tes\"\ndic2$Term[dic2$word == \"tous\"] &lt;- \"tous.tes\"\n\n# Lemmatisation\ndtmlem &lt;-combine_terms(dtm, dic2)\n\n# Ensemble de mots à retirer\nmots_a_retirer &lt;- c(\"a\", \"plus\")\n\n# Suppression de mots dans le tableau lexical\ndtm2&lt;-dtmlem[, !colnames(dtmlem) %in% mots_a_retirer]\n\n\nfrequent_terms(dtm2)\n\n             Global occ.  Global %\nfrance                66 2.0048603\ntous.tes              64 1.9441069\nannée                 33 1.0024301\nêtre                  29 0.8809235\naussi                 28 0.8505468\npays                  24 0.7290401\ncontre                19 0.5771567\ncompatriotes          18 0.5467801\nfaire                 18 0.5467801\ndoit                  17 0.5164034\nface                  16 0.4860267\nchers                 15 0.4556501\nveux                  15 0.4556501\neurope                14 0.4252734\ncomme                 13 0.3948967\nemploi                13 0.3948967\nmonde                 13 0.3948967\nconfiance             12 0.3645200\nparce                 12 0.3645200\nrépublique            12 0.3645200\nceux                  11 0.3341434\nentre                 11 0.3341434\nentreprises           11 0.3341434\nlà                    11 0.3341434\nsoir                  11 0.3341434\n\n\nOn voit que les occurences du “tous.tes” (64) correspondent bien à la somme des occurences de tout (24), tous(24) et toutes(16).\nOn passe à l’affichage du Nuage de mot\nCe graphique permet de visualiser les mots les plus occurents d’un corpus de textes.\n\n# On affiche au maximum 50 mots et les mots d’au moins une occurrence\ncloud&lt;-word_cloud(dtm2, color= 'black', min.freq=1,n =50) \ntitle(main = \"Mots les plus fréquents dans les discours de F.Hollande entre 2013 et 2017\")\n\n\n\n\n\n\n\n\nLa taille de la police est proportionelle à l’occurence du mot: France (66), année (33) et entreprise (11).\nEt pour finir, l’affichage d’un graphe de mots\nLa fonction terms_graph du package R.temis permet de générer un réseau de mots qui est affiché dans une fenêtre interactive igraph. Les termes ou mots sont représentés par des sommets (ou nœuds) du graphe, les liens représentent les cooccurrences entre les mots les plus fréquents. Leur placement dans l’espace graphique est déterminé par un algorithme d’énergie.\n\n# Créer un graphique d'analyse de co-occurrences de termes\n\nTree&lt;-terms_graph(dtm2, min_occ = 10, interactive = T,\n            vertex.size = 0.01, vertex.color = \"lightblue\",\n            label.cex = 0.1)"
  },
  {
    "objectID": "R/assist/posts/jtools_output/jtools_output.html",
    "href": "R/assist/posts/jtools_output/jtools_output.html",
    "title": "Afficher des outputs de régression avec Jtools",
    "section": "",
    "text": "Packages\nFonctions\n\n\n\n\njtools\nsumm\n\n\nsurvey\nsvydesign svyglm\n\n\nBase R\nlm glm"
  },
  {
    "objectID": "R/assist/posts/jtools_output/jtools_output.html#avec-la-fonction-lm",
    "href": "R/assist/posts/jtools_output/jtools_output.html#avec-la-fonction-lm",
    "title": "Afficher des outputs de régression avec Jtools",
    "section": "Avec la fonction lm()",
    "text": "Avec la fonction lm()\nListe des options\n\nlibrary(jtools)\nlibrary(readr)\n\ndf =  read.csv(\"https://raw.githubusercontent.com/mthevenin/intro_logit/main/hypertension2.csv\")\n\nfit = lm(bpsystol ~ age + I(sex) + I(black) + I(region), data=df)\n\n1summ(fit, digits=4)\n\n\n1\n\ndigits=4 =&gt; Les résultats sont reportés avec 4 décimales\n\n\n\n\n\n\n\n\nObservations\n10351\n\n\nDependent variable\nbpsystol\n\n\nType\nOLS linear regression\n\n\n\n\n\n\n\n\nF(6,10344)\n552.2494\n\n\nR²\n0.2426\n\n\nAdj. R²\n0.2422\n\n\n\n\n\n\n\n\n\nEst.\nS.E.\nt val.\np\n\n\n\n\n(Intercept)\n102.2001\n0.8979\n113.8168\n0.0000\n\n\nage\n0.6563\n0.0116\n56.5104\n0.0000\n\n\nI(sex)Male\n4.0350\n0.3999\n10.0911\n0.0000\n\n\nI(black)Not Black\n-4.6494\n0.6640\n-7.0019\n0.0000\n\n\nI(region)NE\n0.2570\n0.5892\n0.4362\n0.6627\n\n\nI(region)S\n-0.7920\n0.5450\n-1.4532\n0.1462\n\n\nI(region)W\n-0.5221\n0.5543\n-0.9420\n0.3462\n\n\n\n Standard errors: OLS"
  },
  {
    "objectID": "R/assist/posts/jtools_output/jtools_output.html#avec-la-fonction-glm-lien-logit",
    "href": "R/assist/posts/jtools_output/jtools_output.html#avec-la-fonction-glm-lien-logit",
    "title": "Afficher des outputs de régression avec Jtools",
    "section": "Avec la fonction glm() [lien logit]",
    "text": "Avec la fonction glm() [lien logit]\nListe des options\n\nfit = glm(highbp ~ age + I(sex) + I(black) + I(region), family=binomial, data=df)   \n\n1summ(fit, digits=4, confint=TRUE, exp=TRUE)\n\n\n1\n\nOn ajoute des intervalles de confiance (confint=TRUE) et le report des estimateurs sous forme d’Odds Ratio (exp=TRUE)\n\n\n\n\n\n\n\n\nObservations\n10351\n\n\nDependent variable\nhighbp\n\n\nType\nGeneralized linear model\n\n\nFamily\nbinomial\n\n\nLink\nlogit\n\n\n\n\n\n\n\n\nχ²(6)\n1623.1601\n\n\nPseudo-R² (Cragg-Uhler)\n0.1951\n\n\nPseudo-R² (McFadden)\n0.1151\n\n\nAIC\n12492.3709\n\n\nBIC\n12543.0848\n\n\n\n\n\n\n\n\n\nexp(Est.)\n2.5%\n97.5%\nz val.\np\n\n\n\n\n(Intercept)\n0.0853\n0.0701\n0.1038\n-24.5720\n0.0000\n\n\nage\n1.0496\n1.0469\n1.0524\n36.1832\n0.0000\n\n\nI(sex)Male\n1.5483\n1.4223\n1.6856\n10.0890\n0.0000\n\n\nI(black)Not Black\n0.5860\n0.5092\n0.6742\n-7.4663\n0.0000\n\n\nI(region)NE\n1.1655\n1.0287\n1.3203\n2.4051\n0.0162\n\n\nI(region)S\n1.0024\n0.8930\n1.1253\n0.0414\n0.9669\n\n\nI(region)W\n1.0966\n0.9746\n1.2338\n1.5322\n0.1255\n\n\n\n Standard errors: MLE"
  },
  {
    "objectID": "R/assist/posts/jtools_output/jtools_output.html#avec-la-fonction-svyglm-lien-logit",
    "href": "R/assist/posts/jtools_output/jtools_output.html#avec-la-fonction-svyglm-lien-logit",
    "title": "Afficher des outputs de régression avec Jtools",
    "section": "Avec la fonction svyglm() [lien logit]",
    "text": "Avec la fonction svyglm() [lien logit]\nListe des options\n\nlibrary(survey)\n\nw = svydesign(id=~1, weights=~w, data=df)\n\nfit = svyglm(highbp ~ age + I(sex) + I(black) + I(region), family=binomial, design=w)\nsumm(fit, digits=4, confint=TRUE, exp=TRUE)    \n\n\n\n\n\nObservations\n10351\n\n\nDependent variable\nhighbp\n\n\nType\nSurvey-weighted generalized linear model\n\n\nFamily\nbinomial\n\n\nLink\nlogit\n\n\n\n\n\n\n\n\nPseudo-R² (Cragg-Uhler)\n0.1881\n\n\nPseudo-R² (McFadden)\n0.1125\n\n\nAIC\n12064.1922\n\n\n\n\n\n\n\n\n\nexp(Est.)\n2.5%\n97.5%\nt val.\np\n\n\n\n\n(Intercept)\n0.0692\n0.0553\n0.0865\n-23.3763\n0.0000\n\n\nage\n1.0530\n1.0497\n1.0562\n33.0767\n0.0000\n\n\nI(sex)Male\n1.8298\n1.6529\n2.0256\n11.6459\n0.0000\n\n\nI(black)Not Black\n0.5849\n0.4913\n0.6964\n-6.0259\n0.0000\n\n\nI(region)NE\n1.1822\n1.0245\n1.3642\n2.2906\n0.0220\n\n\nI(region)S\n0.9961\n0.8670\n1.1445\n-0.0549\n0.9562\n\n\nI(region)W\n1.1225\n0.9737\n1.2940\n1.5928\n0.1112\n\n\n\n Standard errors: Robust"
  },
  {
    "objectID": "R/assist/posts/jtools_output/jtools_output.html#footnotes",
    "href": "R/assist/posts/jtools_output/jtools_output.html#footnotes",
    "title": "Afficher des outputs de régression avec Jtools",
    "section": "Notes de bas de page",
    "text": "Notes de bas de page\n\n\nmesure de la tension artérielle (lm) et du risque d’hypertension (glm et svyglm)↩︎"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "",
    "text": "Fonctions utilisées dans la fiche\n\n\nPackages\nFonctions\n\n\n\n\ndplyr\nif_else - case_when - mutate\n\n\nBase R\nifelse table"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#procons",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#procons",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Pro/Cons :",
    "text": "Pro/Cons :\nAvantage :\n- Pas besoin de packages supplémentaires\nInconvénient :\n\nLent\nProblème de persistence des types de modalités (surtout avec les labels et les factors)1\n\n\nCode moins lisible\nGestion des conditions multiples illisibles"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-1-variables-dichotomiques",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-1-variables-dichotomiques",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Exemple 1 : Variables dichotomiques",
    "text": "Exemple 1 : Variables dichotomiques\nCréation d’une variable catégorielle taille_rec, avec deux modalités : “Grand.e”, “Petit.e”.\n\n\n# Sélection d'une seed pour obtenir le même échantillon \n# dans la création des données fictive aléatoires\nset.seed(1)\n\n# Création du jeu de données exemple\nindividus &lt;- data.frame(\n  id = 1:20,\n  # Âges aléatoires entre 18 et 65 ans\n  age = sample(18:65, 20, replace = TRUE), \n  # Tailles aléatoires entre 150 et 200 cm\n  taille = sample(150:200, 20, replace = TRUE), \n  # Sexe aléatoire (Homme ou Femme)\n  sexe = sample(c(\"Homme\", \"Femme\"), 20, replace = TRUE) \n)\n\n\n# Ajout d'une variable taill_rec pour illustrer l'utilisation de ifelse()\nindividus$taille_rec &lt;- ifelse(individus$taille &gt; 175, # Condition \n                               \"Grand.e\",              # Catégorie si VRAI \n                               \"Petit.e\")              # Catégorie si FAUX\n\n\n# Affichage de la nouvelle variable\ntable(individus$taille_rec)\n\n\nGrand.e Petit.e \n     12       8"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-2-variables-avec-plus-de-2-modalités",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-2-variables-avec-plus-de-2-modalités",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Exemple 2 : Variables avec plus de 2 modalités",
    "text": "Exemple 2 : Variables avec plus de 2 modalités\nIl est possible d’empiler les fonctions ifelse() pour créer des variables avec plus de deux modalités. Pour cela on suit le schéma suivant :\n\nDans cet exemple, on divise la taille en 3 catégories :\n\nPetit.e : &lt; 165\n\nMoyen.ne : De 165 à 185\n\nGrand.e : &gt; 185\n\n\nindividus$taille_rec2 &lt;- ifelse(individus$taille &gt; 185,      # Condition 1\n                               \"Grand.e\",                    # Condi 1 Vrai \n                               ifelse(individus$taille &lt; 165,# Condition 2\n                                      \"Petit.e\",             # Condi 2 Vrai\n                                      \"Moyen.ne\"))           # Condi 1&2 Fausse\n                               \n\n\n# Affichage de la nouvelle variable\ntable(individus$taille_rec2)\n\n\n Grand.e Moyen.ne  Petit.e \n       8        9        3"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-3-conditions-issues-de-deux-variables-initiales",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-3-conditions-issues-de-deux-variables-initiales",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Exemple 3 : Conditions issues de deux variables initiales",
    "text": "Exemple 3 : Conditions issues de deux variables initiales\nIl est également possible de créer des variables à partir de conditions provenant de plusieurs variables.\nDans cet exemple, nous allons créer une variable dont les catégories seront différentes selon pour les hommes et les femmes :\n\n\n\nPour les hommes :\n\nPetit.e : &lt; 180\n\nGrand.e : &gt;= 180\n\nPour les femmes :\n\nPetit.e : &lt; 170\n\nGrand.e : &gt;= 170\n\n\n\n\n\n\n\nindividus$taille_rec3 &lt;- ifelse(individus$sexe == \"Homme\" & \n                                  individus$taille &lt; 180,      # Condition 1\n                                # Condition 1 Vraie :\n                                \"Petit.e\",    \n                                # Sinon :\n                                ifelse(individus$sexe == \"Femme\" & \n                                  individus$taille &lt; 170,      # Condition 2\n                                  # Condition 2 Vraie :\n                                  \"Petit.e\",  \n                                  # Tous les autres :\n                                  \"Grand.e\"))          \n                               \n\n\n# Affichage de la nouvelle variable\ntable(individus$taille_rec3)\n\n\nGrand.e Petit.e \n     14       6"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#procons-1",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#procons-1",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Pro/Cons :",
    "text": "Pro/Cons :\nAvantage :\nLe package dplyr, présent dans le tidyverse, propose sa propre version de la fonction ifelse(), qui permet d’éviter certains problèmes rencontrer avec la version de base.\nAinsi, if_else() s’utilise exactement de la même manière que ifelse, elle est plus rapide et permet de conserver le type de la variable initiale.\nInconvénient :\n\nBesoin d’installer un package\nGestion des conditions multiples toujours illisibles"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-4-if_else",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#exemple-4-if_else",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Exemple 4 : if_else()",
    "text": "Exemple 4 : if_else()\n\n#install.packages(\"dplyr\")\nlibrary(dplyr)\n\nindividus$taille_rec4 &lt;- if_else(individus$sexe == \"Homme\" & \n                                  individus$taille &lt; 180,      # Condition 1\n                                # Condition 1 Vraie :\n                                \"Petit.e\",    \n                                # Sinon :\n                                if_else(individus$sexe == \"Femme\" & \n                                  individus$taille &lt; 170,      # Condition 2\n                                  # Condition 2 Vraie :\n                                  \"Petit.e\",  \n                                  # Tous les autres :\n                                  \"Grand.e\"))          \n                               \n\n\n# Affichage de la nouvelle variable\ntable(individus$taille_rec4)\n\n\nGrand.e Petit.e \n     14       6 \n\n\nOn obtient bien le même résultat"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#procons-2",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#procons-2",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Pro/Cons :",
    "text": "Pro/Cons :\nLa gestion des conditions multiples pouvant être fastidieuse avec les fonctions ifelse(), le code devenant rapidemment illisible, dplyr propose la fonction case_when() qui permet de l’organiser mieux.\nSon fonctionnement se base sur des formules, il peut alors sembler plus ou moins compréhensibles selon les sensibilités de programmations."
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#ordre-daffectation-des-valeurs",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#ordre-daffectation-des-valeurs",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Ordre d’affectation des valeurs",
    "text": "Ordre d’affectation des valeurs\nAvec ifelse() ou avec case_when, une fois la première condition remplie, la nouvelle valeur ne peux plus être modifiée, ainsi si une condition future se superpose, elle ne sera pas prise en compte dans le recodage. On va du plus spécifique au plus général\nExemple : On crée une variable taille avec comme modalité :\n\nPetit : &lt; 170\n\nMoyen : 170 à 185\n\nGrand : &gt; 185\n\n\nindividus &lt;- individus %&gt;%\n  select(id, taille) %&gt;% \n  \n  mutate(\n    # avec ifelse\n    var1 = ifelse(taille &gt; 170, \"Moyen\", \n                  ifelse(taille &gt; 185, \"Grand\", \"Petit\")),\n    \n    # avec if_else\n    var2 = if_else(taille &gt; 170, \"Moyen\", \n                   if_else(taille &gt; 185, \"Grand\", \"Petit\")),\n    \n    # avec case_when\n    var3 = case_when(\n      taille &gt; 170 ~ \"Moyen\",\n      taille &gt; 185 ~ \"Grand\", \n      TRUE ~ \"Petit\")) \n\ntable(individus$var1)\n\n\nMoyen Petit \n   14     6 \n\ntable(individus$var2)\n\n\nMoyen Petit \n   14     6 \n\ntable(individus$var3)\n\n\nMoyen Petit \n   14     6 \n\n\nOn voit qu’il n’y a pas la catégorie “Grand”, comme la valeur a déjà été affectée à la catégorie “Moyen”. Il faudrait alors :\n\nindividus &lt;- individus %&gt;%\n  mutate(var5 = case_when(\n    taille &gt; 185 ~ \"Grand\", \n    taille &gt; 170 ~ \"Moyen\",\n    TRUE ~ \"Petit\")) \n\ntable(individus$var5)\n\n\nGrand Moyen Petit \n    8     6     6"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#a-propos-des-valeurs-manquantes",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#a-propos-des-valeurs-manquantes",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "A propos des valeurs manquantes",
    "text": "A propos des valeurs manquantes\nLes fonctions ifelse() n’ont pas le même comportement pour le traitement des valeurs manquantes que la fonction case_when.\nDans le cas des fonctions ifelse, si l’une des variables de conditions est un NA, le résultat sera également une valeur manquante dans la variable crée.\nDans le cas de la fonction case_when, l’individu avec une valeur manquante aura comme nouvelle valeur la catégorie défini dans la partie “SINON”.2\nExemple :\nOn crée un data frame avec des NA :\n\nlibrary(dplyr)\ndf &lt;- data.frame(a = c(1:3, NA, 4,NA,6:7), b = c(NA, letters[1:7]))\ndf\n\n   a    b\n1  1 &lt;NA&gt;\n2  2    a\n3  3    b\n4 NA    c\n5  4    d\n6 NA    e\n7  6    f\n8  7    g\n\n\nOn fait un recodage avec ifelse()\n\ndf %&gt;%\n  mutate(res = if_else(a &gt; 3, \"Yes\", \n                   if_else(b == \"c\", \"No\", \n                           if_else(a &gt; 5, \"Maybe\", \"Done\"))))\n\n   a    b  res\n1  1 &lt;NA&gt; &lt;NA&gt;\n2  2    a Done\n3  3    b Done\n4 NA    c &lt;NA&gt;\n5  4    d  Yes\n6 NA    e &lt;NA&gt;\n7  6    f  Yes\n8  7    g  Yes\n\n\nLes NA restent des NAs, alors qu’avec case_when :\n\ndf %&gt;%\n   mutate(res = case_when(a &gt; 3 ~ \"Yes\", \n                          b == \"c\"~\"No\", \n                          a &gt; 5 ~ \"Maybe\", \n                          TRUE ~ \"Done\"))\n\n   a    b  res\n1  1 &lt;NA&gt; Done\n2  2    a Done\n3  3    b Done\n4 NA    c   No\n5  4    d  Yes\n6 NA    e Done\n7  6    f  Yes\n8  7    g  Yes\n\n\nOn a pas de NA, ils ont été recodé avec la catégorie SINON.\nIl faut donc créer une condition avec is.na(variable)\n\ndf %&gt;%\n   mutate(res = case_when(a &gt; 3 ~ \"Yes\", \n                          b == \"c\"~\"No\", \n                          a &gt; 5 ~ \"Maybe\", \n                          is.na(a) | is.na(b) ~ NA,\n                          TRUE ~ \"Done\"))\n\n   a    b  res\n1  1 &lt;NA&gt; &lt;NA&gt;\n2  2    a Done\n3  3    b Done\n4 NA    c   No\n5  4    d  Yes\n6 NA    e &lt;NA&gt;\n7  6    f  Yes\n8  7    g  Yes"
  },
  {
    "objectID": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#footnotes",
    "href": "R/assist/posts/ifelse_casewhen/ifelse_casewhen.html#footnotes",
    "title": "Recoder des variables avec ifelse() - if_else - case_when()",
    "section": "Notes de bas de page",
    "text": "Notes de bas de page\n\n\nhttps://community.rstudio.com/t/case-when-why-not/2685/3↩︎\nhttps://stackoverflow.com/questions/57807976/how-to-use-case-when-rather-then-if-else-error-in-my-code↩︎"
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html",
    "title": "Fonction pour des tables automatiques",
    "section": "",
    "text": "Il existe un large éventail de package R consacré à la gestion et la mise en forme de table et de tris croisés (GT, flextable, …). S’ils sont souvent de grandes qualités, leur coût d’entrée peut être un peu élevé pour les utilisateurs.rices occasionnelles de R.\nPour répondre aux besoins de ces derniers, vous trouverez ici une fonction qui permet de facilement compiler des tris à plats ou bivariées, pour explorer automatiquement un grand nombre de variables, utiliser une pondération et les exporter dans un document Excel.\nPour une introduction aux tables et à la pondération, voir la fiche\n\n\nPour illustrer la mise en oeuvre de la fonction, on utilise les données d’exemples hdv2003 du packages questionr. Ces données possèdent à la fois des variables sur des carastéristiques socio-démographiques, des pratiques et des goûts, et propose une variable de pondération : poids.\n\n\n\nImportation des données d'exemples\n\nlibrary(questionr)\ndata(\"hdv2003\")\n\n\n\n\n\n\n\n\nid\nage\nsexe\nnivetud\npoids\noccup\n\n\n\n\n1\n28\nFemme\nEnseignement superieur y compris technique superieur\n2634.398\nExerce une profession\n\n\n2\n23\nFemme\nNA\n9738.396\nEtudiant, eleve\n\n\n3\n59\nHomme\nDerniere annee d'etudes primaires\n3994.102\nExerce une profession\n\n\n4\n34\nHomme\nEnseignement superieur y compris technique superieur\n5731.662\nExerce une profession\n\n\n5\n71\nFemme\nDerniere annee d'etudes primaires\n4329.094\nRetraite\n\n\n6\n35\nFemme\nEnseignement technique ou professionnel court\n8674.699\nExerce une profession\n\n\n\n\n\n\n\n\n\n\n\nObtenir une table automatique avec les tris à plat d’un grand nombre de variables\nCroiser ces variables avec une variable choisie, par exemple le sexe ou la qualification et obtenir :\n\nLes effectifs\nLes pourcentages lignes\nLes poucentages colonnes\nAjout d’un test du chi²\n\nUtiliser des pondérations\nGarder ou non les valeurs manquantes\nExporter le tableau obtenu (Par exemple : image ci-dessous)"
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#données-dexemples",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#données-dexemples",
    "title": "Fonction pour des tables automatiques",
    "section": "",
    "text": "Pour illustrer la mise en oeuvre de la fonction, on utilise les données d’exemples hdv2003 du packages questionr. Ces données possèdent à la fois des variables sur des carastéristiques socio-démographiques, des pratiques et des goûts, et propose une variable de pondération : poids.\n\n\n\nImportation des données d'exemples\n\nlibrary(questionr)\ndata(\"hdv2003\")\n\n\n\n\n\n\n\n\nid\nage\nsexe\nnivetud\npoids\noccup\n\n\n\n\n1\n28\nFemme\nEnseignement superieur y compris technique superieur\n2634.398\nExerce une profession\n\n\n2\n23\nFemme\nNA\n9738.396\nEtudiant, eleve\n\n\n3\n59\nHomme\nDerniere annee d'etudes primaires\n3994.102\nExerce une profession\n\n\n4\n34\nHomme\nEnseignement superieur y compris technique superieur\n5731.662\nExerce une profession\n\n\n5\n71\nFemme\nDerniere annee d'etudes primaires\n4329.094\nRetraite\n\n\n6\n35\nFemme\nEnseignement technique ou professionnel court\n8674.699\nExerce une profession"
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#objectifs",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#objectifs",
    "title": "Fonction pour des tables automatiques",
    "section": "",
    "text": "Obtenir une table automatique avec les tris à plat d’un grand nombre de variables\nCroiser ces variables avec une variable choisie, par exemple le sexe ou la qualification et obtenir :\n\nLes effectifs\nLes pourcentages lignes\nLes poucentages colonnes\nAjout d’un test du chi²\n\nUtiliser des pondérations\nGarder ou non les valeurs manquantes\nExporter le tableau obtenu (Par exemple : image ci-dessous)"
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#fonctionnement",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#fonctionnement",
    "title": "Fonction pour des tables automatiques",
    "section": "Fonctionnement",
    "text": "Fonctionnement\nOn utilise la fonction table_auto() qui ne fait partie d’aucun package, il faut donc la charger dans un premier temps dans R. Une fois la fonction chargée, il suffira de la lancer en renseignant les variables, et les options voulues (présence de valeurs manquantes, pondérations, exportation)"
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#paramètre-de-la-fonction",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#paramètre-de-la-fonction",
    "title": "Fonction pour des tables automatiques",
    "section": "Paramètre de la fonction",
    "text": "Paramètre de la fonction\n\n\n\n\n\n\n\nParamètre\nArgument\n\n\n\n\ndonnees\nUne base de données\n\n\nvars\nUn vecteur avec les différentes variables en lignes\n\n\nvar_crois\n\nSi vide : Tris à plat\nSi une variable : Tris croisés\n\n\n\ntable_type\n\nEffectifs : “eff”\nPourcentage ligne : “pct_ligne”\nPourcentage colonne : “pct_col”\n\n\n\nponder\nUne variable de pondération dans donnee\n\n\nval.manq\n“oui” ou “non”, garder ou non les valeurs manquantes\n\n\narrondi\nNombre de chiffre après la virgule\n\n\nsautdeligne\n“oui” ou “non”, insérer une ligne vide entre chaque variable\n\n\nexport_XLS\n“oui” ou “non”, si oui : création d’un fichier excel."
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#import-de-la-fonction-table_auto",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#import-de-la-fonction-table_auto",
    "title": "Fonction pour des tables automatiques",
    "section": "Import de la fonction table_auto()",
    "text": "Import de la fonction table_auto()\nPour l’instant la fonction ne se trouve pas dans un package, il faut donc la charger dans l’environnement global de R depuis GitHub en utilisant le code suivant.\n\n\n\nChargement de la fonction depuis Github\n\nsource(\"https://raw.githubusercontent.com/arnomuller/Fonction_R/main/table_auto/fonction_table_auto.R\")\n\n\n\nLe code de la fonction est disponible ici, si vous souhaitez lui apparter des modifications pour l’adapter à vos besoins."
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#choix-des-variables",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#choix-des-variables",
    "title": "Fonction pour des tables automatiques",
    "section": "Choix des variables",
    "text": "Choix des variables\nOn définit les variables à croiser :\n\n\n\nChoix des variables\n\nvars      &lt;- c(\"relig\",\"trav.imp\",\"trav.satisf\",\"hard.rock\",\n               \"lecture.bd\",\"peche.chasse\",\"cuisine\",\n               \"bricol\",\"cinema\",\"sport\")\n\n\nOn peut également définir ici la variable de poids et celle à croiser, ou le faire directement dans la fonction.\n\n# On croise avec la variable sexe\nvar_crois &lt;- \"sexe\"\n# Si pas de croisement écrire NULL\nvar_crois &lt;- NULL\n\n# Variable de pondération\nponder    &lt;- \"poids\"\n# Si pas de pondération :\nponder    &lt;- NULL"
  },
  {
    "objectID": "R/assist/posts/function_table_auto/fonction_table_auto.html#création-du-tableau-empilé",
    "href": "R/assist/posts/function_table_auto/fonction_table_auto.html#création-du-tableau-empilé",
    "title": "Fonction pour des tables automatiques",
    "section": "Création du tableau empilé",
    "text": "Création du tableau empilé\nEn lançant le code suivant, on crée le data.frame tabdesc.\n\n\n\nActivation de la fonction\n\ntable_auto(hdv2003,              # Base de données\n           vars,                 # Un vecteur avec les noms des variables\n           var_crois   = \"sexe\", # Variable à croiser, si NULL : tri à plat\n           table_type  = \"eff\",  # Type de table : \"eff\", \"pct_lign\", \"pct_col\"\n           ponder      = NULL,   # Variable de ponder. , si NULL: pas de poids\n           val.manq    = \"non\",  # Si \"oui\" avec valeurs manquantes\n           arrondi     = 4,      # Nb de chiffres après la virgule\n           sautdeligne = \"oui\",  # Sauter des lignes entre les variables\n           export_XLS  = \"non\")  # Si \"oui\" créer un excel : tableau_empilee\n\n\n\n\n\n\n\n\nVar\nLevels\nENSEMBLE\nHomme\nFemme\npvalue\nddl\ndanger\n\n\n\n\n\nENSEMBLE\n2000\n899\n1101\nNA\nNA\nNA\n\n\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nrelig\nPratiquant regulier\n266\n86\n180\n0,0000\n5\n0\n\n\nrelig\nPratiquant occasionnel\n442\n170\n272\n0,0000\n5\n0\n\n\nrelig\nAppartenance sans pratique\n760\n365\n395\n0,0000\n5\n0\n\n\nrelig\nNi croyance ni appartenance\n399\n210\n189\n0,0000\n5\n0\n\n\nrelig\nRejet\n93\n52\n41\n0,0000\n5\n0\n\n\nrelig\nNSP ou NVPR\n40\n16\n24\n0,0000\n5\n0\n\n\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\ntrav.imp\nLe plus important\n29\n13\n16\n0.0001\n3\n0"
  },
  {
    "objectID": "R/assist/posts/dhs/dhs.html",
    "href": "R/assist/posts/dhs/dhs.html",
    "title": "Statistiques descriptives à partir d’enquêtes DHS",
    "section": "",
    "text": "Fonctions utilisées dans la fiche\n\n\nPackages\nFonctions\n\n\n\n\nreadstata13\nread.dta13\n\n\nrio\nfactorize\n\n\ndyplyr\nmutate group by summerize\n\n\nquestionr\nfreq\n\n\nBase R\nstr - summary\nLes enquêtes Démographiques et de Santé (DHS) sont régulièrement utilisées par les chercheurs travaillant sur le continent africain, l’amérique centrale et du sud ou l’asie du sud.\nLes fichiers issus de questionnaires Ménages, Femmes et Hommes ont la même structure dans tous les pays participant à chaque phase de l’enquête : 400 enquêtes dans 90 pays en 2023. Les régles de recodage sont définies dans le Standard recode manuel DHS 6\nCet exemple s’inspire des fiches pédagogiques produites dans le cadre de l’école d’été du Collège International des Sciences Territoriales avec la lecture de fichiers téléchargés, l’identification des types de variables et la production d’indicateurs et de graphiques simples.\nDocumentation :\nInstallation des packages :\nFichiers à disposition :\nLes fichiers contiennent 10% des individus des tables téléchargées du site enquêtes DHS au format Stata (.dta) et rassemblent les réponses de l’enquête passée au Bénin en 2017 (vague 7).\nNous utilisons ici uniquement les fichiers niveau Ménages, niveau Femmes, et niveau Enfants de l’enquête passée au Bénin en 2017 (vague 7). Ces fichiers sont initialement au format Stata (.dta).\nOn va selectionner quelques variables à partir des fichiers initiaux."
  },
  {
    "objectID": "R/assist/posts/dhs/dhs.html#appel-des-packages",
    "href": "R/assist/posts/dhs/dhs.html#appel-des-packages",
    "title": "Statistiques descriptives à partir d’enquêtes DHS",
    "section": "Appel des packages",
    "text": "Appel des packages\n\nlibrary(readstata13)\nlibrary(rio)\nlibrary(dplyr)\nlibrary(questionr)\nlibrary(tidyverse)\nlibrary(esquisse)"
  },
  {
    "objectID": "R/assist/posts/dhs/dhs.html#afficher-le-contenu-des-tables",
    "href": "R/assist/posts/dhs/dhs.html#afficher-le-contenu-des-tables",
    "title": "Statistiques descriptives à partir d’enquêtes DHS",
    "section": "Afficher le contenu des tables",
    "text": "Afficher le contenu des tables\nPour rappel, la fonction str(matable) permet d’afficher le nombre d’observations et de variables d’une table R mais aussi son type qui conditionne l’utilisation de fonctions.\nUne variable qualitative peut être stockée en factor ou character et une variable numérique en integer pour des nombres entiers).\n\nstr(Be_Menages)\n\n'data.frame':   1416 obs. of  12 variables:\n $ hhid  : chr  \"       1  46\" \"       1 119\" \"       1 131\" \"       1 143\" ...\n $ hv000 : chr  \"BJ7\" \"BJ7\" \"BJ7\" \"BJ7\" ...\n $ hv001 : int  1 1 1 1 2 3 3 4 6 6 ...\n $ hv002 : int  46 119 131 143 25 11 47 149 37 63 ...\n $ hv003 : Factor w/ 10 levels \"incomplete household\",..: 5 2 5 2 2 2 5 5 5 2 ...\n $ hv024 : Factor w/ 12 levels \"alibori\",\"atacora\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ hv025 : Factor w/ 2 levels \"urban\",\"rural\": 2 2 2 2 2 2 2 2 2 2 ...\n $ hv230b: Factor w/ 2 levels \"water not available\",..: NA NA NA NA 1 NA NA 1 NA 1 ...\n $ hv227 : Factor w/ 2 levels \"no\",\"yes\": 2 2 1 1 2 1 2 2 2 2 ...\n $ hv219 : Factor w/ 2 levels \"male\",\"female\": 1 1 1 1 1 2 1 1 1 1 ...\n $ hv220 : Factor w/ 78 levels \"16\",\"17\",\"18\",..: 50 20 22 58 32 50 13 25 21 29 ...\n $ hv221 : Factor w/ 2 levels \"no\",\"yes\": 1 1 1 1 1 1 1 1 1 1 ...\n\n\nLa table contient 1416 observations et 12 variables. On dénombre 1416 ménages au Bénin.\nLa variable hhid (identifiant du ménage) est de type character (char), la variable hv001 (cluster number) est de type entier (int) et la variable hv003 (numéro du répondant) est de type facteur (Factor)."
  },
  {
    "objectID": "R/assist/posts/dhs/dhs.html#répartition-des-ménages",
    "href": "R/assist/posts/dhs/dhs.html#répartition-des-ménages",
    "title": "Statistiques descriptives à partir d’enquêtes DHS",
    "section": "Répartition des ménages …",
    "text": "Répartition des ménages …\n\nSelon le type de commune\n\nLa variable hv025 (milieu rural ou urbain) est une variable qualitative de type facteur (Factor) .\n\n# Comme la variable est de type Factor on peut utiliser la fonction summary qui va afficher les effectif\nsummary(Be_Menages$hv025)\n\nurban rural \n  616   800 \n\n# On utilise la fonction freq du package questionr pour afficher aussi les %\nfreq(Be_Menages$hv025, cum=F)\n\n        n    % val%\nurban 616 43.5 43.5\nrural 800 56.5 56.5\n\n\nOn trouve 800 Menages habitant en milieu rural, soit près de 57% des ménages interrogés au Bénin dans notre échantillon.\n\n…Selon le fait de posséder une moustiquaire\n\nOn prend la variable hv227:Has mosquito bed net for sleeping de la table Ménages pour calculer la répartition et faire le graphique associé\n\n\n\nRépartition\n\nfreq(Be_Menages$hv227, cum=F)\n\n\n       n    % val%\nno    89  6.3  6.3\nyes 1327 93.7 93.7\n\n\n\n\n\nGraphique\n\nggplot(Be_Menages) +\n  aes(x = hv227) +\n  geom_bar(position = \"dodge\", fill = \"#112446\") +\n  coord_flip() +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nPrès de 94% des ménages de notre fichier possèdent une moustiquaire pour dormir.\n\n…Selon l’accès à l’eau pour se laver les mains\n\nOn prend la variable hv230b (Presence of water at hand washing place) de la table Ménages\n\n\n\nRépartition\n\n# Répartition\nfreq(Be_Menages$hv230b, cum=F)\n\n\n                      n    % val%\nwater not available 441 31.1   57\nwater is available  333 23.5   43\nNA                  642 45.3   NA\n\n\n\n\n\nGraphique\n\nggplot(Be_Menages) +\n  aes(x = hv230b) +\n  geom_bar(position = \"dodge\", fill = \"#112446\") +\n  coord_flip() +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nParmi les répondants à cette question (près de 55% des ménages), seulement près d’un tiers a accès à l’eau pour se laver les mains.\n\n…Selon l’âge des chefs de ménage\n\nLa variable hv220 (age) est de type facteur, on peut calculer la répartition.\n\nfreq(Be_Menages$hv220,cum=T)\n\n            n   % val%  %cum val%cum\n16          2 0.1  0.1   0.1     0.1\n17          1 0.1  0.1   0.2     0.2\n18          2 0.1  0.1   0.4     0.4\n19          5 0.4  0.4   0.7     0.7\n20          6 0.4  0.4   1.1     1.1\n21          9 0.6  0.6   1.8     1.8\n22         17 1.2  1.2   3.0     3.0\n23         17 1.2  1.2   4.2     4.2\n24         17 1.2  1.2   5.4     5.4\n25         41 2.9  2.9   8.3     8.3\n26         17 1.2  1.2   9.5     9.5\n27         29 2.0  2.0  11.5    11.5\n28         49 3.5  3.5  15.0    15.0\n29         30 2.1  2.1  17.1    17.1\n30         55 3.9  3.9  21.0    21.0\n31         29 2.0  2.0  23.0    23.0\n32         52 3.7  3.7  26.7    26.7\n33         31 2.2  2.2  28.9    28.9\n34         30 2.1  2.1  31.0    31.0\n35         51 3.6  3.6  34.6    34.6\n36         18 1.3  1.3  35.9    35.9\n37         43 3.0  3.0  38.9    38.9\n38         28 2.0  2.0  40.9    40.9\n39         26 1.8  1.8  42.7    42.7\n40         53 3.7  3.7  46.5    46.5\n41         35 2.5  2.5  48.9    48.9\n42         32 2.3  2.3  51.2    51.2\n43         28 2.0  2.0  53.2    53.2\n44         18 1.3  1.3  54.4    54.4\n45         61 4.3  4.3  58.8    58.8\n46         21 1.5  1.5  60.2    60.2\n47         37 2.6  2.6  62.9    62.9\n48         17 1.2  1.2  64.1    64.1\n49         24 1.7  1.7  65.7    65.7\n50         25 1.8  1.8  67.5    67.5\n51         13 0.9  0.9  68.4    68.4\n52         27 1.9  1.9  70.3    70.3\n53         16 1.1  1.1  71.5    71.5\n54         11 0.8  0.8  72.2    72.2\n55         30 2.1  2.1  74.4    74.4\n56         17 1.2  1.2  75.6    75.6\n57         33 2.3  2.3  77.9    77.9\n58         17 1.2  1.2  79.1    79.1\n59          7 0.5  0.5  79.6    79.6\n60         31 2.2  2.2  81.8    81.8\n61         17 1.2  1.2  83.0    83.0\n62         20 1.4  1.4  84.4    84.4\n63         11 0.8  0.8  85.2    85.2\n64          3 0.2  0.2  85.4    85.4\n65         26 1.8  1.8  87.2    87.2\n66         13 0.9  0.9  88.1    88.1\n67         15 1.1  1.1  89.2    89.2\n68         19 1.3  1.3  90.5    90.5\n69         11 0.8  0.8  91.3    91.3\n70         26 1.8  1.8  93.1    93.1\n71         14 1.0  1.0  94.1    94.1\n72         10 0.7  0.7  94.8    94.8\n73          7 0.5  0.5  95.3    95.3\n74          4 0.3  0.3  95.6    95.6\n75         10 0.7  0.7  96.3    96.3\n76          5 0.4  0.4  96.7    96.7\n77          7 0.5  0.5  97.2    97.2\n78          6 0.4  0.4  97.6    97.6\n79          2 0.1  0.1  97.7    97.7\n80          9 0.6  0.6  98.4    98.4\n81          3 0.2  0.2  98.6    98.6\n82          3 0.2  0.2  98.8    98.8\n83          1 0.1  0.1  98.9    98.9\n84          1 0.1  0.1  98.9    98.9\n85          6 0.4  0.4  99.4    99.4\n86          1 0.1  0.1  99.4    99.4\n87          2 0.1  0.1  99.6    99.6\n88          1 0.1  0.1  99.6    99.6\n90          2 0.1  0.1  99.8    99.8\n92          2 0.1  0.1  99.9    99.9\n95          1 0.1  0.1 100.0   100.0\n97+         0 0.0  0.0 100.0   100.0\ndon't know  0 0.0  0.0 100.0   100.0\n\n\nLes modalités de la variable h220 sont ordonnées, le calcul des fréquences cumulées a un sens et on peut dire que la moité des chefs de ménages a moins de 42 ans."
  },
  {
    "objectID": "R/assist/posts/dhs/dhs.html#composition-des-ménages",
    "href": "R/assist/posts/dhs/dhs.html#composition-des-ménages",
    "title": "Statistiques descriptives à partir d’enquêtes DHS",
    "section": "Composition des ménages",
    "text": "Composition des ménages\nIci on se sert des informations des tables Femmes et Enfants pour calculer leur nombre dans les ménages de notre échantillon … On crée un identifiant ménage (hhid) pour chacune des tables. Et on ajoute ce nouvelle variable dans chacune des tables.\n\nNombre de femmes par ménage\n\nOn génère un compteur pour calculer le nombre de femmes par ménages (qui ont un identifiant de ménage identique): Nbfem. On ajoute cette nouvelle variable dans la table Femmes. Cette variable est une variable numérique de type integer (int) dans R. On peut alors calculer la répartition du nombre de femmes dans les menages.\n\n\n\ncréation de la variable nombre de femmes par ménage\n\nBe_Femmes2&lt;-Be_Femmes%&gt;% \n  mutate(hhid=paste(v001,v002,sep=\" \"))\n# On générère la variable nombreb de femmes par ménage : Nbfem\nBe_Femmes3=Be_Femmes2 %&gt;%\n  group_by(hhid) %&gt;%\n  summarise(Nbfem = n())\n\n\n\n\n\nRécupération de la variable Nbfem dans la table\n\n# On ajoute les variables de la table avec le nombre de femmes dans la table femme \nBe_Femmes22&lt;-Be_Femmes3 %&gt;%\n  left_join(Be_Femmes2,by=\"hhid\")\n\n\n\n# Si variable numérique\nsummary(Be_Femmes22$Nbfem)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  1.000   1.000   1.000   1.102   1.000   4.000 \n\n# Si variable discrète\ntable(Be_Femmes22$Nbfem)\n\n\n   1    2    3    4 \n1445  138    6    4 \n\n\nOn dénombre 1445 ménages composés d’une femme, 138 de 2 femmes et 10 ménages de 3 ou 4 femmes dans l’echantillon extrait de l’enquête passée au Bénin.\n\nNombre moyen d’enfants vivants dans les ménages\n\nOn peut calculer et représenter sur un graphique le nombre d’enfants vivants (v218:Number of living children)\n\nsummary(Be_Enfants$v218)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   2.000   3.000   3.491   5.000  10.000 \n\n\nParmi les enfants vivants de la table Enfants on trouve au minimum 0 enfants vivants et 10 au maximum. On trouve en moyenne 3,5 enfants vivants par ménages et la moitié des ménages enquêtés ont 3 enfants.\nOn peut visualiser ces statistiques sur un graphique de type Box-Plot. Le code ggplot a été récupéré à partir d’un graphique généré avec esquisse lien fiche\n\nggplot(Be_Enfants) +\n  aes(x = \"\", y = v218) +\n  geom_boxplot(fill = \"#526747\") +\n  theme_classic()"
  },
  {
    "objectID": "R/assist/posts/addins/addins.html",
    "href": "R/assist/posts/addins/addins.html",
    "title": "Produire des graphiques et recoder des variables sans écrire de code R",
    "section": "",
    "text": "Fonctions utilisées dans la fiche\n\n\nPackages\nFonctions\n\n\n\n\nesquisse\nggplot2\n\n\nquestionr\nirec\nDans cette fiche vous verrez comment utiliser des Addins associés à certains packages de R qui permettent de produire le code R de façon interactive pour :\nCes exemples s’inspire des fiches pédagogiques produites dans le cadre de l’école d’été du Collège International des Sciences Territoriales.\nLe fichier utilisé ici contient 10% des individus de la table Ménages extraite de l’enquête DHS passée au Bénin en 2017 (vague 7).\nDocumentation:\nInstallation des packages"
  },
  {
    "objectID": "R/assist/posts/addins/addins.html#chargement-des-données",
    "href": "R/assist/posts/addins/addins.html#chargement-des-données",
    "title": "Produire des graphiques et recoder des variables sans écrire de code R",
    "section": "Chargement des données",
    "text": "Chargement des données\nLorsque l’application est ouverte, on accède directement à la fenêtre de chargement des données. Ici, comme les données ont été chargée dans R, elles sont directement accessibles &lt;\\&gt;environnement.\n\nSélection et visualisation de la table à l’aide de l’onglet View.\n\nSous le nom de chaque variable, on peut voir son type R : integer, factor, character.\nOn peut visualiser les modalités associées aux variables avec le bouton Data (en bas de la fenêtre)."
  },
  {
    "objectID": "R/assist/posts/addins/addins.html#production-dun-graphique",
    "href": "R/assist/posts/addins/addins.html#production-dun-graphique",
    "title": "Produire des graphiques et recoder des variables sans écrire de code R",
    "section": "Production d’un graphique",
    "text": "Production d’un graphique\nLa fenêtre d’esquisse permet de choisir les données à représenter et propose un graphique adapté au type de la variable dans R. Ici une box-plot\n\nOn Sélectionne les variables par un glisser/déposer dans les zones correspondantes au paramétrage du graphique (x, y, fill, colors, size, … du package ggplot2).\nLe rôle de ces options sont données en cliquant sur le bouton display settings qui se trouve en haut à droite de la fenêtre principale.\n\nPour en savoir plus sur les graphiques à produire en fonction des données à représenter, on peut se reporter au site de Y. Holtz From data to Viz.\nPour l’exemple, on va représenter le nombre de ménages par pays d’enquête hv000 avec un graphique en barres.\n\nSi on souhaite modifier orienter les barres à l’horizontal (recommandé) on va dans l’onglet Plot options puis on coche Flip coordinate.\nOn utilise le bouton Plot options pour changer la disposition (ici barres horizontales).\n\nOn peut égalemet changer les titres du graphique dans l’onglet Ad Labels & Titles, et son apparence (couleurs, thème) dans l’onglet Appearance."
  },
  {
    "objectID": "R/assist/posts/addins/addins.html#exporter-le-code",
    "href": "R/assist/posts/addins/addins.html#exporter-le-code",
    "title": "Produire des graphiques et recoder des variables sans écrire de code R",
    "section": "Exporter le code",
    "text": "Exporter le code\nL’onglet Code affiche le code généré par l’application. On peut le récupérer par simple copier/coller\n\nComme l’interface ne permet pas de modifier la couleur du contour des barres, on peut le faire en modifiant légèrement le script. Après avoir collé le code du graphique dans un script, on ajoute par exemple à la fonction geom_bar() l’option color=\"black\"\n\nlibrary(ggplot2)\n\nWarning: le package 'ggplot2' a été compilé avec la version R 4.3.2\n\nggplot(P3_Menages) +\n  aes(x = hv000) +\n  geom_bar(fill = \"#FF6992\", color=\"black\") +\n  labs(\n    x = \"Enquête\",\n    y = \"Nombre de ménages\",\n    title = \"Ménages par pays et vagues d'enquête\",\n    caption = \"Source: DHS 2017\"\n  ) +\n  coord_flip() +\n  theme_light()\n\n\n\n\n\n\n\n\nL’animation qui suit résume les différentes étapes (cliquer sur l’image pour la faire redémarrer au début et l’agrandir)"
  },
  {
    "objectID": "Autres/assist/posts/social_embeds/social_embeds.html",
    "href": "Autres/assist/posts/social_embeds/social_embeds.html",
    "title": "Insertion d’une vidéo Youtube ou Viméo",
    "section": "",
    "text": "Liens\n\n\n\n\nExtension social-embeds\nExtensions Quarto disponibles\n\n\n\n\nInstallation de l’extension\nDans le terminal exécuter:\n\nquarto install extension sellorm/quarto-social-embeds\n\n\n\nInsertion d’une vidéo Youtube\n\nOn ajoute l’identifiant de la vidéo dans le code .\nPour la vidéo dont la cible affichée dans la barre d’adresse est watch?v=tlt0WGZz63Y, l’identifiant est tlt0WGZz63Y\n\nPar exemple pour la Présentation du package R.témis par M.Bouchet-Valat et B.Garnier\n\n\n\nInserer directement ce code dans la page\n\n{{&lt; youtube tlt0WGZz63Y &gt;}}\n\n\n\n\n\nInsertion d’une vidéo Viméo\nMême principe, on ajoute l’identifiant de la vidéo qui est affiché dans la barre d’adresse.\n\n\n\nInserer directement ce code dans la page\n\n{{&lt; vimeo 475084090 &gt;}}"
  },
  {
    "objectID": "Autres/assist/posts/remove_nul/remove_nul.html",
    "href": "Autres/assist/posts/remove_nul/remove_nul.html",
    "title": "Supprimer un fichier nul avec git",
    "section": "",
    "text": "Certains fichiers, en apparence vide de contenu, semblent non modifiable, et donc non supprimable. Cela empêche, entre autres, d’effacer un répertoire. C’est le cas des fichiers nul, qui sont créés assez régulièrement chez moi avec Quarto.\n\n\n\nImpossible de modifier le fichier\n\n\nOn peut nénmoins facilement les supprimer avec une installation de git sur son ordinateur [Intallation de git]\n\n\n\n\n\n\nA l’Ined\n\n\n\nGit est intégré à Applined, et peut donc être directement installé via cette application.\n\n\nSuppression du fichier\n\nDans le répertoire où se trouve ce type de fichier, fait un clic droit\nOuvrir la console: git bash here\nExécuter rm nul\n\n\n\n\nclic droit + ouvrir la console (git bash here) + rm nul\n\n\n\n\n\nLe fichier est supprimé\n\n\n\n\n\n\n\nImpossible de modifier le fichier\nclic droit + ouvrir la console (git bash here) + rm nul\nLe fichier est supprimé"
  },
  {
    "objectID": "Autres/assist/posts/output_scss/output_scss.html",
    "href": "Autres/assist/posts/output_scss/output_scss.html",
    "title": "Modification de l’apparence des outputs avec un fichier .scss",
    "section": "",
    "text": "Par défaut le rendu des outputs console bruts (theme: default) est le suivant:\n\n\nAvec un fichier .scss on peut modifier le rendu de cet output.\n\nUn fichier styles.scss est généré automatiquement à la création d’un projet\nPour une page simple, on peut le créer facilement facilement à partir d’un fichier de type texte, en le renommant avec l’extension .scss, par exemple styles.scss.\n\nOn ajoute des éléments de modification de l’apparence au fichier .scss\nOn indique dans le yaml de la page ou le _quarto.yml du projet qu’on applique ces modifications.\n\nModifications de l’output console dans un fichier .scss\n$code-block-stdoutcolor: #37424a;\n$code-block-stdoutcolor-light: rgba($code-block-stdoutcolor, 0.5);\n$code-block-stdoutcolor-lighter: rgba($code-block-stdoutcolor, 0.1);\n\n/*-- scss:rules --*/\n\n.cell-output-display pre, .cell-output-stdout pre {\n    background-color: $code-block-stdoutcolor-lighter !important;\n    border: 1.5px solid $code-block-stdoutcolor-light;\n    border-radius: .25rem;\n    border-left: 4px;\n    border-left-style: solid;\n    border-left-color: $code-block-stdoutcolor;\n    padding: .4em;\n    color: #37424a\n}\n\n\n.cell-output pre code {\n    background-color: transparent;\n}\nIci on a modifier la couleur du fond (ici un gris:#37424a), l’épaisseur du contour (plus importante à gauche), le radius des angles du contour etc…\nyaml de la page ou du template quarto.yml du projet\nPour le yaml d’une page simple avec le fichier styles.scss\n---\n\ntitle=\"Changement couleur output\"\n\nformat:\n  html:\n    theme: [default, style.scss]\n---\nAprès exécution du programme, le rendu de l’output est le suivant:\n\noptions(show.signif.stars=FALSE)\n\nsummary(lm(Sepal.Length~Petal.Length, data=iris))\n\n\nCall:\nlm(formula = Sepal.Length ~ Petal.Length, data = iris)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.24675 -0.29657 -0.01515  0.27676  1.00269 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)   4.30660    0.07839   54.94   &lt;2e-16\nPetal.Length  0.40892    0.01889   21.65   &lt;2e-16\n\nResidual standard error: 0.4071 on 148 degrees of freedom\nMultiple R-squared:   0.76, Adjusted R-squared:  0.7583 \nF-statistic: 468.6 on 1 and 148 DF,  p-value: &lt; 2.2e-16\n\n\n\n\n\n\n\n\nExportation pdf\n\n\n\nSi le document est exporté en PDF avec l’option formats dans le yaml, les modifications ne sont pas prises en compte."
  },
  {
    "objectID": "Autres/assist/posts/gitlabpage/gitlabpage.html",
    "href": "Autres/assist/posts/gitlabpage/gitlabpage.html",
    "title": "Déployer un contenu html sur gitlab [maj]",
    "section": "",
    "text": "Remarque décembre 2023\n\n\n\n\nEn pleine rédaction d’un support se formation, un tutoriel plus complet a été rédigé. Un lien sera mis prochainement.\nPar rapport aux captures faites il y a quelques mois, le yaml de configuration généré par gitlab avec le template html du projet a été modifié (visiblement ce sont des changements réguliers sur gitlab). Mais visiblement pas d’impact sur la suite des manipulations.\nIl est possible lors du déploiement de la page qu’une erreur 404 s’affiche avec une adresse de site un peu bizarre. Si c’est le cas, pensez à nettoyer l’historique du navigateur, cela devrait remettre les choses dans l’ordre.\nJ’ai testé le déploiement d’un contenu assez enrichi, et tout est ok avec Quarto [lien]\nVisiblement Posit (ex Rstudio) n’incite pas à l’utilisation de Gitlab pour le déploiement de la documentation, il semble impossible d’insérer un icône gitlab avec le lien du dépôt sur la navbar ou la sidebar. J’ai ajouté comme j’ai pu le lien du dépôt gitlab sur le support figurant en lien dans le point précédent.\nPrérequis:"
  },
  {
    "objectID": "Autres/assist/posts/gitlabpage/gitlabpage.html#générer-sur-gitlab-un-projet-pour-déployer-du-contenu-html",
    "href": "Autres/assist/posts/gitlabpage/gitlabpage.html#générer-sur-gitlab-un-projet-pour-déployer-du-contenu-html",
    "title": "Déployer un contenu html sur gitlab [maj]",
    "section": "Générer sur Gitlab un projet pour déployer du contenu html",
    "text": "Générer sur Gitlab un projet pour déployer du contenu html\n\n\n\n\n\n\n\n\n\n\n1. Créer un nouveau projet\n\n\n\n\n\n\n\n2. Créer un projet à partir d’un template\n\n\n\n\n\n\n\n3. Sélectionner le template html\n\n\n\n\n\n\n\n\n\n4. Paramétrer et créer le projet\n\n\n\n\n\n\nEn haut à droite cliquer sur New project\nCliquer sur Create from template\nSélectionner le template Pages/Plain HTML en cliquant sur Use template\nParamétrer et créer le projet:\n\nDonner un nom au projet qui s’ajoutera au nom de domaine\nVous pour modifier le nom de domaine (voir la fenêtre ouverte dans l’image)\nVérifier que le projet est de type public (visibility levels) si vous le souhaitez"
  },
  {
    "objectID": "Autres/assist/posts/gitlabpage/gitlabpage.html#générer-le-template-de-déploiement-dune-page-html",
    "href": "Autres/assist/posts/gitlabpage/gitlabpage.html#générer-le-template-de-déploiement-dune-page-html",
    "title": "Déployer un contenu html sur gitlab [maj]",
    "section": "Générer le template de déploiement d’une page html",
    "text": "Générer le template de déploiement d’une page html\n\n\n\n\n\n\n\n\n\n\n1. Ouvrir la page pipelines et lancer le job\n\n\n\n\n\n\n\n2. Exécuter le job associé à Pages/Plain HTML\n\n\n\n\n\n\n\n3. Déployer la page associer au template\n\n\n\n\n\n\n\n\n\n4. Résumé du job\n\n\n\n\n\n\n\n5. Visualiser la page test (1)\n\n\n\n\n\n\n\n6. Visualiser la page test (2)\n\n\n\n\n\n\nDans la liste de navigation à gauche sélectionner Build et cliquer sur Pipeline. Cliquer en haut à gauche sur le bouton Run pipeline.\nCliquer de nouveau sur le bouton Run pipeline.\nCliquer sur pages.\nUne page résumant les opérations et indiquant que tout s’est bien déroulé s’affiche.\nDans la liste de navigation à gauche, aller sur Deploy et cliquer sur pages.\n\nVous pouvez décocher use unique domain pour réduire la longueur du nom de domaine.\nCliquer sur le lien qui a été généré.\n\n\nEn retournant sur le projet (ici tuto_assistools) Vous avez tous les fichiers qui vous permettrons de créer un projet avec Quarto et déployer le notebook ou le site sur gitlab.\n\n\n\n\n\n\nImportant\n\n\n\n\nNe pas supprimer ou modifier le fichier `gitlab-ci.yml lorsque, comme moi, vous n’y comprenez strictement rien.\nVous pouvez surpprimer le répertoire public ou les fichiers qu’il contient, mais je conseille de faire ceci sur le projet en local.\n\n\n\n\nVous pouver maintenant récupérer l’adresse du projet en cliquant sur le bouton clone pour créer votre projet de notebook ou site avec Quarto."
  },
  {
    "objectID": "Autres/assist/posts/gitlabpage/gitlabpage.html#avec-quarto",
    "href": "Autres/assist/posts/gitlabpage/gitlabpage.html#avec-quarto",
    "title": "Déployer un contenu html sur gitlab [maj]",
    "section": "Avec Quarto",
    "text": "Avec Quarto\n\nCréer un projet en mode VERSION CONTROL et utiliser le lien récupéré sur gitlab (bouton clone).\nMême pour un simple notebook (une page html) il vous faudra un fichier de configuration _quarto.yml:\n\nSoit on le génère à partir d’un fichier texte.\nSoit on récupère un _quarto.yml existant.\n\nDans le fichier _quarto.yml, il vous faudra changer le répertoire de destination des fichiers d’affichage du notebook ou du site, qui doit s’appeler public.\n\nPar défaut Quarto génère un répertoire de destination appelé _site. Pour changer le répertoire: output_dir: public.\n\n\nA minima pour un notebook, votre fichier _quarto.yml devra comporter les élèments suivants:\nproject:\n  type: website\n  output-dir: public\n\nVous pouvez supprimer les fichiers se trouvant dans le répertoire public (page html test).\nLe nom du fichier .qmd du notebook ou de la page d’accueil du site doivent être nommés index.qmd.\nUne fois la compilation de la page ou du site effectuée, on peut mettre à jour la page par defaut générée sur gitlab: git add . + renseigner le commit + push.\n\n\n\n\n\n\n\ngitignore\n\n\n\nRappel: il est fortement déconseillé de synchroniser les dépôts sans mettre une exception sur les bases de données utilisées. On fait cela simplement dans le fichier .gitignore, en ajoutant par exemple une exception automatique par type de fichier. Si on veut exclure les fichiers de type csv, on ajout au fichier .gitignore:\n*.csv\n\n\nUne fois synchronisé:\n\nLe projet tuto_assistools sur gitlab\nLa page html déployée\n\n\n\n\n\n\n1. Créer un nouveau projet\n2. Créer un projet à partir d’un template\n3. Sélectionner le template html\n4. Paramétrer et créer le projet\n1. Ouvrir la page pipelines et lancer le job\n2. Exécuter le job associé à Pages/Plain HTML\n3. Déployer la page associer au template\n4. Résumé du job\n5. Visualiser la page test (1)\n6. Visualiser la page test (2)"
  },
  {
    "objectID": "Autres/assist/posts/annotation/annotation.html",
    "href": "Autres/assist/posts/annotation/annotation.html",
    "title": "Commenter des lignes de codes",
    "section": "",
    "text": "A la suite d’une ligne de code on indique le numéro de l’annotation:\n\nligne de code    #&lt;1&gt;\nligne de code    #&lt;2&gt;\n\nA la suite du bloc, on commente chaque annotation:\n\n\nCommentaire annotation 1\n\n\nCommentaire annotation 2 etc…\n\n\n\n```r \n# Dans le bloc de codes\nlibrary(readr)                                                                                                    # &lt;1&gt;\nlibrary(survival)                                                                                                 \nlibrary(survminer)                                                                                                \n                       \ndf &lt;- read.csv(\"https://raw.githubusercontent.com/mthevenin/analyse_duree/master/bases/transplantation.csv\")      # &lt;2&gt;\n\nfit &lt;- survfit(Surv(stime, died) ~ 1, data = df )                                                                 # &lt;3&gt;\n\nggsurvplot(fit, conf.int = TRUE, risk.table = TRUE)                                                               # &lt;4&gt;\n\n```\n# Dans le corp du document .qmd à la suite du bloc\n\n1. Chargement des packages\n2. Chargement de la base\n3. Calcul des estimateurs de Kaplan-Meier\n4. Graphique de la fonction de survie avec `ggsurvplot`\nDonne le rendu suivant:\n\n1library(readr)\nlibrary(survival)                                                                                                 \nlibrary(survminer)                                                                                                \n                       \n2df &lt;- read.csv(\"https://raw.githubusercontent.com/mthevenin/analyse_duree/master/bases/transplantation.csv\")\n\n3fit &lt;- survfit(Surv(stime, died) ~ 1, data = df )\n\n4ggsurvplot(fit, conf.int = TRUE, risk.table = TRUE)\n\n\n1\n\nChargement des packages\n\n2\n\nChargement de la base\n\n3\n\nCalcul des estimateurs de Kaplan-Meier\n\n4\n\nGraphique de la fonction de survie avec ggsurvplot\n\n\n\n\n\n\n\n\n\n\n\nPar défaut, les commentaires s’affichent en dessous du bloc. Deux autres options sont disponibles, qui affichent le commentaire à droite de chaque ligne: une en passant sur la ligne( code-annotations: over) et une en cliquant sur la ligne code-annotations: select).\n---\ntitle: \"titre page\"\ncode-annotations: select\n---\n\nEn savoir plus"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Présentation",
    "section": "",
    "text": "Contributions par ordre alphabétique:\n\nElodie Baril  \nArnaud Bringé \nCoralie Cottet \nBénédicte Garnier  \nArno Mulller  \nMarc Thévenin  \n\nMaintenance du support: Marc Thévenin"
  },
  {
    "objectID": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html",
    "href": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html",
    "title": "Modifier la couleur d’un texte ou d’un paragraphe",
    "section": "",
    "text": "Ce document n’est pas une présentation générale des possibilité offertes par l’utilisation des variables SASS avec un fichier de type .scss. Cela viendra, Quarto ayant intégré à son système la possibilité de modifier de manière ssez poussée le thème sélectionnée. On ne regardera ici que les éléments relatifs à la modification des couleurs d’un texte."
  },
  {
    "objectID": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#balise-html-brute",
    "href": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#balise-html-brute",
    "title": "Modifier la couleur d’un texte ou d’un paragraphe",
    "section": "Balise html brute",
    "text": "Balise html brute\nAvec de l’html brut, on modifie la couleur d’un texte à l’aide d’une balise span. On utilisera les attributs color pour la couleur du texte, et background-color pour la modification de la couleur du fond.\nJe veux que TEXTE soit en rouge\nJe veux que &lt;span style=\"color:red\"&gt; TEXTE&lt;/span&gt; soit en rouge.\nRésultat: Je veux que TEXTE soit en rouge.\nJe veux que &lt;span style=\"color:red; background-color:yellow\"&gt; TEXTE&lt;/span&gt; soit en rouge sur fond jaune\nRésultat: Je veux que TEXTE soit en rouge sur fond jaune."
  },
  {
    "objectID": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#ajouter-directement-un-style-css-dans-le-fichier-quarto",
    "href": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#ajouter-directement-un-style-css-dans-le-fichier-quarto",
    "title": "Modifier la couleur d’un texte ou d’un paragraphe",
    "section": "Ajouter directement un style css dans le fichier Quarto",
    "text": "Ajouter directement un style css dans le fichier Quarto\nOn définit le style, dans une classe appelée ici .text-red\n&lt;style&gt;                                                      \n .text-red {\n        color: red;\n      }     \n&lt;/style&gt;\n\nEt on va appliquer ce style au texte Soit avec la nouvelle syntaxe Quarto [TEXTE]{style}\n Je veux que [TEXTE]{.text-red} soit en rouge\nRésultat: Je veux que TEXTE soit en rouge\n\n\n\n\n\n\nChangement de la couleur d’un paragraphe ou d’un texte long\n\n\n\nLa méthode précédente, qui se substitue à une balise html span, est pratique pour un mot ou une phrase que l’on souhaite mettre en avant. Pour un paragraphe il est préférable d’utiliser l’équivalent Quarto d’une balise div, ouverte et fermée avec ::: :\n::: {.text-red}\n  Le formatage d'un document utilisant du markdown ne permet pas de modifier à la volée la couleur d'un mot ou d'un texte. \n  Classiquement on  utilise soit un balisage html classique, soit une définition d'un style qui sera affectée à du texte, directement dans un document ou dans un fichier .css. \n  On peut encore améliorer  la définition et l'utilisation des styles dans un fichier .scss à l'aide de variables dites SASS.\n:::\nRésultat:\n\nLe formatage d’un document utilisant du markdown ne permet pas de modifier à la voler la couleur d’un mot ou d’un texte.\nClassiquement, on utilise soit un balisage html classique, soit une définition d’un style qui sera affectée à du texte, directement dans un document ou dans un fichier .css.\nOn peut encore améliorer la définition et l’utilisation des styles dans un fichier .scss à l’aide de variables dites SASS.\n\n\n\n\n\n\n\n\n\nDéfinition d’une couleur à la volée\n\n\n\nOn est pas obligé ici de définir un style préalable avec un nom spécifique. Si le changement de couleur intervient rarement ou une seul fois, on peut également changer la couleur avec\nJe veux que [TEXTE]{style=\"color: red\"} soit en rouge \nRésultat: Je veux que TEXTE soit en rouge"
  },
  {
    "objectID": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#ajouter-un-style-à-un-fichier-css",
    "href": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#ajouter-un-style-à-un-fichier-css",
    "title": "Modifier la couleur d’un texte ou d’un paragraphe",
    "section": "Ajouter un style à un fichier css",
    "text": "Ajouter un style à un fichier css\nPour ne pas alourdir le fichier .qmd, il est préférable de définir les styles dans un fichier .css. Il s’agit d’un simple fichier texte que l’on peut directement générer avec nouveau fichier. Dans un projet (toujours conseillé), un fichier vide style.css est directement généré1.\n\nDans le yaml de la page (ou le _quarto.yml du projet)\n\n---\ntitle: \"Utilisation d'un fichier css\"\nformat: \n  html:\n    css: style.css\n---\n\nPour définir les styles dans un fichier css, il n’y a pas besoin de la balise style\n\n\n.text-indigo {\n        color: #6610f2;\n      }  \nDans le document Quarto:\nJe veux que [TEXTE]{.text-indigo} soit en indigo \nRésultat: Je veux que TEXTE soit en indigo\n\n\n\n\n\n\nAjouter des classes et des attributs\n\n\n\nAjout d’un attribut\nSans définir une nouvelle classe, on peut ajouter un attribut à ce type de formatage. Par exemple, on souhaite mettre une couleur de fond avec l’attribut background-color: pink.\nJe veux que [TEXTE]{.text-indigo style=\"background-color:pink\"} soit en indigo avec un fond rose\nRésultat: Je veux que TEXTE soit en indigo avec un fond rose\nAjout de classes\nDans le fichier css on génère une nouvelle classe indiquant un fond de type jaune.\n.bgtext-yellow {\n        background-color: #f4bd61;\n      }     \nOn peut alors simplement ajouter cette nouvelle classe bgtext-yellow à celle qui demande une couleur indigo\nJe veux que [TEXTE]{.text-indigo .bgtext-yellow} soit en indigo avec un fond jaune \nRésultat: Je veux que TEXTE soit en indigo avec un fond jaune\nOn verra en fin de fiche, en habillant un paragraphe, que l’on peut ajouter une classe à la définition d’un autre attribut. Par exemple la classe .text-indigo pour définir la couleur d’un contour."
  },
  {
    "objectID": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#générer-les-attributs-dun-thème-dans-un-fichier-scss",
    "href": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#générer-les-attributs-dun-thème-dans-un-fichier-scss",
    "title": "Modifier la couleur d’un texte ou d’un paragraphe",
    "section": "Générer les attributs d’un thème dans un fichier scss",
    "text": "Générer les attributs d’un thème dans un fichier scss\n\nPour un contenu html Quarto comme Rmarkdown affecte un habillage (thème), par défaut ou choisit dans la liste des 26 thèmes libres de type bootstrap2. Pour chaque thème, il est possible de récupérer l’ensemble des fichiers source permettant d’affecter le thème choisi au contenu html (cliquer sur download).\nLorsqu’on génère un projet Quarto, un fichier vide style.scss est automatiquement créer. Si on génère un simple document de type notebook hors projet, il suffit de créer un simple fichier texte et l’enregistrer avec l’extension .scss.\nDéfinir les styles à partir d’un fichier .scss facilite l’affectation d’attributs à des classes en indiquant en amont les éléments tels que les couleurs, mais également des épaisseurs, des marges …..\nCes définitions préalables sont appelées variables SASS3, que l’on peut soit générer facilement: $couleur1=red; ou utiliser les couleurs du thème choisi.\n\nIl me semble préférable pour conserver l’homogénéité de l’habillage du document d’utiliser les couleurs prédéfinies du thème sélectionné\nOn peut peut récupérer facilement ces couleurs sur le site bootswatch comme indiquer plus haut\nOn peut récupérer le squelette d’un fichier .scss pour les 26 à cette adresse [fichiers scss des 26 thèmes pour les couleurs\n\nUne fois dans Rstudio, dans le fichier scss comprend:\n\nLa définition des attribus de type couleur\nLes affectations des couleurs dans des classes\n\n\nDéfinition des couleurs sous forme de variables SASS\n\nLes échelles de gris de blanc à noir (11 couleurs) et 10 couleurs de base. Les noms des variables sont identiques d’un thème à l’autres, seuls les codes couleurs changent\nUne première affectation de ces couleurs à 7 autres variables SASS: $primary, $secondary, $success, $info, $warning, $danger, $light, $dark.\n\nOn peut bien évidemment ajouter de nouvelles variables ou modifier l’affectarion, par exemple la couleur $teal au lieu de $green pour la variable $success\n\n\n\nCouleur SASS du thème default\n\n\nAffectation des couleurs sous forme de variable SASS à une classe\nToutes les définitions se font en tête de fichier et la partie réservées aux affectations à des classes doit être impérativement précédée par:\n/*-- scss:rules --*/\nOn peut alors affecter les variables SASS aux 7 classes de couleurs du thème à l’aide d’un style css\n\n\n\nAffectation des couleurs à une classe\n\n\nSi on se centente d’utiliser ce squelette de sccs, il n’y a rien eu à faire jusqu’à ce stade.\nAppel du fichier scss dans le document quarto\nComme pour un fichier css, il faut indiquer dans le yaml de la page ou du projet Quarto l’utilisation de ce fichier.\n\nAvec le thème par défaut et en utilisant le fichier style_default.scss dans mon dépôt github:\n\nformat: \n  html:\n    css: style.css\n    \ntheme:\n  - style_default.scss\n\nEn utilisant un autre thème bootstrap, par exemple lux\n\nformat: \n  html:\n    css: style.css\n    \ntheme:\n  - lux\n  - style_lux.scss\nOn a plus qu’à appliquer une des couleurs du thème au texte:\nJe veux utiliser la couleur DANGER à mon texte\nPour les sept couleurs de base du thème lux (attention 2 sont blanches, j’ai donc ajouté un fond):\n\n\nCouleur PRIMARY\nCouleur SECONDARY\nCouleur SUCCES\nCouleur INFO\nCouleur WARNING\nCouleur DANGER\nCouleur LIGHT\nCouleur DARK\n\n\nAttribus supplémentaire à l’aide des variables SASS et limite sur les couleurs de fond\nA la volée on peut vouloir également ajouter des attribus supplémentaires au texte.\nOn remarque que la couleur light est vraiment très très light (pour ne pas dire invisible). On peut donc vouloir ajouter une couleur de fond, celle définie avec la variable $dark. En css l’attribut est background-color.\nLes classes de couleur définies dans le fichier scss ne s’applique pas au couleur de fond. Il font donc soit ajouter manuellement le code couleur correspondant à l’attribut dark, ou ajouter une ou plusieurs classes supplémentaires aux fichier scss (préférable).\nSi on ajoute la classe bg-dark au fichier scss\n// Ajout classe bg-dark pour le background du text dans style_default.scss\n\n.bg-dark{background-color: $dark}\nOn va mettre le fond dark à la couleur light\nPour aller un peu plus loin\nSi on souhaite améliorer l’habillage du texte, avec par exemple une légère marge à gauche et à droite du texte ou adoucir l’angle du cadre, on peut utiliser les attributs padding-left, padding-right, border-radius. Ces attributs peuvent être ajouté à la volée ou paramétré dans le fichier scss, toujours à l’aide de variables SASS.\n....[Amélioration de l'habillage]{.light .bg-dark style=\"padding-left:5px; padding-right:5px; border-radius:10px\"}...\n….Amélioration de l’habillage…\nSi on souhaite ajouter un contour, on peut ajouter des attributs comme border (épaisseur du trait) et border-style:solid. On inversera ici la couleur du texte et du fond après avoir créer une classe bg-light\n....[Amélioration de l'habillage]{.dark .bg-light style=\"border-radius:10px; padding-left:5px; padding-right:5px; border:1px; border-style:solid\"}...\n….Amélioration de l’habillage…\n\n\n\n\n\nCouleur SASS du thème default\nAffectation des couleurs à une classe"
  },
  {
    "objectID": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#footnotes",
    "href": "Autres/assist/posts/couleur_texte_scss/couleur_texte_scss.html#footnotes",
    "title": "Modifier la couleur d’un texte ou d’un paragraphe",
    "section": "Notes de bas de page",
    "text": "Notes de bas de page\n\n\nOn peut le nommer à sa guise↩︎\nle thème par défaut n’est pas dans la liste, mais il a récupéreé↩︎\nOui je sais si on a travaillé avec Sas cela peut porter à confusion, d’autant que la syntaxe de ces variables ressemblent à s’en méprendre aux macro variables de cette application↩︎"
  },
  {
    "objectID": "Autres/assist/posts/git_rstudio/git_rstudio.html",
    "href": "Autres/assist/posts/git_rstudio/git_rstudio.html",
    "title": "Rstudio et Git[hub/lab]: l’essentiel",
    "section": "",
    "text": "Prérequis:\n\nInstallé l’application git (https://git-scm.com/). A l’Ined elle peut être directement installée via applined\nAvoir un compte github (https://github.com/) ou gitlab (https://about.gitlab.com/)\n\nFormation Git: https://learngitbranching.js.org/?locale=fr_FR\n\n\n\n\n\n\nDébut de l’animation\n\n\n\nCliquer sur l’animation pour la faire redémarrer au début.\n\n\n\nCréation d’un dépôt Git\n\nLa méthode de clônage du dépôt montré ici utilise un lien https. Il est préférable de sécuriser les opérations de synchronisation avec une clé SSH. Elle peut être générée dans Rstudio (tools=&gt;global options=&gt;git/svn) et appliquée dans son compte git (dans github aller dans les settings de son profile puis dans “SSH and GPH keys”) [Oui…Faire un tuto là dessus].\nLe dépôt qui a été généré est de type public, on peut le créer en mode privé.\nSi on associe le dépôt à un projet Rstudio, il n’est pas utile de générer un fichier .gitignore car il sera automatiquement ajouté à la création du projet [indique les fichiers ou les types de fichiers qui ne seront pas synchronisés]\nOn récupère l’adresse du dépôt en allant sur le bouton &lt;&gt; clone\n\n\n\n\nCréation d’un projet Rstudio avec clônage du dépôt\n\n\n\nAjout d’un fichier dans le projet et l’envoyer dans le dépôt distant\nPetite remarque avec Quarto: éviter de faire un render d’un fichier .qmd qui n’est pas associé au projet actif de la session.\n\nLes opérations git effectuée sur le terminal sont a minima (git help).\n\ngit status permet, comme son nom l’indique, d’afficher les modifications apparues dans le projet depuis la dernière synchronisation. Optionnel, sans conséquence sur la synchronisation.\ngit add .: on peut sélectionner des fichiers particuliers, l’ajout de . permet de sélectionné l’ensemble des fichiers affichés avec git status.\nLe commit (commentaire) semble obligatoire dans rstudio. On peut le faire dans le terminal, mais je préfère aller dans la fenêtre commit accessible dans l’onglet git (en haut à droite de l’interface).\nUne fois le commentaire réalisé on peut envoyer les fichiers dans le dépôt en cliquant sur push ou dans le terminal exécuter git push\n\n\n\n\nEnvoyer des fichiers dans le dépôt alors qu’il a été modifié en amont\nSi le dépôt git a été modifié, par soit même ou par une personne associée au projet, on ne peut pas transférer des fichiers vers le dépôt à partir de son répertoire en local. On doit synchroniser le répertoire et le dépôt distant en faisant un pull dans l’onglet git ou dans le terminal avec git pull."
  },
  {
    "objectID": "Autres/assist/posts/quarto_v14/quarto_v14.html",
    "href": "Autres/assist/posts/quarto_v14/quarto_v14.html",
    "title": "Version 1.4 de Quarto",
    "section": "",
    "text": "[Téléchargement et notes de version]\nLes quelques ajouts que j’ai repéré après un premier rapide coup d’oeil."
  },
  {
    "objectID": "Autres/assist/posts/quarto_v14/quarto_v14.html#lightbox",
    "href": "Autres/assist/posts/quarto_v14/quarto_v14.html#lightbox",
    "title": "Version 1.4 de Quarto",
    "section": "Lightbox",
    "text": "Lightbox\n\nL’indispensable option lightbox qui permet d’aggrandir des images a été incluse au logiciel. Il n’est plus nécessaire d’installer l’extension.\nSi l’extension a déjà utilisée, elle fonctionne toujours. Un message informe que lightbox a été ajouté à Quarto.\nDoc: https://quarto.org/docs/prerelease/1.4/lightbox.html"
  },
  {
    "objectID": "Autres/assist/posts/quarto_v14/quarto_v14.html#format-dashboard",
    "href": "Autres/assist/posts/quarto_v14/quarto_v14.html#format-dashboard",
    "title": "Version 1.4 de Quarto",
    "section": "Format Dashboard",
    "text": "Format Dashboard\n\nDoc: https://quarto.org/docs/dashboards/"
  },
  {
    "objectID": "Autres/assist/posts/quarto_v14/quarto_v14.html#format-manuscript",
    "href": "Autres/assist/posts/quarto_v14/quarto_v14.html#format-manuscript",
    "title": "Version 1.4 de Quarto",
    "section": "Format Manuscript",
    "text": "Format Manuscript\n\nA tester rapidement, et faire une fiche dédiée.\nSous un format projet, permet d’associer à un article sans bloc de codes, les notebooks associés.\nDoc: https://quarto.org/docs/manuscripts/"
  },
  {
    "objectID": "Autres/assist/posts/quarto_v14/quarto_v14.html#cross-reference-des-callouts",
    "href": "Autres/assist/posts/quarto_v14/quarto_v14.html#cross-reference-des-callouts",
    "title": "Version 1.4 de Quarto",
    "section": "Cross reference des callouts",
    "text": "Cross reference des callouts\n\nOn peut appeler un encadré informatif tout au long d’un document (lien). Très utile. Par exemple on met un warning dans une section et on peut rappeler ce warning plus tard dans le document.\n\nDoc: https://quarto.org/docs/authoring/cross-references-callouts.html#tip-example"
  },
  {
    "objectID": "Autres/assist/posts/self_contained/self_contained.html",
    "href": "Autres/assist/posts/self_contained/self_contained.html",
    "title": "Transmettre un fichier html sans le répertoire *_html_libs",
    "section": "",
    "text": "Par défaut, en générant une simple page html de type notebook avec quarto, un répertoitre nomfichier_html_files est également créer.\nPar exemple on génère le fichier .qmd, enregistré sous le nom default.qmd. Le répertoire default_html_files est également généré lors de la compilation en html de la page:\n\nLe rendu, conforme aux attentes, est le suivant:\n\nSi on souhaite déplacer le fichier default.html seul, le répertoire default_html_files le suivra. Même chose si on supprime le fichier html, le répertoire disparait également.\n\nAinsi, si on transmet seulement le fichier default.html, par exemple par mail, le rendu n’incorpera pas les éléments de styles et les éventuelles images présentes dans le répertoire.\n\nSolution\nAjouter l’option self-contained= true au yaml (métadonnées) de la page\n\n---\ntitle: \"html: self-contained\"\n\nformat: \n  html: \n    self-contained: true\n---\nLe répertoire associé n’est plus généré lors du render, et tous les éléments qu’il comporte sont, comme sont nom l’indique, contenu dans la page html.\n\nRemarque: la taille du fichier html est bien évidemment plus élevée. Avec ce court exemple 938ko avec l’option self_contained contre 22ko avec le répertoire associé."
  },
  {
    "objectID": "Autres/assist/posts/whispers/whisper.html",
    "href": "Autres/assist/posts/whispers/whisper.html",
    "title": "Vérifier l’installation de ffmpeg pour utiliser Whisper [Maj]",
    "section": "",
    "text": "Première version de la fiche: 29 Juin 2023\nMaj 20 octobre 2023: problème de compatibilité entre les dernières versions de Python et Whisper\n\n\n\n\n\n\n\nCompatibilité entre les versions de Python et Whisper\n\n\n\nLors d’une assistance d’installation (10-10-23), il est apparu que la dernière version de python 1.12 n’était pas compatible avec la dernière version de Whisper. Cela sera certainement résolu prochainement, mais si un message d’erreur apparait lors de l’importation de Whisper import whisper,\nPour cette fiche, la version de Python utilisée est la 1.10. Lors de l’assistance d’installation en octobre nous avons donc du installer la version de Python 1.10.\nVous pouvez indiquer la présence de message d’erreur lors de l’importation de la librarie dans la zône de discussion.\n\n\n\nTutoriel d’installation de whisper\nMessage d’erreur indiquant un problème d’installation de ffmpeg: FileNotFoundError: [WinError 2] Le fichier spécifié est introuvable\n[MAJ 20 octobre 2023] Pour installer ffmpeg, je conseille de récupérer directement l’archive avec les exécutables, par exemple: ffmpeg-git-essentials.7z.ver .sha256\nVérifier la bonne installation de ffmpeg:\n\nOuvrir l’invite de commande windows (taper cmd dans la barre de tâche)\ntaper ffmpeg dans la console\nSi le message renvoyé indique que ffmpeg n’est pas reconnu en tant que commande interne, soit l’encodeur n’est pas installé, soit il est installé mais le chemin d’accès n’a pas été ajouté aux variables d’environnement.\npour ajouter une variable d’environnement:\n\n\n\n\nVérifier de nouveau la bonne installation de ffmpeg (relancer l’invite de commande windows avant)\n\n\nimport whisper\n\n\nmodel = whisper.load_model(\"base\")\nresult = model.transcribe(\"C:/Users/thevenin_m/Desktop/mlk.mp3\",  verbose = True)\n\nC:\\Users\\thevenin_m\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\whisper\\transcribe.py:114: UserWarning:\n\nFP16 is not supported on CPU; using FP32 instead\n\n\n\nDetecting language using up to the first 30 seconds. Use `--language` to specify the language\nDetected language: English\n[00:00.000 --&gt; 00:10.880]  I have a dream that one day this nation will rise up, live out the true meaning of its\n[00:10.880 --&gt; 00:12.800]  creed.\n[00:12.800 --&gt; 00:17.960]  We hold these truths to be self-evident that all men are created equal.\n\n\n\nJe conseille ce document pour une utilisation pleine et entière de Whisper, avec enregistrement d’un fichier texte de la retranscription: tutoriel Cnrs\n\n\n\n\n\n\n\nInstallation de ffmpeg à l’Ined\n\n\n\n\nEnvisager avec le service informatique d’installer automatiquement ffmpeg via applined\nIl est fort possible de devoir utiliser votre compte administrateur pour ajouter le chemin d’accès à l’exécutable aux variables environnement\n\n\n\n\n\n\n\n\n\nComment installer ffmpeg manuellement\n\n\n\nPour éviter une installation qui nécessite un autre outil d’installation (scoop,…), la méthode traditionnelle qui consiste à télécharger une archive 7z (https://www.gyan.dev/ffmpeg/builds/), décompresser le sous répertoire bin dans le user du C, fonctionne toujours très bien. C’est ce chemin qu’il faudra ajouter aux variables d’environnement.\nPour ce genre d’outils, on peut créer dans son user un répertoire PATH_EXE et ici créer un sous répertoire ffmpeg dans lequel on mettra le bin."
  },
  {
    "objectID": "fiches30-06.html",
    "href": "fiches30-06.html",
    "title": "XXXXXXXXXXXXXXXXXXXXX",
    "section": "",
    "text": "Exemple de tableau des fonctions pour la fiche d’Elodie (on peut aller en mode visual sur un qmd vierge si on préfère). Le titre est en dessous du tableau=&gt; : **Fonctions utilisées dans la fiche**\n\nFonctions utilisées dans la fiche\n\n\nPackages\nFonctions\n\n\n\n\nquestionr\nwtd.table - cprop - lprop\n\n\nsurvey\nsvydesign - svytable - svymean - svyglm\n\n\nBase R\nmean"
  },
  {
    "objectID": "fiches30-06.html#tableau-des-fonctions-utilisées-dans-la-fiche",
    "href": "fiches30-06.html#tableau-des-fonctions-utilisées-dans-la-fiche",
    "title": "XXXXXXXXXXXXXXXXXXXXX",
    "section": "",
    "text": "Exemple de tableau des fonctions pour la fiche d’Elodie (on peut aller en mode visual sur un qmd vierge si on préfère). Le titre est en dessous du tableau=&gt; : **Fonctions utilisées dans la fiche**\n\nFonctions utilisées dans la fiche\n\n\nPackages\nFonctions\n\n\n\n\nquestionr\nwtd.table - cprop - lprop\n\n\nsurvey\nsvydesign - svytable - svymean - svyglm\n\n\nBase R\nmean"
  },
  {
    "objectID": "fiches30-06.html#extensions",
    "href": "fiches30-06.html#extensions",
    "title": "XXXXXXXXXXXXXXXXXXXXX",
    "section": "Extensions",
    "text": "Extensions\nL’extension lightbox est très bien pour l’insersion d’image/graphique. En local pour l’activer, elle doit être installée (si une fiche dans un répertoire, l’installer à chaque fois): dans le terminal =&gt; quarto add quarto-ext/lightbox. Si vous utilisez une autre extension, me l’indiquer que je l’installe dans le répertoire du support."
  },
  {
    "objectID": "fiches30-06.html#lien-documentation",
    "href": "fiches30-06.html#lien-documentation",
    "title": "XXXXXXXXXXXXXXXXXXXXX",
    "section": "Lien documentation",
    "text": "Lien documentation\nDe préférence, je préfèrerais qu’elle soit en début de document, sous le tableau des fonctions."
  },
  {
    "objectID": "R/assist/posts/coxzph/coxzph.html",
    "href": "R/assist/posts/coxzph/coxzph.html",
    "title": "Récupérer et exécuter le test OLS de Grambsch-Therneau",
    "section": "",
    "text": "Package\nFonctions\n\n\n\n\nsurvival\ncoxph - coxzph.old\n\n\n\nChamp d’application\n\nModèle de Cox (analyse des durées)\n\nDiagnostic sur l’hypothèse de proportionalité des risques\n\nProblématique\n\nDepuis le passage à la version 3 du package survival en 2020, le test OLS sur les résidus de Schoenfeld a été supprimé et remplacé par le test GLS. Le second est la version originelle du test proposé en 1994 par P.Grambsch et T.Therneau.\nEn présence d’évènements simultanés (durée discrète), les résultats affichés par les deux versions peuvent fortement variés.\nLorsqu’on utilise le modèle de Cox avec des durées discrètes, situation très courante dans les sciences sociales, je préconise l’utilisation de la version dite simplifiée (OLS).\n\nLe modèle de Cox est une méthode à durée continue, les conditions de validité du test GLS ne sont établies avec des évènements mesurés simultanément.\nContrainte de reproductibilité: Stata, Sas, Python (lifelines, statsmodels)\n\n\nRécupération et exécution du test OLS\n\nJ’ai récupéré le script de la fonction dans les archives du CRAN. Elle a simplement été renommée cox.zphold().\nPour charger la fonction, il suffit d’appliquer source() qui joue le même rôle que library().\n\nDirectement sur le dépôt github:\n\nsource(\"https://raw.githubusercontent.com/mthevenin/analyse_duree/main/cox.zphold/cox.zphold.R\")\n\nSi le script a été enregistré en local:\n\nsource(\"local_path/cox.zphold.R\")\n\n\n\nExemple\n\n\n\nRécupération des données\n\nlibrary(readr)\ntrans &lt;- read.csv(\"https://raw.githubusercontent.com/mthevenin/analyse_duree/master/bases/transplantation.csv\")\n\n\n\n\n\nEstimation d'un modèle de Cox\n\nlibrary(survival)\ncoxfit = coxph(formula = Surv(stime, died) ~ year + age + surgery, data = trans)\n\n\n\n\n\nRéupération et exécution du test OLS\n\nsource(\"https://raw.githubusercontent.com/mthevenin/analyse_duree/main/cox.zphold/cox.zphold.R\")\ncox.zphold(coxfit)\n\n\n          rho chisq      p\nyear    0.159  1.96 0.1620\nage     0.109  1.15 0.2845\nsurgery 0.251  3.96 0.0465\nGLOBAL     NA  7.99 0.0462"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#se-connecter-au-site-deuropresse",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#se-connecter-au-site-deuropresse",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Se connecter au site d’Europresse",
    "text": "Se connecter au site d’Europresse\nEuropresse est un service payant, mais certains instituts et certaines universités permettent d’y accéder.\nÀ l’Ined, Europresse est disponible en se connectant depuis le site de l’Humathèque.\nSi le lien ne marche pas vous pouvez suivre le chemin suivant :\n\nSe connecter au site de l’Humathèque Campus Condorcet : lien\n\nChercher un mot-clé quelconque :\n\n\n\nSe rendre dans l’onglet Presse, ce qui nous amène à la page d’Europresse.\n\n\n\nSe connecter à son compte Ined pour obtenir le lien vers Europresse.\n\n\n\n\nCliquer sur le lien vers le site d’Europresse"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#créer-un-corpus-darticles-de-presses",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#créer-un-corpus-darticles-de-presses",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Créer un corpus d’articles de presses",
    "text": "Créer un corpus d’articles de presses\nLa page d’accueil d’Europresse, dirige automatiquement vers la version étudiante, mais il est préférable de passer par la version classique du site.\n\nEn vous connectant à la version classique, vous obtiendrez la page suivante, à partir de laquelle on retourne vers une recherche simple, puis dans une recherche avancée.\n\nÀ partir de l’écran de recherche avancée, on peut sélectionner les articles qu’on désire intégrer au corpus de texte.\nDans notre cas, on cherche les occurrences du mot Ined, dans la presse en français, sur l’ensemble de la période couverte par Europresse.\n\nOn arrive donc sur la page suivante :\n\nATTENTION :\nAvant d’exporter le fichier, il faut prendre plusieurs précautions :\n\nTrier les articles du plus récent au plus ancien (ou inversement, mais pas par pertinence).\n\nScroller (défiler) les articles au maximum. Par défaut, Europresse ne charge que les 50 premiers articles, à chaque fois qu’on scrolle, on en charge 50 autres, etc.\n\nNombre maximum d’articles : 1000. On ne peut donc pas télécharger tous les 15 000 articles correspondant à ma recherche d’un coup. Il faudra s’y reprendre 1000 par 1000, en changeant la période de recherche en faisant débuter la recherche suivante à la date du dernier article chargé dans la recherche précédente.\n\nSélectionner le maximum d’articles avec la case à cocher.\n\nCréer le fichier en cliquant sur la disquette et sélectionner le format HTML.\n\n\nOn obtient dans les téléchargements un fichier HTML qui commence par biblioeuropresse, qui contient l’ensemble des articles. Vous pouvez l’ouvrir pour les lire dans votre navigateur Web.\nDans les étapes suivantes, nous allons utiliser ce fichier pour créer un corpus de texte utilisable dans Iramuteq."
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#initialisation-de-r",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#initialisation-de-r",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Initialisation de R",
    "text": "Initialisation de R\nOn commence par installer et charger les packages nécessaires.\n\n\n\nPackages\n\n# Packages nécessaires\nload.lib &lt;- c(\"xml2\", \"stringr\", \"stringdist\", \"stringi\",\"lubridate\", \"dplyr\", \"tidyr\",\"purrr\") \n# Installation des manquants\ninstall.lib &lt;- load.lib[!load.lib %in% installed.packages()]\nfor (lib in install.lib) install.packages(lib,dependencies=TRUE) \n# On charge les packages\nsapply(load.lib,require,character=TRUE)\n\n\n      xml2    stringr stringdist    stringi  lubridate      dplyr      tidyr \n      TRUE       TRUE       TRUE       TRUE       TRUE       TRUE       TRUE \n     purrr \n      TRUE \n\n\nPuis, on importe le fichier HTML, crée depuis le site d’Europresse.\n\n\n\nImport texte HTML\n\n# On ouvre la base HTML obtenue\nhtml &lt;- \"DATA/biblioeuropresse20230710105912.HTML\"\n# Lire le fichier HTML\ndoc &lt;- read_html(html)\n# Sélectionner les articles\narticles &lt;- xml_find_all(doc, \"//article\")"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#création-de-variables",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#création-de-variables",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Création de variables",
    "text": "Création de variables\nPour chaque article, nous allons récupérer un certain nombre d’information contenu dans les métadonnées, comme le nom du journal qui l’a publié ou la date de publication par exemple.\n\nJournal\n\n\n\nVariable journal (1)\n\njournal &lt;- map_chr(articles, ~ {\n  tmp &lt;- xml_find_first(.x, \".//header/div[@class='rdp__DocPublicationName']\") %&gt;%\n    xml_text(trim = TRUE)\n  if (is.null(tmp)) tmp &lt;- NA_character_\n  tmp\n})\n\njournal[1:6]\n\n\n[1] NA                     NA                     NA                    \n[4] NA                     \"L'Obs (site web)\"     \"L'Express (site web)\"\n\n\nOn remarque qu’il y a des articles sans journaux renseignés (c’est particulièrement le cas pour les sites web). En réalité, le nom de la source est seulement stocké dans un autre emplacement qu’on récupère dans le code suivant.\n\n\n\nVariable journal (2)\n\njournal_manquant &lt;- map_chr(articles, ~ {\n  tmp &lt;- xml_find_first(.x, \"./header/div[@class='sm-margin-bottom']\") %&gt;%\n    xml_text(trim = TRUE)\n  if (is.null(tmp)) tmp &lt;- NA_character_\n  tmp\n})\n\njournal_manquant[1:6]\n\n\n[1] \"Radio France Internationale (français) (site web réf.) - RFI - Radio France Internationale\"\n[2] \"The Conversation (France) (site web réf.) - The Conversation (FR)\"                         \n[3] \"Free (site web réf.) - Free\"                                                               \n[4] \"Planet (site web réf.) - Planet (FR)\"                                                      \n[5] NA                                                                                          \n[6] NA                                                                                          \n\n\nOn a bien récupéré les sources des articles. On s’occupera de la mise en forme de la variable plus loin.\n\n\nAuteur.rice\nDans certains cas, on peut également récupérer les noms des auteurs.rices des articles. Ce n’est pas le cas ici, il semblerait que l’information ne soit pas toujours disponible.\n\n\n\nVariable auteur\n\nauteur &lt;- map_chr(articles, ~ {\n  tmp &lt;- xml_find_first(.x, \"./header/div[@class='docAuthors']\") %&gt;%\n    xml_text(trim = TRUE)\n  if (is.null(tmp)) tmp &lt;- NA_character_\n  tmp\n})\n\n\n\n\nTitre de l’article\nOn récupère également le titre de l’article.\n\n\n\nVariable titre\n\ntitre &lt;- map_chr(articles, ~ {\n  tmp &lt;- xml_find_first(.x, \"./header/div[@class='titreArticle']\") %&gt;%\n    xml_text(trim = TRUE)\n  if (is.null(tmp)) tmp &lt;- NA_character_\n  tmp\n})\n\n\n\n\nDate\nConcernant la date, elle est disponible pour l’ensemble des articles.\n\n\n\nVariable date (1)\n\ndate &lt;- map_chr(articles, ~ {\n  tmp &lt;- xml_find_first(.x, \".//div[@class='publiC-lblNodoc']\") %&gt;%\n    xml_text(trim = TRUE)\n  if (is.null(tmp)) tmp &lt;- NA_character_\n  tmp &lt;- substr(tmp, 6, 13)\n})\n# On met la date au bon format\ndate &lt;- as.Date(date, \"%Y%m%d\") \ndate[1:6]\n\n\n[1] NA           NA           NA           NA           \"2023-07-05\"\n[6] \"2023-07-02\"\n\n\nMais comme pour les noms des journaux, elle peut être stockée dans différents emplacements, ou bizarrement soumise à des fautes de frappes. Dans la partie suivante on récupère les dates manquantes, qui sont stockés dans le même emplacement que le nom des jounaux manquants. Je commence donc par créer une fonction qui récupère la date au lieu du nom du journal dans cet emplacement.\n\n\n\nVariable date (2)\n\n# Fonction pour extraire le deuxième élément correspondant au critère donné\nget_second_element &lt;- function(node, xpath) {\n  found_elements &lt;- xml_find_all(node, xpath)\n  if (length(found_elements) &gt;= 2) {\n    return(found_elements[[2]] %&gt;% xml_text(trim = TRUE))\n  } else {\n    return(NA_character_)\n  }\n}\n\n# Récupérer le deuxième élément pour chaque article\ndate_manquant &lt;- map_chr(articles, get_second_element, xpath = \"./header/div[@class='sm-margin-bottom']\")\ndate_manquant[1:6]\n\n\n[1] \"8 juillet 2023 902 mots\"  \"6 juillet 2023 2187 mots\"\n[3] \"6 juillet 2023 210 mots\"  \"6 juillet 2023 218 mots\" \n[5] NA                         NA                        \n\n\nAttention, on voit que le nombre de mots de l’article est stocké au même emplacement que la date manquante. Nous allons nous occuper de mettre en forme les dates dans les parties suivantes."
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#texte",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#texte",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Texte",
    "text": "Texte\nOn récupère finalement les textes des articles.\n\n\n\nVariable texte\n\ntexte &lt;- map_chr(articles, ~ {\n  tmp &lt;- xml_find_first(.x, \".//div[@class='DocText clearfix']\") %&gt;%\n    xml_text(trim = TRUE)\n  if (is.null(tmp)) tmp &lt;- NA_character_\n  tmp\n})"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#création-de-la-base-de-données",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#création-de-la-base-de-données",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Création de la base de données",
    "text": "Création de la base de données\nOn compile toutes les variables au sein d’une unique base de données manipulable, que l’on pourra apurer plus facilement.\n\nCompilation des variables\n\n\n\nCréation base\n\ntxt &lt;- data.frame(Journal = journal,\n                  Titre = titre,\n                  Date = date,\n                  Date_manq = date_manquant,\n                  Auteur = auteur,\n                  Texte = texte) \n\n\nOn obtient une base de données avec autant de lignes que d’articles et 5 variables.\n\n\n\n\n\n\nJournal\nTitre\nDate\nDate_manq\nAuteur\nTexte\n\n\n\n\nNA\nÇa fait débat avec Wathi\nNA\n8 juillet 2023 902 mots\nNA\nGilles Yabi, responsable du think tank Wathi. © Samuelle Banga Après les faits et tendances à l’échelle mondiale la semaine dernière, Gilles Yabi évoque plus spécifiquement des indicateurs démographiques en Afrique... Voir l'article Ce document référence un lien URL de site non hébergé par Cision.\n\n\nNA\nRussie : le procès emblématique d’Oleg Orlov, figure de la lutte pour les droits humains\nNA\n6 juillet 2023 2187 mots\nNA\nLe 8 juin dernier, un procès s’est ouvert à Moscou contre Oleg Orlov, 70 ans, éminent défenseur des droits humains en Russie, coprésident de l’organisation Centre de défense des... Voir l'article Ce document référence un lien URL de site non hébergé par Cision.\n\n\nNA\nCésarienne : elle perturberait le microbiote du bébé, selon une étude\nNA\n6 juillet 2023 210 mots\nNA\nFemme Actuelle, publié le 06 juillet 2023 à 14h00. Selon des chercheurs français, la naissance par césarienne aurait un effet négatif sur le microbiote intestinal des bébés. Explications. La césarienne est... Voir l'article Ce document référence un lien URL de site non hébergé par Cision.\n\n\nNA\nCésarienne : elle perturberait le microbiote du bébé, selon une étude\nNA\n6 juillet 2023 218 mots\nNA\nSelon des chercheurs français, la naissance par césarienne aurait un effet négatif sur le microbiote intestinal des bébés. Explications. La césarienne est une intervention chirurgicale qui peut prévenir efficacement la mortalité... Voir l'article Ce document référence un lien URL de site non hébergé par Cision.\n\n\nL'Obs (site web)\n« Le mitard reste une structure très archaïque et peu adaptée à la société actuelle »\n2023-07-05\nNA\nNA\nAvez-vous rencontré des difficultés particulières pour réaliser cette enquête qui questionne la violence des surveillants et le bien-fondé des quartiers disciplinaires ? Vincent Marcel. Avant de rejoindre Laurence sur ce projet, je m'étais trouvé confronté à la difficulté d'établir une liste de détenus morts en quartier disciplinaire. Ces décès ne suscitent en général que quelques lignes dans la presse quotidienne régionale. La seule manière de trouver des informations consiste à contacter le parquet. Or, dans 95 % des cas, je n'ai obtenu que des fins de non-recevoir de la part des procureurs, même lorsque mes demandes concernaient des suicides non suspects. Sur le sujet de la prison en général, le silence du ministère public est étonnant... L'administration pénitentiaire est-elle, comme l'armée, une « grande muette » ?Laurence Delleur. J'avais déjà été confrontée à ce manque de communication lors du tournage de « Matons violents » (2016), un sujet également très sensible, mais nous tenions à avoir cette parole contradictoire. Lorsque nous avons questionné l'administration pénitentiaire sur les images de vidéosurveillance concernant Amara Fofana, on nous a répondu que l'affaire était suivie par un procureur. Ce qui était faux puisque, à ce moment-là, elle avait déjà été classée sans suite. Le terme de « mitard » évoque des pratiques d'un autre âge. Pourtant, c'est une réalité bien actuelle et un lieu répressif où l'on se suicide encore plus qu'en détention classique...V. M. Depuis une vingtaine d'années, de nombreux rapports alertent sur la surmortalité et les suicides en quartier disciplinaire. Pourtant, les conditions de détention n'ont pas énormément évolué : trente jours de placement au maximum alors que le Sénat en préconisait vingt en 2000 et que le Comité européen pour la Prévention de la Torture (CPT), qui dépend du Conseil de l'Europe, en conseille quatorze. Le mitard reste une structure très archaïque et peu adaptée à la société actuelle. En 2014, une étude de l'Ined (Institut national d'Etudes démographiques) constatait que le risque de suicide en cellule disciplinaire était 15 fois supérieur à celui encouru en détention ordinaire. Selon l'administration pénitentiaire, il y aurait eu 18 suicides en quartier disciplinaire en 2022. Des chiffres à prendre avec précaution car lorsqu'un décès survient lors d'un transfert comme celui de Sambaly Diabaté, il n'est pas forcément répertorié comme ayant eu lieu en cellule disciplinaire.Ces trois détenus morts en quartier disciplinaire que vous mentionnez paraissaient plutôt inoffensifs.L. D.Il faut d'abord savoir que certains détenus peuvent être très violents envers les surveillants, leur jeter de l'eau bouillante à la figure ou leur mettre un couteau sous la gorge. Ce sont des faits avérés qu'il est important de rappeler. Mais on doit aussi prendre en considération que 40 % des détenus ont des problèmes psychiatriques et que ceux-là n'ont rien à faire en prison. Sambaly Diabaté en est un exemple. Au moment où les choses ont dégénéré, il était délirant depuis plusieurs semaines, avait perdu 20 kilos et se croyait envoûté... Si, au lieu de le pousser violemment, le surveillant lui avait montré comment passer le portique en utilisant les techniques enseignées pour calmer un enfant en centre éducatif fermé, la suite aurait été différente. En ce qui concerne Sacha Aït Hammou (18 ans), ses parents nous ont dit qu'il avait été agressé en détention par d'autres détenus et avait dû se bagarrer pour se défendre. La violence est intrinsèque à la prison, c'est difficile d'y échapper. Pour se protéger, il faut paraître fort. Quant à Amara Fofana, il n'a fait que soulever le bras de la surveillante qui a refusé de le laisser aller à son cours de guitare comme chaque lundi. Elle n'a pas appelé son supérieur pour vérifier qu'il y était bien attendu. Amara n'a pas été violent : il n'a fait que transgresser un ordre qui lui semblait injuste pour aller jouer de la musique, son échappatoire pendant la détention.La violence gratuite de la part des surveillants est-elle taboue ?L. D. On ne le dit pas dans le film mais Eddy, l'un de nos témoins, a failli mourir après une altercation verbale avec un surveillant. Il a eu un certificat d'ITT de quarante-cinq jours. En quinze ans de travail sur le monde carcéral, je n'avais jamais vu ça ! En général, les détenus victimes de violences ont beaucoup de mal à obtenir un certificat médical. Bien que nous tenions ici à ce qu'un directeur de prison exprime son point de vue, nous considérons que frapper un détenu est inexcusable. Les surveillants exercent un métier difficile et comme ils sont souvent issus du même milieu que ceux qu'ils surveillent, ils peuvent très vite avoir un sentiment de toute-puissance. La gestion de la violence en détention est un sujet extrêmement complexe. Et puis, il faut bien le dire, on leur laisse les clés de la baraque et on s'en lave les mains. Du moment que la prison est sécurisée et qu'il n'y a pas d'évasion...Dans le cas de morts suspectes, la vidéosurveillance devrait permettre de démêler le vrai du faux, non ?V. M. Le problème, c'est que lorsque la direction d'un centre pénitentiaire fournit des bandes aux enquêteurs ou aux avocats, ce sont des séquences indépendantes les unes des autres qu'il faut ensuite assembler et monter de manière chronologique. Dans l'affaire d'Amara Fofana, il y avait une vingtaine de points de vue différents et un problème de timecode, c'est-à-dire qu'une des caméras étant mal réglée, les policiers se sont trompés dans la reconstitution. L. D. Un avocat commis d'office peut facilement passer à côté de ce genre de détails pourtant très importants. Il a fallu plusieurs jours de montage minutieux à Vincent pour reconstituer l'ensemble et s'apercevoir que vingt-quatre minutes de vidéo s'étaient évaporées. Lorsque les policiers ont demandé des explications à la directrice adjointe de la prison de Réau (Seine-et-Marne), elle s'est justifiée en disant que s'il manquait des images, c'est que l'officier pénitentiaire avait considéré qu'elles ne montraient rien d'anormal . La police a accepté cette non-réponse sans sourciller. Il est clair qu'elle n'a pas fait son travail. Le juge non plus puisqu'il aurait dû la contraindre à récupérer ces images. Quelle est la règle concernant la vidéosurveillance ?V. M. Elle oblige l'administration pénitentiaire à conserver les images pendant un mois au maximum. A Réau, nous avons découvert que le système ne fonctionnait pas et que les images étaient effacées au bout de quarante-huit heures, un délai beaucoup trop court pour qu'une famille en deuil pense à demander à son avocat de les récupérer. Je connais des avocats qui se battent depuis plus de cinq ans pour récupérer des bandes. L. D.C'est scandaleux, car c'est un élément de preuves à charge ou à décharge qui permet de confronter les points de vue du surveillant et du détenu et de comprendre ce qu'il s'est réellement passé. Aujourd'hui, c'est laissé au pouvoir discrétionnaire de la direction de l'administration pénitentiaire... Les surveillants disent que si le mitard n'existait pas, il faudrait le remplacer par autre chose...L. D.Nous n'avons pas à nous prononcer pour ou contre l'existence du mitard. En revanche, ce sont les conditions d'exercice du quartier disciplinaire qui posent question. Si on ne plaçait pas n'importe qui en détention préventive pour n'importe quoi, si les commissions de discipline fonctionnaient plus démocratiquement, si la durée de placement était plus courte avec un vrai suivi psychologique des personnes à risque comme l'était Sacha, par exemple, ces décès seraient évitables. Cet article est paru dans L'Obs (site web)\n\n\nL'Express (site web)\nPhil Zuckerman : \"Les religions sont en déclin dans le monde entier\"\n2023-07-02\nNA\nNA\nEn Allemagne, plus d'un demi-million de personnes ont quitté l'Eglise catholique en 2022, un record. En France, pour la première fois, selon l'Insee et l'Ined, la majorité de la population française se déclare \"sans religion\". L'année dernière, le Royaume-Uni a appris qu'il n'était plus à majorité chrétienne. Aux Etats-Unis, pays pourtant associé à la Bible, un tiers des adultes sont des \"religious nones\", autrement dit des \"sans-religion\". En Tunisie, 13 % seulement des habitants se disaient \"sans religion\" en 2013, en 2019, ils étaient 30 %. Jusque dans les années 1970, la sociologie a été dominée par l'idée d'un déclin inéluctable des religions face à la modernité et au progrès technique. Mais, depuis plusieurs décennies, des intellectuels ont au contraire annoncé le retour de Dieu, du sociologue protestant Peter L. Berger, qui assurait que \"le monde d'aujourd'hui [était] aussi furieusement religieux qu'il [l'avait] toujours été\", à l'islamologue Gilles Kepel et sa \"revanche de Dieu\". Une thèse qui semble avoir été validée par le dynamisme de l'islamisme ou de l'évangélisme. Dans Beyond Doubt : The Secularization of Society(\"Au-delà du doute : la sécularisation de la société\", NYU Press), tout juste paru en anglais, les trois universitaires Isabella Kasselstrand, Phil Zuckerman et Ryan T. Cragun confirment pourtant le déclin des religions dans de nombreuses parties du monde, en s'appuyant sur des données longitudinales. Professeur de sociologie et d'études laïques au Pitzer College, à Claremont (Californie), Phil Zuckerman analyse ce phénomène qu'il résume par une simple phrase : \"La modernité crée des problèmes pour la religion.\" Entretien. L'Express : Il a beaucoup été question ces dernières années d'un retour du religieux. Mais, selon vous, les données montrent au contraire un recul des religions dans de nombreuses régions du monde...Phil Zuckerman : Il y a un renouveau religieux ici ou là. Mais la tendance générale est que les pays qui connaissent une modernisation et un développement économique sont moins religieux qu'il y a plusieurs générations. Certains pays africains sont toujours très religieux et ont des taux de fécondité encore élevés. Mais, en Europe, en Amérique du Nord et du Sud et dans une partie de l'Asie, nous avons vu à l'oeuvre le processus que des sociologues classiques comme Max Weber, Emile Durkheim ou Jean-Marie Guyau avaient prédit, à savoir que la religion déclinerait. Aujourd'hui, nous avons de nombreuses données sur le long terme qui confirment ce phénomène. Que montrent ces données?Il y a trois dimensions importantes pour définir la religion : les croyances, les comportements et l'appartenance. Les croyances, c'est l'acceptation cognitive de forces surnaturelles, que ce soit un dieu, des anges, la résurrection, etc. Les comportements, c'est aller à l'église, au temple, à la mosquée, prier, se faire baptiser, etc. L'appartenance, c'est s'identifier en tant que catholique, protestant, musulman ou \"sans religion\". Pour ces trois catégories, nous avons des données internationales sur plus d'une centaine de pays depuis plusieurs décennies. Dans les pays qui ont expérimenté la modernisation, le pluralisme ou la sécurité existentielle, ces trois catégories sont en recul presque partout. En 1967, par exemple, 77 % des adultes britanniques disaient croire en Dieu. En 2015, leur nombre avait chuté à 32 %. Au début des années 1990 en Espagne, 20 % seulement des mariages étaient des cérémonies civiles, contre 80 % en 2018. En 2001, moins de 30 % des Néo-Zélandais s'identifiaient comme n'ayant pas de religion, ils étaient près de 50 % en 2018. En Argentine, la fréquentation d'un service religieux au moins une fois par mois est passée de 56 % en 1984 à 36 % en 2017. Si on regroupe les populations sans affiliation religieuse, non pratiquantes et non croyantes, cela fait plus de 1 milliard de personnes dans le monde. Tous ne sont pas athées, mais ces gens vivent leur vie sans que la religion n'y ait un rôle important. C'est une part importante de l'humanité, sauf qu'elle n'est pas réellement reconnue. Bien sûr, en Asie, la religion n'est pas vue de la même façon qu'en Europe. Par exemple, la Chine, deuxième pays le plus peuplé du monde, est dirigée par une dictature communiste antireligieuse. Les Chinois peuvent donc être réticents à affirmer leur foi. Il faut donc toujours être prudent avec ces chiffres. Par ailleurs, certains pays démocratiques, comme l'Estonie, la République tchèque, la Suède, la Norvège ou les Pays-Bas, ont déjà une majorité non religieuse. La France rejoint ce groupe. Je précise \"démocratique\", car les habitants de ces pays peuvent donner leur opinion librement. Il y a aussi une majorité non religieuse en Chine ou au Vietnam, mais on peut penser que la liberté religieuse est une question plus sensible dans des pays autoritaires. Le cas de la Corée du Sud est intéressant, car le développement économique s'est accompagné durant un temps d'une montée en puissance du christianisme...En 1982, près de la moitié des Sud-Coréens se disaient \"sans religion\" et seulement 9 % s'identifiaient comme catholiques et 15 % comme protestants. En 2005, les sans-religion avaient décliné à 29 %, et la part des catholiques et protestants représentaient plus de 20 %. Prenant pour modèle les Etats-Unis dans leur opposition à la Corée du Nord, le pays a associé l'occidentalisation et la croissance économique à des pratiques religieuses. Mais, même là-bas, la poussée du christianisme n'a pas duré. En 2018, la part des catholiques et protestants n'était plus que de 7 % et 15 %, tandis que les sans-religion grimpaient à 64 %. Le bouddhisme est lui aussi en déclin, ne représentant plus que 14 % de la population en 2018. L'Amérique du Sud, elle non plus, n'échappe pas à la sécularisation. Nous savons que l'Uruguay est le pays le moins religieux du continent. Mais il n'a rien d'une exception. Au Chili, 96 % de la population était catholique en 1910, contre 64 % en 2014. Même le Brésil, très religieux, voit une montée des sans-religion, même si, pour l'instant, leur nombre reste très modeste. Les Etats-Unis ont longtemps fait figure d'exception parmi les pays occidentaux...Longtemps, on nous a dit que les Etats-Unis étaient la preuve qu'on pouvait avoir une société très moderne, industrialisée, riche, mais avec un niveau de religiosité similaire à celui du Salvador. Mais ce n'est plus le cas, car la sécularisation y a été spectaculaire. En 1981, 60 % des Américains assistaient à un service religieux au moins une fois par mois. En 2017, ils n'étaient plus que 39 %. En 1940, 73 % des Américains se disaient affiliés à une église, une synagogue ou une mosquée. En 2020, ils n'étaient plus que 47 %. En 1986, 10 % seulement des Américains de 18 à 29 ans se disaient sans appartenance religieuse, contre 36 % en 2020. Et si 27 % des Américains mariés de plus de 65 ans ont eu une cérémonie civile, leur nombre monte à près de 50 % pour les 18-35 ans. Vous résumez le processus de sécularisation par une phrase : \"La modernité crée des problèmes pour la religion.\" Pourquoi?Par \"sécularisation\", j'entends le déclin ou l'affaiblissement des religions au fil du temps. La principale théorie pour l'expliquer, c'est que la modernisation crée des problèmes pour ces croyances. Premièrement, vous voyez la rationalité gagner du terrain. Ce qui signifie que les gens ne résolvent plus des problèmes en faisant appel à la superstition. Si votre voiture est en panne, vous vous dites qu'il faut aller chez un garagiste plutôt que de vous référer à des forces magiques ou surnaturelles. Deuxièmement, la modernité a permis la prospérité. L'existence même des gens est moins menacée. Vous n'allez pas mourir de faim simplement du fait d'une sécheresse. Il y a des hôpitaux et des soins de santé pour une majorité de personnes, ce qui garantit une sécurité existentielle. Troisièmement, il y a plus de pluralisme dans une société moderne. Avant, dans un petit village français, tout le monde était catholique. Mais, avec l'urbanisation de la société, des personnes avec des appartenances religieuses diverses doivent cohabiter entre elles dans de grandes villes, ce qui crée une crise de crédibilité pour ces croyances. Qui a raison entre ces différentes religions? Peut-être ont-elles toutes tort? Ce pluralisme érode l'assurance que peuvent avoir les croyants dans leur foi. Tous ces phénomènes liés à la modernité affaiblissent considérablement les religions. Mais les non-croyants font moins d'enfants que les croyants, surtout les plus conservateurs. Israël est un bon exemple, avec une population orthodoxe ayant un taux de fécondité bien plus élevé que les laïques, ce qui leur donne un avantage démographique considérable...Effectivement. Israël est une démocratie moderne et prospère. Elle a été fondée par des juifs séculiers, qui n'ont pas créé cet Etat pour satisfaire un dieu, mais pour offrir un foyer aux juifs. Aujourd'hui, en Israël, les orthodoxes font trois ou quatre fois plus d'enfants que les juifs laïques. Par ailleurs, un autre phénomène joue dans cet Etat : la défense culturelle. Quand vous avez un pays entouré d'ennemis, qui se sent menacé par un groupe ethnique différent, cela peut renforcer les identités religieuses. L'Irlande catholique qui s'est opposée à l'Angleterre protestante en a été un bon exemple. De même que la Pologne catholique face aux Soviétiques. Vous soulignez aussi le regain de la religion en Russie ou en Ukraine...On ne peut pas détruire la religion par la force. La dictature marxiste-léniniste a essayé pendant un moment d'éradiquer la religion chrétienne. Mais beaucoup de croyants en Russie ont simplement caché leurs convictions. Par ailleurs, après la chute du communisme, la religion est aussi devenue une source de fierté nationale. Beaucoup de mouvements nationalistes russes ont trouvé des alliés au sein de l'Eglise orthodoxe. Poutine a surfé là-dessus en reprenant l'idée que Moscou serait la \"troisième Rome\", de laquelle émanerait le vrai christianisme. Si la vie en Russie devient plus prospère, sécurisée, pluraliste, alors la religion devrait à nouveau y décliner. En revanche, si le pays est en guerre, qu'il y a une grande insécurité existentielle et que la dictature demeure, alors la religion, notamment si elle est fondée sur un credo très nationaliste, devrait rester forte. Même dans les pays musulmans, où les données sont plus difficiles à recueillir du fait du poids social et politique de l'islam, la religion semble être en recul. Selon le Baromètre arabe [un réseau de chercheurs qui rassemblent et publient des données sur le Moyen-Orient et l'Afrique du Nord], une majorité des 15-29 ans ne sont pas religieux dans 11 pays du Moyen-Orient et du Maghreb...L'Iran a sans doute la population la plus séculière de tout le monde musulman, mais celle-ci ne peut s'exprimer ouvertement. Je suis persuadé que si nous avions des données fiables dans ce pays, on verrait que 40 % de la population iranienne est déjà sécularisée. La laïcité s'est construite en Europe en réaction à des pouvoirs royaux chrétiens. Je crois qu'on assiste aujourd'hui à un phénomène similaire dans les pays musulmans, avec beaucoup de jeunes qui constatent que l'islam est politisé et soutient les dictatures. Je trouve ces évolutions passionnantes. En France, les catholiques conservateurs ne peuvent plus espérer faire de leurs croyances un programme politique majoritaire. On voit bien que l'avortement, le mariage gay et, aujourd'hui, l'euthanasie sont des non-sujets pour une grande partie des Français. En revanche, aux Etats-Unis, la droite religieuse contrôle la Cour suprême et peut toujours remporter une élection présidentielle du fait d'un système électoral qui lui est favorable. Cela va-t-il durer?Il y a deux changements majeurs qui sont en train de se dérouler aux Etats-Unis. D'un côté, la population non blanche est de plus en plus nombreuse, et obtient une représentation politique, ce qui n'était pas le cas avant. Cela produit un sentiment d'insécurité dans une partie de la population blanche. Et, de l'autre côté, on voit que la religion est en déclin. Les pays deviennent ainsi ethniquement de plus en plus divers, et de moins en moins religieux. Les Blancs religieux voient donc leur statut questionné. Ce qui provoque une réaction forte de leur part. Même si de plus en plus d'Américains sont séculiers, la droite religieuse n'a jamais été si puissante sur le plan politique. C'est un vrai paradoxe. Ils ne contrôlent pas seulement la Cour suprême, mais nombre aussi de juridictions au niveau des Etats fédérés, du fait des nominations de juges par Trump. Les chrétiens sont également très impliqués dans les conseils municipaux ou dans les conseils scolaires. Ils utilisent ce pouvoir pour abolir l'avortement, limiter les droits des homosexuels et remettre en question l'éducation publique, qui est sécularisée. Cela va-t-il durer? Sur le long terme, je pense que ce pouvoir détenu par une minorité chrétienne va s'émietter, car il n'est pas soutenable vu les évolutions sociologiques dans le pays. Je l'espère en tout cas. On verra. Le déclin des religions traditionnelles n'est-il pas compensé par l'essor de nouvelles spiritualités, comme le new age?Certaines personnes quittent des religions institutionnalisées pour embrasser d'autres formes de spiritualité. Mais beaucoup d'autres ne le font pas. Les données montrent que les nouvelles spiritualités n'ont pas numériquement remplacé les religions traditionnelles. Il y a le besoin psychologique chez beaucoup de personnes, qui souffrent dans la vie ou sont malades, d'un certain confort offert par la religion ou d'autres spiritualités. Je suis en train de faire des entretiens avec des Estoniens, la majorité d'entre eux accepte simplement la mort. On retrouve la même chose au Japon, en France ou en Uruguay. Des gens vivent leur vie de manière raisonnable sans religion. Je ne sais pas si nous sommes, d'un point de vue biologique, destinés à entretenir certaines croyances. Cela peut être le cas pour une partie des humains, mais d'autres vivent parfaitement sans croyance religieuse. Peut-être que le réchauffement climatique va entraîner un regain religieux. Car, quand la vie est imprévisible et effrayante, des personnes, automatiquement, se tournent vers la foi. Comment voyez-vous l'avenir?La sécularisation se poursuivra. Le fait d'être sans religion devient une normalité et est totalement accepté d'un point de vue social. Durant la majeure partie de l'Histoire, vous étiez violemment stigmatisé pour cela. Ne pas être religieux signifiait être immoral, un peu comme l'homosexualité. Mais, quand vous avez de plus en plus de personnes qui disent : \"Oh, je ne crois pas en Dieu\", cela devient quelconque. Même si les personnes religieuses ont des taux de fécondité plus importants, il semble que les sorties ou les rejets de la religion sont plus importants que ce différentiel démographique. Le moteur de la religion se situe au niveau du foyer. Les parents éduquent les enfants dans leurs croyances, et c'est comme cela que celles-ci se perpétuent. Mais l'immense majorité des enfants des parents non religieux sont eux aussi sans religion. La tendance devrait donc se poursuivre. Mais, vous savez, Dieu seul le sait... [Rires.]\n\n\n\n\n\n\n\n\n\nCorrection des valeurs manquantes\n\nJournaux manquants\nOn remplace Journal par journal_manquant quand ils n’existent pas. Et on supprime les espaces et les sauts de lignes dans les noms de journaux pour faciliter les recodages plus tard.\n\n\n\nAjout journaux manquants\n\ntxt &lt;- txt %&gt;% \n  mutate(Journal = ifelse(is.na(Journal), journal_manquant, Journal)) %&gt;% \n  mutate(Journal = gsub(\"\\n\", \"\", Journal)) %&gt;% \n  mutate(Journal = gsub(\" \", \"\", Journal))\n\n\n\n\nDates manquantes\nPour les dates, il faut faire attention à plusieurs éléments :\n- Le format Jour/Mois/Année, doit être identique.\n- Les dates manquantes contiennent également le nombre de mots de l’article. Il faut donc isoler la date.\n\n\n\nAjout dates manquants\n\ntxt &lt;- txt %&gt;% \n  # J'enlève les caractères spéciaux pour pouvoir utiliser\n  # la fonction separate()\n  mutate(Date_manq = str_replace(Date_manq, \"é\", \"e\"),\n         Date_manq = str_replace(Date_manq, \"û\", \"u\")) %&gt;% \n  # separate() permet d'isoler le jour, le mois, l'année, et le nombre de mots\n  # pour les dates manquantes, dans 5 variables\n  separate(Date_manq, c(\"jour\", \"mois\", \"annee\", \"lettre\", \"mots\")) %&gt;% \n  # Attention : pour les sources anglaise, le mois et le jour sont inversés\n  # Je les inverse dans jour2 et mois2\n  mutate(jour2 = if_else(substr(mois,1,1) %in% c(0:9), mois, jour),\n         mois2 = if_else(substr(jour,1,1) %in% c(0:9), mois, jour)) %&gt;% \n  # Je supprime les variables inutiles\n  select(-c(lettre,mots, jour, mois)) %&gt;% \n  # Je crée une nouvelle variable de date en collant l'année, le mois, le jour\n  mutate(date2 = paste(annee, mois2, jour2),\n         # Je dois réecrire février et aôut correctement\n         date2 = str_replace(date2, \"fevrier\", \"février\"),\n         date2 = str_replace(date2, \"aout\", \"août\"),\n         # Je transforme en format date.\n         date2 = as_date(ymd(paste(date2)))) %&gt;% \n  # Je remplace la date quand elle est manquante \n  mutate(Date = ifelse(is.na(Date), date2, Date))  %&gt;% \n  # Si la date est avant 2000, c'est une erreur de frappe, on prend l'autre date\n  mutate(Date = as_date(Date)) %&gt;% \n  mutate(Date = ifelse(Date &lt; ymd(\"2000-01-01\"), date2, Date)) %&gt;% \n  mutate(Date = as_date(Date))  %&gt;% \n  # Je garde les variables d'intérêts\n  select(-c(jour2, mois2, annee, date2)) %&gt;% \n  # Je trie dans l'ordre croissant de parution\n  arrange(Date)\n\n\nLes warnings sont normaux et ne posent pas de problèmes.\n\n\n\n\n\n\nJournal\nTitre\nDate\nAuteur\nTexte\n\n\n\n\nLeMonde(siteweb)\nMusique : le maloya, par et pour les femmes\n2021-12-22\nNA\n« Je balance et dis haut et fort ce que je pense, notamment de la place de la femme dans notre société certes matrifocale mais ô combien machiste, de la place de la femme dans l’industrie musicale trustée dans mon île par quelques réseaux bien concentriques et égocentrés. » Dans le texte de présentation de son concert au Point Ephémère dans le cadre du festival « Les Femmes s’en mêlent », fin octobre à Paris, Maya Kamaty ne mâche pas ses mots. Et sur scène, l’artiste de 36 ans, vêtue d’une veste dorée sur un haut à demi-transparent, rappelle, s’il en était encore besoin, que cette tenue n’est en aucun cas une invitation à quoi que ce soit. Celle qui enchaîne avec un grand naturel hip-hop, électropop sous influences indiennes et chanson nourrie au maloya est l’une des artistes les plus en vue de la Réunion. Fille de Gilbert Pounia, leader du groupe Ziskakan qui, dans les années 1980, contribua au « revivalisme » de cette musique héritée de l’esclavage, Maya Kamaty ne compte pas se laisser enfermer dans une case. « Ce n’est parce que je viens de la Réunion que je fais du maloya, même s’il y en a dans ma musique car c’est mon sang, mes racines. On est déjà sur une île, on ne va pas aussi s’enfermer dans la musique », dit-elle quand nous la retrouvons sur le site du Sakifo Musik Festival, dimanche 12 décembre à Saint-Pierre (sud), alors qu’elle s’apprête à présenter sur scène son prochain EP, Sovaz. Après les albums Santié Papang (2014) et Pandiyé (2019), ce nouveau projet est celui d’une femme qui a été « confrontée à des remarques, des critiques, des questionnements », mais qui a « grandi » et n’a « plus peur », explique-t-elle : « Quand j’ai commencé, je ne me suis pas posé la question d’être une femme, qui plus est racisée. Pour moi, la musique c’était un grand monde fabuleux, le pays des Bisounours, même si mon père m’avait mise en garde contre certains travers. On a des papillons dans le ventre quand on commence, puis on est confronté à des comportements qui font qu’on se repositionne, comme ce programmateur qui vous regarde et vous dit : “Ah si j’avais dix ans de moins…” C’est un peu de tout ça dont je parle dans Sovaz. » En témoigne le premier single, Alibi, dans lequel Maya Kamaty appelle à se libérer des relations toxiques et à ne pas se conformer à ce que les autres attendent de vous. « A trop chercher leur approbation, tu te perds. Soit tu pètes un plomb, soit tu te libères. Pour cet EP, j’ai voulu plus de spontanéité, de lâcher-prise, un langage cru et brut. Je ne suis pas là pour faire “sois belle et tais-toi” », conclut celle dont le QG familial du Zinzin, un restaurant-cabaret situé à Grand-Bois, donne sur le « Sud sauvage », une région réputée pour ses coulées de lave qui fendent le paysage du piton de la Fournaise jusqu’à l’océan Indien… mais aussi pour la beauté de ses femmes, bien représentées parmi les lauréates du concours Miss Réunion. « Surtout pas du roulèr, car les jambes sont écartées »Le sont-elles aussi dans la musique ? Si, comme l’écrit le chercheur Carpanin Marimoutou dans L’Univers du maloya : histoire, ethnographie, littérature (co-écrit avec Guillaume Samson et Benjamin Lagarde, 2008, épuisé), « la mère est le symbole et la gardienne de la mémoire, de la filiation, de la transmission », le rôle des femmes dans les groupes traditionnels a longtemps été cantonné à celui de choristes ou de danseuses. Elles pouvaient éventuellement jouer du triangle ou du kayamb, mais « surtout pas du roulèr », ce gros tambour sur lequel on s’assoit, « car les jambes sont écartées », observe Maya Kamaty. « Quand le maloya était interdit [dans les années 1960 et au début des années 1970, du fait de sa proximité avec le Parti communiste réunionnais], c’était vraiment une musique réservée aux hommes, car ça se jouait en cachette », confirme Nadège Nagès, chargée de production au Pôle régional des musiques actuelles (PRMA) : « Les femmes sont arrivées plus tard, avec des choses très fortes à revendiquer, sur la condition féminine mais pas seulement. » Et de citer Françoise Guimbert, dont le premier 45-tours est sorti dès 1978, puis, bien plus tard, Nathalie Natiembé et Christine Salem. Cette dernière a commencé le maloya dans les années 1990. « Adolescente, j’étais un vrai garçon manqué. J’ai fait partie d’une équipe de foot pendant dix ans. J’étais tellement rebelle, je me suis imposée », confie-t-elle en se rallumant une cigarette. Née en 1971 dans une famille de sportifs et de comptables du quartier populaire des Camélias, à Saint-Denis (nord), elle a découvert le maloya à l’âge de 8 ans, dans la rue. « On traînait en bas de l’immeuble, on se rassemblait, on organisait des bœufs… A l’époque, hormis Françoise Guimbert, il n’y avait pas de femmes qui chantaient du maloya en tant que leader. Mais si je m’y suis mise, c’est surtout parce que j’en avais assez d’entendre des gens, notamment des politiques, dire que ce n’était pas de la musique, que ce n’était pas exportable. » Depuis, Christine Salem a prouvé le contraire, jouant son blues-maloya sur les scènes de nombreux pays. Dans son septième album, Mersi, paru en janvier 2021, elle consacre une magnifique chanson, Tyinbo, aux violences conjugales. « Tu l’appelles ma chérie / Elle embellit et bénit ta vie / A l’heure où tu ne la comprends plus / Tu lui arraches sa vie », chante-t-elle de sa voix grave, presque masculine. Pour celle qui a travaillé dans l’accompagnement social de jeunes adultes avant de se consacrer pleinement à la musique, ces violences sont le fruit de l’éducation. « A la Réunion, quand on élève un garçon, on le surnomme “mon petit coq”, note-t-elle. Ça fait référence aux combats de coqs, ils n’ont pas le droit de pleurer, de montrer leurs émotions. Donc ça finit par sortir d’une autre manière, à travers les gestes. » Trois fois plus de violences conjugales qu’en métropoleSelon une enquête réalisée par l’Institut national d’études démographiques (INED) en 2018, 15 % des femmes vivant en couple se déclarent victimes de violences conjugales à la Réunion, soit trois fois plus qu’en France métropolitaine. Des chiffres qui ont également interpellé le duo Bonbon Vodou, formé par la percussionniste Oriane Lacaille et le guitariste Jérémie Boucris alias « JereM », tous deux basés dans l’Hexagone. Dans leur deuxième album, Cimetière créole, paru en septembre, ils abordent ce thème sur le morceau De colère, dont le clip a été « marrainé » par l’association Figures de femmes totem d’outre-mer. « De furie il a commis l’homme / L’acte de peu de fierté, menaçant / Violent, celle qu’il nomme sa moitié », chantent-ils dans leur poésie douce et bousculée, teintée, comme il se doit, de maloya. Si Jérémie Boucris a des origines tunisiennes – auxquelles il rend hommage à travers l’utilisation d’un saz bricolé à partir d’un petit bidon d’huile –, Oriane Lacaille est, elle, la fille de René Lacaille, musicien réunionnais qui forma avec Alain Péters et d’autres le célèbre groupe des Caméléons, dans les années 1970, et qu’elle a accompagné en tournée dès l’âge de 13 ans. Sur le plan musical, elle se souvient : « Enfant, je constatais qu’il y avait peu de femmes dans les groupes qui venaient de la Réunion, alors quand certaines jouaient des percussions, ça m’attirait beaucoup. Dans la génération de mon père, les femmes ne faisaient pas de musique. Mes oncles jouaient dans des bals, mes tantes restaient à la maison. Ça va beaucoup mieux aujourd’hui, ça bouge, mais c’est vrai que les femmes restent trop rares sur scène. » Au Sakifo Musik Festival, cette année, elles représentaient environ un tiers des artistes programmés. Cet article est paru dans Le Monde (site web)\n\n\nLaTribune(France),no.7294\nComprendre la crise sociale en Guadeloupe\n2021-12-22\nNA\nUne de nombreuses vidéos sur la situation sociale de la Guadeloupe a retenu particulièrement notre attention. On y voit le syndicaliste Élie Domota face à un gendarme sur un barrage. Le syndicaliste, entouré de ses partisans, calme mais apparemment déterminé s'adresse au militaire entouré, lui, d'agents fraîchement débarqués sur l'île. Il lui demande de transmettre le message suivant au préfet. « Dites-lui que nous avons un compte ancestral à régler et que nous irons jusqu'au bout ». Tout aussi calme, l'agent de la force publique lui demande alors de préciser ce qu'il entend par « jusqu'au bout ». S'adressant à nouveau au militaire, cette fois en créole, il répond « la i pann i sek ». Proverbe imagé que l'on peut traduire par « advienne que pourra ». Constatant la surprise de son interlocuteur qui ne comprend pas la réponse, il complète le proverbe sur un ton sarcastique par « menm mouillé i sek » (arrivera ce qui doit arriver), comme pour marquer la fin de l'échange avec un interlocuteur avec lequel on rompt la communication. Cet échange révélateur des tensions de la crise sociale de 2021 est dans la continuité des mobilisations antérieures. Une longue histoire de mobilisationsCelles de mai 1967 (lien : https://www.humanite.fr/mai-1967-greve-et-manifestation-sanglante-en-guadeloupe-636569), auxquelles se réfère ouvertement le mouvement social (lien : http://ugtg.org/spip.php?article327) se sont soldées par un nombre inconnu à ce jour de morts parmi les manifestants, dont Jacques Nestor, leader du mouvement syndicaliste. Ces évènements sont perçus comme une agression coloniale « subie » par la population, sans défense, de Pointe-à-Pitre et plus largement de la Guadeloupe. En 2009 (lien : https://la1ere.francetvinfo.fr/aux-antilles-greve-generale-2009-laisse-gout-amer-678261.html), des milliers de personnes avaient participé à des manifestations contre la crise économique et sociale aux Antilles. Elie Domota du LKP (Lyannaj Kont Pwofitasyon : Mobilisation contre l'exploitation), mouvement de tête de la mobilisation, affirmait dans une émission de la télévision locale Canal 10 que si « l'on veut la guerre civile, on l'aura. Il y aura des morts comme en 1967 (lien : https://www.karthala.com/hommes-et-societes-sciences-economiques-et-politiques/2560-mobilisations-sociales-aux-antilles-les-evenements-de-2009-dans-tous-leurs-sens-9782811106508.html) mais pas de leur côté. » Le mouvement social de 2009 a depuis été inscrit dans le rapport de la commission animée par l'historien Benjamin Stora (lien : https://la1ere.francetvinfo.fr/aux-antilles-greve-generale-2009-laisse-gout-amer-678261.html). Selon ce dernier, les mobilisés de l'époque manifestaient une volonté de « réappropriation sinon d'un destin du moins d'un avenir ». Cette commission d'information et de recherche historique a été instituée par un arrêté du 22 avril 2014 de la ministre des outremers, Georges Pau-Langevin. Sous la direction de l'historien Benjamin Stora, elle a été « chargée d'étudier et de rendre un rapport » sur plusieurs évènements notamment ceux de Guadeloupe survenus entre les 26 et 28 mai 1967. En 2021, après le refus d'abrogation de l'obligation vaccinale, Maïté N'Toumo (lien : https://www.leprogres.fr/sante/2021/11/16/la-guerre-est-declaree-la-situation-se-tend-en-guadeloupe-autour-de-l-obligation-vaccinale), l'actuelle secrétaire générale du principal syndicat de salariés, l'UGTG (l'Union Générale des Travailleurs de Guadeloupe) n'exclut pas l'affrontement. Estimant que le refus de dialogue des autorités et la suspension des soignants réfractaires à la vaccination constituent une violence. Elle déclare à son tour que la guerre est déclarée. Il faut signaler qu'en 2009, le LKP, était à la fois un front puissant d'une cinquantaine d'organisations et le principal interlocuteur des autorités étatiques. En 2021, c'est une organisation parmi les autres dans un collectif qui s'oppose à l'obligation vaccinale et qui présente une plate-forme de revendications sociales. L'UGTG,la CGTG et les partis politiques indépendantistes ne font plus partie de ce LKP affaibli. Comme en 2009, cette « guerre syndicale » est un appel au blocage avec toutefois une capacité de mobilisation moindre en 2021. Elle concerne aujourd'hui principalement les professions médicales et paramédicales ainsi que les pompiers qui refusent le vaccin au motif que la loi qui l'impose porte atteinte à la liberté individuelle et au droit de disposer de son corps. Mais ce qui marque principalement les événements de 2021 est la place des jeunes, désoeuvrés, violents, qui marque un tournant dans la manifestation. L'irruption de la jeunesse guadeloupéenneLa situation sociale de la Guadeloupe est devenue explosive (lien : https://www.lemonde.fr/planete/article/2021/11/20/la-guadeloupe-s-embrase-sur-fond-de-crise-sanitaire_6102952_3244.html) après l'irruption de ces jeunes dans l'action collective certains précisant qu'ils venaient en aide ainsi aux soignants et qu'ils étaient eux aussi contre l'obligation vaccinale. Ils sont à l'origine d'une paralysie quasi complète du fonctionnement normal de la société insulaire. Après le refus des autorités et le déclenchement d'une grève générale illimitée par les syndicats, de nombreux barrages tenus par ces jeunes ont été érigés sur plusieurs points stratégiques de l'archipel. Rapidement, il ne s'agit plus seulement d'une mobilisation contre l'obligation vaccinale. La tension est d'une autre nature, le sens de la contestation aussi. Aux revendications des syndicats présentées selon des modalités convenues s'ajoutent désormais des actions violentes sans formulations de demandes précises et audibles. À l'échange conventionnel entre les forces de l'ordre et le LKP, s'oppose l'action imprévisible de jeunes masqués dont l'un des objectifs est de défier la force publique. Des incendies de voitures et d'immeubles dans les centres villes, ressemblent aux violences urbaines que connaissent sporadiquement les banlieues françaises, un phénomène nouveau qui s'interprète, pour l'heure, comme une mobilisation de défiance (lien : https://la1ere.francetvinfo.fr/guadeloupe/crise-sociale-en-guadeloupe-ce-que-veulent-les-jeunes-1164586.html). La mobilisation des jeunes plus seulement concerner l'objet premier de la contestation. Ces jeunes en déshérence qu'il faut distinguer de ceux qui sont sur les barrages contrôlés par les syndicats sont pour l'essentiel des garçons, mineurs et jeunes adultes. Le plus souvent inactifs ils vivent du secteur informel et d'actions illicites. L'engagement de ces jeunes, bien qu'il défie les autorités, est spontané sans concertation avec le mouvement social. Il ne repose donc pas sur un programme de revendications qui changent d'un barrage à un autre. Les raisons de la colèreCette partie de la jeunesse qui se trouve sur les barricades exprime à sa manière une exclusion qui dépasse la simple revendication de ressources. Leur crise est plus profonde. Elle révèle l'extrême faiblesse de tous les cercles de socialisation dont la famille, l'école et le tissu associatif. Comme l'a montré le démographe Claude-Valentin Marie (lien : https://www.ined.fr/fichier/s_rubrique/325/tendances.demographiques.migratoires.regions.ultraperipheriques.impact.cohesion.economique.sociale.territoriale.rapport.synthese.fr.pdf), l'employabilité de cette partie de la jeunesse est difficile. Le chômage touche en premier lieu ceux qui n'ont pas de diplômes. À cela s'ajoute le départ des plus diplômés qui quittent la Guadeloupe et de ceux à la recherche d'un emploi correspondant à leur qualification. Les jeunes de 15 à 29 ans sont les plus touchés par le chômage (lien : https://www.insee.fr/fr/statistiques/4480182). Leur formation est un défi. Beaucoup d'entre eux sont nés dans des familles (lien : https://www-cairn-info.ezpaarse.univ-paris1.fr/revue-cahiers-de-l-action-2017-2-page-7.htm) monoparentales et sans emplois, ce qui révèle un problème dont on n'a pas encore évalué la gravité. Face à cette évolution de la situation, l'attitude des représentants du gouvernement pourrait renforcer les tensions devenant, paradoxalement, le moteur de la contestation. Certes, on peut difficilement discuter avec des émeutiers non identifiés sans revendications précises. Mais lors de son passage en Guadeloupe le 29 novembre Sébastien Lecornu le ministre des outremers a imposé aux syndicalistes la condamnation des violences de ces jeunes comme condition préalable au dialogue. La condition semble remplie en Martinique (lien : https://www.martinique.franceantilles.fr/actualite/social/un-chemin-de-sortie-de-solution-est-possible-avant-tout-car-il-y-a-une-condamnation-unanime-des-violences-lecornu-594063.php), pas en Guadeloupe. En refusant de discuter avec les syndicats, les autorités ignorent les lois de la mobilisation et se privent d'un probable apaisement de la situation. Pour l'heure, les seuls échanges en cours concernent les élus locaux et les représentants du mouvement social qui doivent se rencontrer autour d'une proposition d'accord de méthode qui prévoit la venue d'une délégation interministérielle. Dans un communiqué (lien : https://www.outre-mer.gouv.fr/le-gouvernement-precise-sa-methode-pour-lelaboration-de-plans-daction-interministeriels-pour-la) datant du 3 décembre, le ministre préfère confier au préfet la mission de le représenter lors d'éventuels échanges. De nouvelles formes d'actions collectives ?En Guadeloupe comme ailleurs l'action collective (lien : https://www-persee-fr.ezpaarse.univ-paris1.fr/doc/rfsoc_0035-2969_1983_num_24_3_3673) repose généralement sur deux dimensions complémentaires. D'une part une intégration horizontale qui révèle le degré de solidarité du groupe contestataire. Ce mode d'intégration se construit le plus souvent sur la base d'intérêts individuels ou collectifs à agir. En Guadeloupe la défense de l'identité culturelle et des acquis sociaux sont les ressorts récurrents de la mobilisation. D'autre part, une intégration verticale qui renseigne sur la nature des relations du groupe avec les autorités. La qualité des relations avec le préfet ou le gouvernement participe à l'intensité de l'action collective. Lorsque la communication et le dialogue existent entre la direction du groupe mobilisé et les autorités, les probabilités de surgissement de la mobilisation sont faibles. On peut penser que les tensions actuelles entre le mouvement social et le ministre Lecornu sont alimentées par des échanges limités. En croisant ces deux dimensions, on peut donc déduire les probabilités de déclenchement et l'intensité de la contestation. La mobilisation (lien : https://fr1lib.org/book/3515400/5e19ba) est d'autant plus importante que la solidarité interne est forte et que l'intégration verticale est faible. Par exemple, en 2009 le LKP a fédéré dans une démarche horizontale inclusive une myriade de partis et d'associations. Son dialogue vertical, conflictuel avec le représentant de l'État s'est déroulé en marginalisant les élus locaux et en médiatisant l'échange; ce qui a galvanisé les troupes. En 2021, le contexte, les acteurs et la stratégie du gouvernement ont changé. Autre différence notable, la base sociale du LKP, moins diversifiée, s'est réduite, ce qui pourrait limiter aussi les probabilités de succès de la mobilisation contre l'obligation vaccinale. Quelques jours avant l'arrivée du ministre, le LKP a rassemblé vraisemblablement plusieurs milliers de manifestants (lien : https://www.karibinfo.com/index.php/2021/12/04/un-deboule-pointois-contre-la-vaccination-obligatoire/) en associant à sa démarche le groupe carnavalesque Akiyo, illustrant ainsi l'idée selon laquelle l'affirmation identitaire est un des ressorts de la mobilisation. Contrairement à ce qui s'est passé en 2009, il n'est pas sûr par conséquent que le mouvement social ait la capacité autonome d'un déploiement de force. Un usage politique de l'opposition à la vaccinationCette crise a provoqué une division du mouvement nationaliste. Curieusement, ce sont les « anciens » qui par réalisme et confiance dans la science militent pour la vaccination. Les « anciens » nationalistes se réfèrent le plus souvent aux pays voisins indépendants qui n'hésitent pas dans une démarche « responsable » à vacciner leur population. Cuba est l'exemple le plus cité. Ils interpellent les « jeunes » sur l'attitude qu'ils auraient dans l'hypothèse d'une Guadeloupe souveraine. Les « jeunes » ne sont pas nécessairement plus modernes. Ils fondent leur opposition à la vaccination sur des croyances dans une pharmacopée locale qui renforcerait les défenses immunitaires. Ces « jeunes », qui dirigent aujourd'hui les syndicats, en symbiose avec une part notable de la population sensible aux discours douteux des réseaux sociaux, ont construit une opposition à la vaccination fondée sur des arguments d'ordre identitaire; ce qui fait dire à Luc Ferry sur LCI le 28 novembre que la Guadeloupe est un territoire « ancestral » ! En réalité, il s'agit d'un usage politique de l'opposition à la vaccination par des syndicalistes par ailleurs militants politiques dont certains avouent être vaccinés. Les allusions sur des médias de l'hexagone à des pratiques vaudous supposées pour expliquer la résistance à cette vaccination sont également purement fantaisistes dans la mesure où cette religion n'est pas pratiquée en Guadeloupe. Si la minorité haïtienne présente sur le sol guadeloupéen en a éventuellement une pratique, elle est discrète et ne peut alors avoir de lien avec la résistance à la vaccination. La peur du vaccin est difficilement compréhensible quand on sait le nombre de morts causés par la pandémie. En réalité, cette peur se conjugue avec une méfiance généralisée (lien : https://theconversation.com/du-code-noir-au-chlordecone-comprendre-le-refus-de-lobligation-vaccinale-aux-antilles-francaises-172668) à l'égard des autorités étatiques et locales. [Image : https://counter.theconversation.com/content/172885/count.gif?distributor=republish-lightbox-advanced] _______ Par Fred Reno (lien : https://theconversation.com/profiles/fred-reno-1295701), Professeur de science politique, Université des Antilles La version originale (lien : https://theconversation.com/) de cet article a été publiée sur The Conversation (lien : https://theconversation.com/fr).\n\n\nLibération(siteweb)\nSanté mentale des enfants : la «lutte de tous les jours» des psy de l'Education nationale\n2021-12-22\nNA\nAu moment où l'Education nationale n'a jamais autant mis en avant la santé mentale de ses élèves, les moyens mis sur la table restent insuffisants pour bon nombre de psychologues scolaires. Les chiffres ne mentent pas. 20% des 15-24 ans souffrent de symptômes dépressifs, a alerté en novembre la Défenseuse des droits , en hausse de 50% par rapport en 2019. Pendant le premier confinement, 13% des enfants de 8 à 9 ans ont subi des troubles socio-émotionnels, d'après l'Inserm et l'Ined. Et les jeunes patients déferlent dans les urgences pédiatriques au fil des vagues de Covid-19. La pandémie a considérablement aggravé la santé mentale des enfants et adolescents. C'est pourquoi le ministre de l'Education nationale, Jean-Michel Blanquer, ne cesse de répéter, comme à la rentrée 2020 , combien il était important que le personnel éducatif veille au « bien-être » des enfants. Dans les établissements, ce sont les conseillers d'orientation-psychologues, rebaptisés «PsyEN» pour « psychologues de l'Education nationale» depuis une réforme en 2018, tous titulaires d'un master de psychologie, qui sont devenus les référents sur ce sujet. Dans le dédale des salles de classe, ils organisent des permanences, accueillent, écoutent, conseillent, consolent les élèves, une ou plusieurs fois dans l'année, selon les besoins. Sans protocole thérapeutique figé. Les seules consignes étant « indicatives», regrette auprès de Libération Bernard Desclaux, ancien conseiller psychologue aujourd'hui à la retraite. «Une lutte de tous les jours» A ce jour, on dénombre 1 PsyEN pour environ 1 500 élèves, selon un rapport de l'Education nationale de 2021 . Soit «3 300 PsyEN, contre 4 700 conseillers d'orientation dans les années 80», précise Bernard Desclaux. Une prise en charge encore largement «insuffisante», pour la vice-présidente des PsyEN, Delphine Riccio. D'autant qu'un tiers d'entre eux sont aujourd'hui contractuels, un chiffre en constante augmentation. «Les départs à la retraite ne sont pas remplacés,s'insurge Bernard Desclaux . On agite l'épouvantail de l'austérité. Et pendant ce temps, le métier se précarise.»Autre problème : l'isolement des PsyEN au sein de l'école. «On n'a pas assez assez d'appui dans les établissements,se désole la PsyEN. Chaque fois, les équipes pédagogiques nous répondent qu'on n'a pas le temps, que l'école n'est pas le lieu pour faire le psy.» Delphine Riccio s'adapte, se contorsionne, court entre les quatre collèges et lycées qu'elle gère, voit un élève sur sa pause déjeuner. «C'est de la débrouille. Une lutte de tous les jours avec le personnel éducatif pour trouver les créneaux, créer des rendez-vous d'urgence.» Conséquences inévitables : «On ne fait pas de la thérapie, mais de la médiation. On passe notre temps à réorienter les lycéens vers leur famille ou d'autres structures. On se sent impuissants» , regrette la présidente des psychologues de l'Education nationale. Alors de plus en plus d'établissements font appel à des prestataires : des libéraux, mais aussi des associations, comme l'Institut de formation, d'animation et de conseil (Ifac). Cette dernière organise depuis dix ans des permanences d'écoute chaque semaine, notamment dans trois lycées de Paris, ainsi que dans celui de Montaigne à partir de janvier. Mais vite, la coach de l'Ifac Alice Duclos relativise : «On n'est encore qu'aux balbutiements de la prise en charge de la santé mentale à l'école. Il n'y a pas de réel accompagnement, les rendez-vous que nous organisons ne sont que ponctuels.» Sans parler du coût de ces dispositifs, «de 4 000 à 5 000 euros par an», souffle-t-elle, aux frais de la région. Le gouvernement a également lancé au printemps des chèques psychologiques destinés aux enfants et adolescents, de 3 à 17 ans, pour rembourser jusqu'à dix séances avec un thérapeute du privé. Et a aussi annoncé, ces derniers jours, que 50 infirmiers allaient grossir les rangs de l'école, à partir de janvier prochain. En toile de fond, toujours la même logique : «L'individualisation du problème, dénonce la PsyEN Delphine Riccio. On propose à tort et à travers un suivi personnalisé, sans penser que la souffrance psychologique est structurelle, car liée à la pression de la sélection, des notes, de la compétition, au contexte économique ou à l'écoanxiété.» Cet article est paru dans Libération (site web)\n\n\nLibération(siteweb)\nSanté mentale des enfants : la «lutte de tous les jours» des psys de l'Education nationale\n2021-12-22\nNA\nAu moment où l'Education nationale n'a jamais autant mis en avant la santé mentale de ses élèves, les moyens mis sur la table restent insuffisants pour bon nombre de psychologues scolaires. Les chiffres ne mentent pas. 20% des 15-24 ans souffrent de symptômes dépressifs, a alerté en novembre la Défenseuse des droits , en hausse de 50% par rapport en 2019. Pendant le premier confinement, 13% des enfants de 8 à 9 ans ont subi des troubles socio-émotionnels, d'après l'Inserm et l'Ined. Et les jeunes patients déferlent dans les urgences pédiatriques au fil des vagues de Covid-19. La pandémie a considérablement aggravé la santé mentale des enfants et adolescents. C'est pourquoi le ministre de l'Education nationale, Jean-Michel Blanquer, ne cesse de répéter, comme à la rentrée 2020 , combien il était important que le personnel éducatif veille au « bien-être » des enfants. Dans les établissements, ce sont les conseillers d'orientation-psychologues, rebaptisés «PsyEN» pour « psychologues de l'Education nationale» depuis une réforme en 2018, tous titulaires d'un master de psychologie, qui sont devenus les référents sur ce sujet. Dans le dédale des salles de classe, ils organisent des permanences, accueillent, écoutent, conseillent, consolent les élèves, une ou plusieurs fois dans l'année, selon les besoins. Sans protocole thérapeutique figé. Les seules consignes étant « indicatives», regrette auprès de Libération Bernard Desclaux, ancien conseiller psychologue aujourd'hui à la retraite. «Une lutte de tous les jours» A ce jour, on dénombre 1 PsyEN pour environ 1 500 élèves, selon un rapport de l'Education nationale de 2021 . Soit «3 300 PsyEN, contre 4 700 conseillers d'orientation dans les années 80», précise Bernard Desclaux. Une prise en charge encore largement «insuffisante», pour la vice-présidente des PsyEN, Delphine Riccio. D'autant qu'un tiers d'entre eux sont aujourd'hui contractuels, un chiffre en constante augmentation. «Les départs à la retraite ne sont pas remplacés,s'insurge Bernard Desclaux . On agite l'épouvantail de l'austérité. Et pendant ce temps, le métier se précarise.»Autre problème : l'isolement des PsyEN au sein de l'école. «On n'a pas assez assez d'appui dans les établissements,se désole la psychologue. Chaque fois, les équipes pédagogiques nous répondent qu'on n'a pas le temps, que l'école n'est pas le lieu pour faire le psy.» Delphine Riccio s'adapte, se contorsionne, court entre les quatre collèges et lycées qu'elle gère, voit un élève sur sa pause déjeuner. «C'est de la débrouille. Une lutte de tous les jours avec le personnel éducatif pour trouver les créneaux, créer des rendez-vous d'urgence.» Conséquences inévitables : «On ne fait pas de la thérapie, mais de la réorientation. On passe notre temps à guider les lycéens vers leur famille ou d'autres structures. On se sent impuissants» , regrette la présidente des psychologues de l'Education nationale. Alors de plus en plus d'établissements font appel à des prestataires : des libéraux, mais aussi des associations, comme l'Institut de formation, d'animation et de conseil (Ifac). Cette dernière organise depuis dix ans des permanences d'écoute chaque semaine, notamment dans trois lycées de Paris, ainsi que dans celui de Montaigne à partir de janvier. Mais vite, la coach de l'Ifac Alice Duclos relativise : «On n'est encore qu'aux balbutiements de la prise en charge de la santé mentale à l'école. Il n'y a pas de réel accompagnement, les rendez-vous que nous organisons ne sont que ponctuels.» Sans parler du coût de ces dispositifs, «de 4 000 à 5 000 euros par an», souffle-t-elle, aux frais de la région. Le gouvernement a également lancé au printemps des chèques psychologiques destinés aux enfants et adolescents, de 3 à 17 ans, pour rembourser jusqu'à dix séances avec un thérapeute du privé. Et a aussi annoncé, ces derniers jours, que 50 infirmiers allaient grossir les rangs de l'école, à partir de janvier prochain. En toile de fond, toujours la même logique : «L'individualisation du problème, dénonce la PsyEN Delphine Riccio. On propose à tort et à travers un suivi personnalisé, sans penser que la souffrance psychologique est structurelle, car liée à la pression de la sélection, des notes, de la compétition, au contexte économique ou à l'écoanxiété.»Retrouvez notre dossier complet :Le mal-être des enfants face au Covid Cet article est paru dans Libération (site web)\n\n\nLibération(siteweb)\nSanté mentale des enfants : la «lutte de tous les jours» des psys de l'Education nationale\n2021-12-22\nNA\nAu moment où l'Education nationale n'a jamais autant mis en avant la santé mentale de ses élèves, les moyens mis sur la table restent insuffisants pour bon nombre de psychologues scolaires. Les chiffres ne mentent pas. 20% des 15-24 ans souffrent de symptômes dépressifs, &lt;a href=\"https://www.liberation.fr/societe/education/la-defenseure-des-droits-alerte-sur-la-sante-mentale-des-jeunes-mise-a-mal-par-la-crise-sanitaire-20211117_I55MQOOYYJFNNEVK6NFNJ3CONA/\" target=\"_blank\"&gt;a alerté en novembre la Défenseuse des droits&lt;/a&gt;, en hausse de 50% par rapport en 2019. Pendant le premier confinement, 13% des enfants de 8 à 9 ans ont subi des troubles socio-émotionnels, d'après &lt;a href=\"https://www-cairn-info.ezpaarse.univ-paris1.fr/revue-population-et-societes-2021-1-page-1.htm\" target=\"_blank\"&gt;l'Inserm et l'Ined&lt;/a&gt;. Et &lt;a href=\"https://www.liberation.fr/societe/sante/covid-19-en-pedopsychiatrie-des-vagues-dhospitalisations-denfants-20211221_YEECYYWRBBFCLNQD7XL66WM5IA/\" target=\"_blank\"&gt;les jeunes patients déferlent dans les urgences pédiatriques au fil des vagues&lt;/a&gt; de Covid-19. La pandémie a considérablement aggravé la santé mentale des enfants et adolescents. C'est pourquoi le ministre de l'Education nationale, Jean-Michel Blanquer, ne cesse de répéter, comme à la rentrée &lt;a href=\"http://www.touteduc.fr/fr/archives/id-17881--il-faut-que-le-bien-etre-des-profs-rejaillisse-sur-le-bien-etre-des-eleves-jean-michel-blanquer-\"&gt;2020&lt;/a&gt;, combien il était important que le personnel éducatif veille au «&lt;i&gt;bien-être&lt;/i&gt;» des enfants. Dans les établissements, ce sont les conseillers d'orientation-psychologues, rebaptisés «PsyEN» pour «&lt;i&gt;psychologues de l'Education nationale&lt;/i&gt;» depuis une réforme en 2018, tous titulaires d'un master de psychologie, qui sont devenus les référents sur ce sujet. Dans le dédale des salles de classe, ils organisent des permanences, accueillent, écoutent, conseillent, consolent les élèves, une ou plusieurs fois dans l'année, selon les besoins. Sans protocole thérapeutique figé. Les seules consignes étant «&lt;i&gt;indicatives&lt;/i&gt;», regrette auprès de &lt;i&gt;Libération&lt;/i&gt; Bernard Desclaux, ancien conseiller psychologue aujourd'hui à la retraite. «Une lutte de tous les jours» A ce jour, on dénombre 1 PsyEN pour environ 1 500 élèves, &lt;a href=\"https://www.education.gouv.fr/geographie-de-l-ecole-323657\" target=\"_blank\"&gt;selon un rapport de l'Education nationale de 2021&lt;/a&gt;. Soit &lt;i&gt;«3 300 PsyEN, contre 4 700 conseillers d'orientation dans les années 80»,&lt;/i&gt; précise Bernard Desclaux. Une prise en charge encore largement &lt;i&gt;«insuffisante»,&lt;/i&gt; pour la vice-présidente des PsyEN, Delphine Riccio. D'autant qu'un tiers d'entre eux sont aujourd'hui contractuels, un chiffre en constante augmentation. &lt;i&gt;«Les départs à la retraite ne sont pas remplacés, &lt;/i&gt;s'insurge Bernard Desclaux&lt;i&gt;. On agite l'épouvantail de l'austérité. Et pendant ce temps, le métier se précarise.»&lt;/i&gt; Autre problème : l'isolement des PsyEN au sein de l'école. &lt;i&gt;«On n'a pas assez assez d'appui dans les établissements, &lt;/i&gt;se désole la psychologue. &lt;i&gt;Chaque fois, les équipes pédagogiques nous répondent qu'on n'a pas le temps, que l'école n'est pas le lieu pour faire le psy.»&lt;/i&gt; Delphine Riccio s'adapte, se contorsionne, court entre les quatre collèges et lycées qu'elle gère, voit un élève sur sa pause déjeuner. &lt;i&gt;«C'est de la débrouille. Une lutte de tous les jours avec le personnel éducatif pour trouver les créneaux, créer des rendez-vous d'urgence.»&lt;/i&gt; Conséquences inévitables : &lt;i&gt;«On ne fait pas de la thérapie, mais de la réorientation. On passe notre temps à guider les lycéens vers leur famille ou d'autres structures. On se sent impuissants&lt;/i&gt;»&lt;i&gt;,&lt;/i&gt; regrette la présidente des psychologues de l'Education nationale. Alors de plus en plus d'établissements font appel à des prestataires : des libéraux, mais aussi des associations, comme &lt;a href=\"https://www.ifac.asso.fr/L-Ifac-en-quelques-mots\" target=\"_blank\"&gt;l'Institut de formation, d'animation et de conseil&lt;/a&gt; (Ifac). Cette dernière organise depuis dix ans des permanences d'écoute chaque semaine, notamment dans trois lycées de Paris, ainsi que dans celui de Montaigne à partir de janvier. Mais vite, la coach de l'Ifac Alice Duclos relativise : &lt;i&gt;«On n'est encore qu'aux balbutiements de la prise en charge de la santé mentale à l'école. Il n'y a pas de réel accompagnement, les rendez-vous que nous organisons ne sont que ponctuels.&lt;/i&gt;» Sans parler du coût de ces dispositifs, &lt;i&gt;«de 4 000 à 5 000 euros par an&lt;/i&gt;», souffle-t-elle, aux frais de la région. Le gouvernement a également lancé au printemps des &lt;a href=\"https://solidarites-sante.gouv.fr/actualites/presse/communiques-de-presse/article/un-forfait-psychologique-d-urgence-a-destination-des-enfants-et-adolescents\" target=\"_blank\"&gt;chèques psychologiques&lt;/a&gt; destinés aux enfants et adolescents, de 3 à 17 ans, pour rembourser jusqu'à dix séances avec un thérapeute du privé. Et a aussi annoncé, ces derniers jours, que 50 infirmiers allaient grossir les rangs de l'école, à partir de janvier prochain. En toile de fond, toujours la même logique : &lt;i&gt;«L'individualisation du problème&lt;/i&gt;, dénonce la PsyEN Delphine Riccio. &lt;i&gt;On propose à tort et à travers un suivi personnalisé, sans penser que la souffrance psychologique est structurelle, car liée à la pression de la sélection, des notes, de la compétition, au contexte économique ou à l'&lt;/i&gt;&lt;a href=\"https://www.liberation.fr/environnement/climat/tristes-effrayes-abandonnes-de-nombreux-jeunes-en-detresse-face-a-la-crise-climatique-20210914_J5NIYUN6Z5GH5A4NOX5YDJH3ZU/\" target=\"_blank\"&gt;&lt;i&gt;écoanxiété&lt;/i&gt;&lt;/a&gt;&lt;i&gt;.»&lt;/i&gt; &lt;i&gt;&lt;b&gt;Retrouvez notre dossier complet : &lt;/b&gt;&lt;/i&gt;&lt;a href=\"https://www.liberation.fr/societe/sante/covid-19-et-mal-etre-des-enfants-que-faire-20211222_ERQQSR5IKBFJFIOV7JLEAFNWKI/\"&gt;&lt;i&gt;&lt;b&gt;Le mal-être des enfants face au Covid&lt;/b&gt;&lt;/i&gt;&lt;/a&gt; Cet article est paru dans Libération (site web)\n\n\nAFPInfosFrançaises\nDémographie: des indicateurs chamboulés par le Covid\n2021-12-23\nNA\nParis, 23 déc 2021 (AFP) - - Davantage de décès que de naissances: pendant deux trimestres successifs, fin 2020 et début 2021, la population française a connu un solde naturel négatif, une première depuis 1945, qui s'explique largement par l'épidémie de Covid. Si elle conserve \"la plus forte croissance démographique de l'Union européenne\", la France a vu malgré tout sa \"dynamique démographique\" \"perturbée\" par la crise sanitaire, pointent les démographes de l'Ined. * MortalitéEn 2020, 668.900 décès ont été enregistrés en France toutes causes confondues, soit une hausse de 9,1% par rapport à 2019. L'espérance de vie a diminué de presque 7 mois pour les hommes et cinq mois pour les femmes, retrouvant son niveau de 2014. * NatalitéQuelque 736.000 bébés sont nés en France en 2020, soit le niveau le plus faible depuis 1945. Cette baisse, engagée depuis plus de 10 ans et accélérée en 2020, a été particulièrement marquée en fin d'année, soit neuf mois après le confinement: -6% et -8% en novembre et décembre, par rapport à la moyenne des trois années précédentes. Malgré tout, la France demeure en 2020 le pays le plus fécond d'Europe, avec 1,83 enfant par femme. * Solde naturelLe solde naturel (différence entre les naissances et les décès) a atteint +67.000, soit à peine plus que le solde migratoire, selon des chiffres provisoires. Cet indicateur a même été négatif lors du dernier trimestre 2020 et du premier trimestre 2021, une première depuis 1945. * MariagesLeur nombre s'est effondré de 31% en 2020, à cause des contraintes sanitaires. La baisse est particulièrement forte de mars à juillet 2020, sans véritable rattrapage durant le deuxième semestre (sauf en octobre avec +28%). * IVGLe nombre d'interruptions volontaires de grossesse a baissé de 4% en 2020 par rapport à 2019. Cette baisse a été \"particulièrement forte dans les semaines qui ont suivi le premier confinement\", ce qui montre que \"la baisse des naissances de novembre et décembre est avant tout le fait d'une diminution des conceptions\", relèvent les démographes. * ImmigrationSelon des statistiques du ministère de l'Intérieur, le nombre de titres de séjour pour les ressortissants hors UE a baissé de 21% en 2020 par rapport à 2019. ab/lum/pb\n\n\n\n\n\n\n\nOn a bien récupéré les dates et les noms de journaux."
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#comparaison-des-débuts-de-textes",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#comparaison-des-débuts-de-textes",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Comparaison des débuts de textes",
    "text": "Comparaison des débuts de textes\n\n\n\nDoublons en début\n\n# Calcul des paires de distance\n# C'est ici qu'a lieu le calcul de distance entre tous les textes.\ndist &lt;- stringdistmatrix(articles$extrait_debut) \n## Conversion en matrice \nm &lt;- as.matrix(dist)\n# Dans la matrice, on met 1000 comme valeur pour toutes les valeurs en dessous \n# de la diagonale, pour éviter d'avoir deux fois la même mesure\nm[lower.tri(m)] &lt;- 1000 \n# Dans la matrice, on met 1000 comme valeur pour la diagonale \n# pour ne pas enlever un texte parce qu'il ressemble à lui-même...\ndiag(m) &lt;- 1000 \n\n# Sélection des paires proches\n# On regarde les positions pour lesquelles l'indice de dissimilarité est \n# inférieure à 50. C'est ici donc qu'on fixe le seuil et qu'on peut le changer !  \nindices &lt;- which(m &lt; 50, arr.ind = TRUE) \n\n## Vérifications\nverif_dbt &lt;- cbind(articles$extrait_debut[indices[,1]], \n                   articles$extrait_debut[indices[,2]])\n# On peut regarder ce qui a été considéré comme trop proche pour faire varier le seuil.\n\n## Suppression des articles proches\narticles &lt;- articles %&gt;% slice(-indices[,2])"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#comparaison-des-fins-de-textes",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#comparaison-des-fins-de-textes",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Comparaison des fins de textes",
    "text": "Comparaison des fins de textes\n\n\n\nDoublons en fin\n\n## Calcul des paires de distance\ndist &lt;- stringdistmatrix(articles$extrait_fin)\n\n## Conversion en matrice \nm &lt;- as.matrix(dist)\nm[lower.tri(m)] &lt;- 1000 \ndiag(m) &lt;- 1000\n\n## Sélection des paires proches\nindices &lt;- which(m &lt; 50, arr.ind = TRUE)\n\n## Vérifications\ntest &lt;- cbind(articles$extrait_fin[indices[,1]], articles$extrait_fin[indices[,2]])\n\n## Suppression des articles proches\narticles &lt;- articles %&gt;% \n  slice(-indices[,2])\n\n\nOn a donc supprimé tous les textes trop similaires. Nous pouvons donc supprimer les deux nouvelles variables d’extraits devenues inutiles.\n\n\n\nNettoyage\n\narticles &lt;- articles %&gt;% \n  select(-c(extrait_debut,extrait_fin))"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#recoder-les-journaux",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#recoder-les-journaux",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Recoder les journaux",
    "text": "Recoder les journaux\nJe reprends la méthode et les explications utilisées par Corentin Roquebert dans son tutoriel.\nElle consiste à ne garder que les principales sources (grands journaux), et à regrouper les sources plus petites (presses régionales, féminines, etc.)\n\nCréation variable + principes du nettoyage\nOn commence par créer la variable CJournal et mettre tous les journaux dans une catégorie “Autre”, pour recoder ensuite les journaux sélectionnés.\n\n\n\nRecoder les journaux (1)\n\n# Catégorie rebut\narticles$CJournal&lt;- \"Autre\" \n\n\nPour recoder les journaux, alors que la variable Journal n’est pas propre, on cherche des chaînes de caractères pour isoler les journaux un à un.\n\n\n\nRecoder les journaux (2)\n\n# Exemple pour le Figaro :\narticles$CJournal[stri_detect_fixed(articles$Journal, \"figaro\",case_insensitive=T)] &lt;- \"Figaro\"\n\n\nIci, le code met “Figaro” comme modalité de la nouvelle variable CJournal à partir du moment où la chaîne de caractères “figaro” est renseignée dans la variable initiale (Journal). On prend donc toutes les variations de ce journal (ici, on a tout aussi bien “Le Figaro”, “le Figaro”, “Figaro magazine”, “Figaro Economie, n°1256”, “Figaro web”, les variations sont innombrables) et on les assimile. L’argument case_insensitive permet de ne pas se soucier des majuscules.\nPuis on passe à des cas plus complexes :\n\n\n\nRecoder les journaux (3)\n\n# Un autre cas : Le Monde\narticles$CJournal[stri_detect_fixed(articles$Journal, \"monde\",case_insensitive=T)] &lt;- \"Monde\"\n\n\nIci, le cas est un peu plus épineux. En effet, il y a d’autres journaux qui ont la chaîne de caractères “monde” dans leur titre, comme “le Monde Diplomatique”. Il est donc important de faire ce recodage au début, avant de faire celui où l’on va chercher “monde diplo” par exemple, qui va ainsi “corriger” l’erreur qu’on avait faite dans un premier temps. Il faut donc faire attention à l’ordre dans lequel on effectue ces recodages.\n\n\nExploration des journaux à recoder\nOn applique cette méthode à toutes les autres catégories :\nPour ça, je trie les journaux pour savoir qu’elles sont les catégories que je vais garder.\n\n\n\nRecoder les journaux (4)\n\nN_art &lt;- articles %&gt;% \n  group_by(Journal) %&gt;% \n  summarise(N_art= n()) %&gt;% \n  arrange(desc(N_art),Journal)\n\n\n\n\n\n\n\n\nJournal\nN_art\n\n\n\n\nLeFigaro(siteweb)\n29\n\n\nBulletinQuotidien\n20\n\n\nLeMonde(siteweb)\n19\n\n\nLeMonde\n18\n\n\nLesEchos(siteweb)\n17\n\n\nLibération(siteweb)\n17\n\n\n20Minutes(siteweb)-20Minutes\n16\n\n\nAFPInfosFrançaises\n15\n\n\nLaCroix(siteweb)\n15\n\n\nAujourd'huienFranceEditionPrincipale\n13\n\n\nL'Express(siteweb)\n12\n\n\nSciencesetAvenir(siteweb)\n12\n\n\nAujourd'huienFrance(siteweb)\n11\n\n\nOuest-France(siteweb)\n11\n\n\nL'Obs(siteweb)\n10\n\n\nSudOuest(siteweb)\n10\n\n\n20Minutes(siteweb)\n8\n\n\nMidiLibre(siteweb)\n8\n\n\nl'Humanité\n8\n\n\nLibération\n7\n\n\nBiba(siteweb)-BIBA\n6\n\n\nLeTélégramme(Bretagne)\n6\n\n\nMadameFigaro(siteweb)\n6\n\n\nValeursActuelles(siteweb)\n6\n\n\nAFPInfosMondiales\n5\n\n\nChallenges(siteweb)\n5\n\n\nAFP-JournalInternetAFP(français)\n4\n\n\nJeuneAfrique(siteweb)\n4\n\n\nLaCorrespondanceéconomique\n4\n\n\nLaGazettedescommunes(siteweb)\n4\n\n\nLeParisien(siteweb)Editionprincipale\n4\n\n\nLeTélégramme(Bretagne)(siteweb)\n4\n\n\nAFPInfosEconomiques\n3\n\n\nAujourd'huienFranceEditionPrincipale;Nantes;Paris\n3\n\n\nLaCorrespondancedelaPresse\n3\n\n\nLaDépêcheduMidiGÉNÉRAL\n3\n\n\nSanté+Magazine(siteweb)\n3\n\n\nScienceetVie(siteweb)-Scienceetvie\n3\n\n\nActeursPublics-Nominations\n2\n\n\nActualitésSocialesHebdomadaires(siteweb)\n2\n\n\nCorseMatin\n2\n\n\nDordogneLibre\n2\n\n\nL'Histoire,no.506\n2\n\n\nL'Histoire-Collections,no.95\n2\n\n\nL'Indépendant(siteweb)\n2\n\n\nL'IndépendantCARCA_IN\n2\n\n\nL'Obs\n2\n\n\nL'Orient-LeJour\n2\n\n\nL'UsineNouvelle(siteweb)\n2\n\n\nLaCroix,no.42364\n2\n\n\nLaLibre(siteweb)\n2\n\n\nLaMatinaleduMonde\n2\n\n\nLaRépubliquedesPyrénées(siteweb)\n2\n\n\nLaRépubliqueduCentre\n2\n\n\nLaVie,no.4056\n2\n\n\nLeBienPublicEditiondelaHauteCôted'Or;EditiondeBeaune;EditiondelaRégionDijonnaise;EditiondeDijon\n2\n\n\nLeCourrierdel'Ouest(siteweb)\n2\n\n\nLeJournaldeSaôneetLoireEditiondeMontceau-Creusot-Autun;EditiondeBresse;EditiondeChalon-Sur-Saône;EditionduCharolais-Brionnais;EditiondeMâcon\n2\n\n\nLeMondediplomatique\n2\n\n\nLePoint.fr,no.202202\n2\n\n\nLePoint.fr,no.202301\n2\n\n\nLePoint.fr,no.202305\n2\n\n\nLeSoirGENERALE\n2\n\n\nOuest-France-L'éditiondusoir\n2\n\n\nPleineVie\n2\n\n\nPleineVie(siteweb)-PleineVie\n2\n\n\nPresseOcéanNantesMétropole,NordetSud;Saint-NazairePresqu'île\n2\n\n\nRiskAssur(siteweb)\n2\n\n\nSanté-médecine(siteweb)\n2\n\n\nTopSanté(siteweb)\n2\n\n\nTopSanté(siteweb)-TopSanté.com\n2\n\n\nmariefrance(siteweb)-MarieFrance\n2\n\n\n20Minutes\n1\n\n\nActualitésSocialesHebdomadaires,no.3259\n1\n\n\nActualitésSocialesHebdomadaires,no.3279\n1\n\n\nActualitésSocialesHebdomadaires,no.3286\n1\n\n\nAujourd'huienFranceEditionPrincipale;Toulouse\n1\n\n\nBiba(siteweb)\n1\n\n\nBoursier(siteweb)\n1\n\n\nCLEMI(fichepédagogique)\n1\n\n\nCarenews(siteweb)\n1\n\n\nCarenews(siteweb)-Carenews\n1\n\n\nCentrePresse(Vienne)\n1\n\n\nCentrePresseAveyronRODEZ_CP\n1\n\n\nCoiffuredeParis\n1\n\n\nCorseMatin(siteweb)-Corsematin\n1\n\n\nCourrierpicardTouteséditions\n1\n\n\nEconostrum(siteweb)\n1\n\n\nElWatan(siteweb)\n1\n\n\nElWatan(siteweb)-ElWatan\n1\n\n\nEntrepriseetCarrières,no.1576\n1\n\n\nEntrepriseetCarrières,no.1609\n1\n\n\nEntrepriseetCarrières,no.1616\n1\n\n\nGrazia(siteweb)-Grazia(FR)\n1\n\n\nHuffPost-France(siteweb)\n1\n\n\nL'AGEFIHebdo\n1\n\n\nL'EchoRépublicainEditionprincipale\n1\n\n\nL'EstRépublicainEditiondeLunéville;EditiondeNancy;EditiondePont-à-Mousson-Toul;EditiondeMeuse\n1\n\n\nL'EstRépublicainEditiondeLunéville;EditiondeNancy;EditiondePont-à-Mousson;EditiondeToul;EditiondeMeuse\n1\n\n\nL'Express,no.3685\n1\n\n\nL'Express,no.3706\n1\n\n\nL'Express,no.3755\n1\n\n\nL'Histoire,no.492\n1\n\n\nL'Histoire,no.493\n1\n\n\nL'Histoire,no.501\n1\n\n\nL'Histoire,no.508\n1\n\n\nL'Indépendant(siteweb)-L'Indépendant\n1\n\n\nL'Opinion\n1\n\n\nL'Union(France)Vitry\n1\n\n\nL'Yonnerépublicaine(siteweb)-lyonne.fr\n1\n\n\nLaCroix,no.42234\n1\n\n\nLaCroix,no.42241\n1\n\n\nLaCroix,no.42340\n1\n\n\nLaCroix,no.42359\n1\n\n\nLaCroix,no.42423\n1\n\n\nLaCroix,no.42436\n1\n\n\nLaCroix,no.42440\n1\n\n\nLaCroix,no.42463\n1\n\n\nLaCroix,no.42467\n1\n\n\nLaCroix,no.42485\n1\n\n\nLaCroix,no.42506\n1\n\n\nLaCroix,no.42521\n1\n\n\nLaCroix,no.42535\n1\n\n\nLaCroix,no.42593\n1\n\n\nLaCroix,no.42637\n1\n\n\nLaDépêcheduMidiLot\n1\n\n\nLaDépêcheduMidiLot-et-Garonne\n1\n\n\nLaLettredel'audiovisuel\n1\n\n\nLaLibreBelgique\n1\n\n\nLaLibreBelgiqueéditionnationale;Hainaut;BrabantWallon;Bruxelles\n1\n\n\nLaMontagne(siteweb)\n1\n\n\nLaMontagneIssoire-Sancy-Haute-Loire;Clermont-Ferrand;Riom;Thiers-Ambert\n1\n\n\nLaNouvelleRépubliqueDimancheINFORMATIONSGENERALES\n1\n\n\nLaNouvelleRépubliqueduCentre-OuestINFORMATIONSGENERALES\n1\n\n\nLaNouvelleRépubliqueduCentre-OuestIndre-et-Loire\n1\n\n\nLaNouvelleRépubliqueduCentre-OuestLOIRETCHER\n1\n\n\nLaProvence\n1\n\n\nLaProvenceAVIGN;SUVSE\n1\n\n\nLaProvenceMARTI;SALON\n1\n\n\nLaRecherche,no.574\n1\n\n\nLaTribune(France),no.7294\n1\n\n\nLaTribune(France),no.7327\n1\n\n\nLaTribune(France),no.7470\n1\n\n\nLaTribune(France),no.7541\n1\n\n\nLaTribune(France),no.7544\n1\n\n\nLaVie,no.4010\n1\n\n\nLaVie,no.4022\n1\n\n\nLaVie,no.4039\n1\n\n\nLeBerryRépublicainCher\n1\n\n\nLeCourrierdel'OuestDeux-Sèvres;Saumur;Cholet;Angers;NordAnjou\n1\n\n\nLeCourrierdesmairesetdeséluslocaux,no.363\n1\n\n\nLeFigaro,no.24077\n1\n\n\nLeFigaro,no.24104\n1\n\n\nLeFigaro,no.24132\n1\n\n\nLeFigaro,no.24162\n1\n\n\nLeFigaro,no.24215\n1\n\n\nLeFigaro,no.24300\n1\n\n\nLeFigaro,no.24343\n1\n\n\nLeFigaro,no.24447\n1\n\n\nLeFigaro,no.24450\n1\n\n\nLeFigaro,no.24467\n1\n\n\nLeFigaro,no.24469\n1\n\n\nLeFigaro,no.24506\n1\n\n\nLeFigaro,no.24518\n1\n\n\nLeFigaroMagazine,no.24456\n1\n\n\nLeFigaroMagazine,no.24491\n1\n\n\nLeFigaroÉtudiant(siteweb)\n1\n\n\nLeJournaldeSaôneetLoireEditiondeChalon-Sur-Saône;EditiondeMontceau-Creusot-Autun\n1\n\n\nLeJournaldeSaôneetLoireEditionleCreusot-Autun;EditiondeMontceau-les-Mines;EditiondeBresse;EditiondeChalon-Sur-Saône;EditionduCharolais-Brionnais;EditiondeMâcon\n1\n\n\nLeJournaldesFemmes(siteweb)-JournaldesFemmes\n1\n\n\nLeJournalduCentreNièvre;Nièvre\n1\n\n\nLeJournalduGrandParis(siteweb)\n1\n\n\nLeMaineLibreHauteSarthe;Sarthe-Loir;GrandMans\n1\n\n\nLeParisienOise;Seine-et-Marne;Essonne;Yvelines;Vald'Oise;ValdeMarne;SeineStDenis;Hauts-de-Seine;Paris;EditionPrincipale\n1\n\n\nLePoint,no.2627\n1\n\n\nLePoint.fr,no.202203\n1\n\n\nLePoint.fr,no.202204\n1\n\n\nLePoint.fr,no.202209\n1\n\n\nLePoint.fr,no.202210\n1\n\n\nLePoint.fr,no.202302\n1\n\n\nLePoint.fr,no.202304\n1\n\n\nLeProgrès(Lyon)EditiondeLons,ChampagnoleetduHaut-Jura;EditiondeDoleetduNordJura;Editiond'Oyonnax–Léman–Bugey–Bas-Bugey;EditiondeBourg–Bresse–Val-de-Saône-Nord;EditiondeDombes–CôtièredeL’Ain;EditiondeVillefrancheetBeaujolais;EditiondeTarare–L’Arbresle–MontsduLyonnais;Editiond'Oullins–Givors–MontsduLyonnais;EditionOuestLyonnaisetValdeSaône;EditionEstLyonnais;EditiondeLyon-Villeurbanne-Caluire;EditiondelaHaute-Loire;EditionduRoannais;EditionduForez;EditionduGieretduPilat;EditiondeL’Ondaine;EditiondeSaint-Etienne\n1\n\n\nLeProgrès(Lyon)EditiondeVillefranche-Tarare;Editiond'Oullins–Givors–MontsduLyonnais;EditionOuestLyonnaisetValdeSaône;EditionEstLyonnais;EditiondeLyon-Villeurbanne-Caluire\n1\n\n\nLeProgrès(Lyon)EditionduRoannais;EditionduForez;EditionduGieretduPilat;EditiondeL’Ondaine;EditiondeSaint-Etienne;EditiondeLons,ChampagnoleetduHaut-Jura;EditiondeDoleetduNordJura;EditiondeVillefrancheetBeaujolais;EditiondeTarare–L’Arbresle–MontsduLyonnais;Editiond'Oullins–Givors–MontsduLyonnais;EditionOuestLyonnaisetValdeSaône;EditionEstLyonnais;EditiondeLyon-Villeurbanne-Caluire;Editiond'Oyonnax–Léman–Bugey–Bas-Bugey;EditiondeBourg–Bresse–Val-de-Saône-Nord;EditiondeDombes–CôtièredeL’Ain;EditiondelaHaute-Loire\n1\n\n\nLeQuotidienduMédecin\n1\n\n\nLesCahiersduDRH,no.299\n1\n\n\nLesEchos,no.23622\n1\n\n\nLesEchos,no.23674\n1\n\n\nLesEchos,no.23743\n1\n\n\nLesEchos,no.23759\n1\n\n\nLesEchos,no.23793\n1\n\n\nLesEchos,no.23833\n1\n\n\nLesEchos,no.23878\n1\n\n\nLesEchos,no.23901\n1\n\n\nLesEchos,no.23965\n1\n\n\nLesEchos-LeCercle(siteweb)\n1\n\n\nLesEchosStart(siteweb),no.0702405280595\n1\n\n\nLesEchosWeek-End\n1\n\n\nLesVeilléesdesChaumières\n1\n\n\nLiaisonssocialesMagazine,no.237\n1\n\n\nLiaisonssocialesQuotidien,no.18541\n1\n\n\nLiaisonssocialesQuotidien,no.18658\n1\n\n\nMadameFigaro,no.24348\n1\n\n\nMadameFigaro,no.24384\n1\n\n\nMidiLibreSETE\n1\n\n\nMieuxVivreVotreArgent\n1\n\n\nMieuxVivreVotreArgent(siteweb)\n1\n\n\nNewsPress(français)\n1\n\n\nNordLittoral\n1\n\n\nNousDeux\n1\n\n\nOuest-France\n1\n\n\nOuest-FranceAuray;Challans,Saint-Gilles-Croix-de-Vie;Bayeux,Caen;Orne;Saint-Lô,Coutances,Cherbourg;Rennes;Lorient;Nord-Finistère;Fougères,Vitré;Quimper,Centre-Finistère;Paysd'Auge;RennesSud-Est;NantesSud-LoireVignoble;Caen,Vire;Vannes;Avranches,Granville;Angers,Segré;LesSablesd'Olonne;Guingamp;Saint-Brieuc,Lamballe;Fontenay,Luçon;Pontivy;Quimperlé,Concarneau;Redon;Ancenis;Loudéac,Rostrenen;NantesNord-Loire;Saint-Malo;Nantes;Ploërmel;LesHerbiers,Montaigu;LaRoche-sur-Yon;Saint-Nazaire,LaBaule,Guérande;Dinan;RennesNord-Ouest;Lannion,Paimpol;Cholet;Mayenne;Châteaubriant;Pornic,PaysdeRetz;Sarthe\n1\n\n\nOuest-FranceAuray;Quimperlé,Concarneau;Saint-Nazaire,LaBaule,Guérande;Pornic,PaysdeRetz;Quimper,Centre-Finistère;Saint-Lô,Coutances,Cherbourg;Saint-Brieuc,Lamballe;Saint-Malo;Rennes;Vannes;Ploërmel;Sarthe;Redon;Angers,Segré;Paysd'Auge;Avranches,Granville;Caen,Vire;Orne;Bayeux,Caen;Châteaubriant;Mayenne;Nantes;Pontivy;RennesSud-Est;Cholet;Dinan;Lorient;RennesNord-Ouest;LesSablesd'Olonne;LesHerbiers,Montaigu;Challans,Saint-Gilles-Croix-de-Vie;LaRoche-sur-Yon;Fougères,Vitré;Loudéac,Rostrenen;Guingamp;Ancenis;Lannion,Paimpol;Nord-Finistère;NantesSud-LoireVignoble;Fontenay,Luçon;NantesNord-Loire\n1\n\n\nOuest-FranceCalvados,Manche,Orne;Morbihan;Côtes-d'Armor;Ille-et-Vilaine;Loire-Atlantique;Maine-et-Loire;Finistère;Sarthe;Mayenne;Vendée;Calvados,Manche,Orne;Morbihan;Côtes-d'Armor;Ille-et-Vilaine;Loire-Atlantique;Maine-et-Loire;Finistère;Sarthe;Mayenne;Vendée\n1\n\n\nOuest-FranceChallans,Saint-Gilles-Croix-de-Vie;NantesNord-Loire;Quimper,Centre-Finistère;LaRoche-sur-Yon;Lannion,Paimpol;Quimperlé,Concarneau;Saint-Lô,Coutances,Cherbourg;Ploërmel;NantesSud-LoireVignoble;Paysd'Auge;LesSablesd'Olonne;Châteaubriant;Caen,Vire;Ancenis;Rennes;LesHerbiers,Montaigu;Fontenay,Luçon;Nord-Finistère;Lorient;Auray;Bayeux,Caen;Avranches,Granville;Saint-Nazaire,LaBaule,Guérande;Guingamp;Dinan;RennesSud-Est;Pontivy;Sarthe;Mayenne;Loudéac,Rostrenen;Saint-Brieuc,Lamballe;Saint-Malo;Nantes;Vannes;RennesNord-Ouest;Redon;Pornic,PaysdeRetz;Cholet;Angers,Segré;Fougères,Vitré;Orne\n1\n\n\nOuest-FranceDinan;LesHerbiers,Montaigu;Vannes;Challans,Saint-Gilles-Croix-de-Vie;Nord-Finistère;Châteaubriant;Quimperlé,Concarneau;NantesSud-LoireVignoble;Auray;Fougères,Vitré;Redon;Orne;Saint-Lô,Coutances,Cherbourg;Saint-Brieuc,Lamballe;Quimper,Centre-Finistère;LesSablesd'Olonne;Guingamp;Lorient;Mayenne;Lannion,Paimpol;RennesNord-Ouest;Loudéac,Rostrenen;NantesNord-Loire;Ancenis;Nantes;LaRoche-sur-Yon;Rennes;Caen,Vire;Angers,Segré;Sarthe;Pontivy;Paysd'Auge;RennesSud-Est;Saint-Nazaire,LaBaule,Guérande;Avranches,Granville;Saint-Malo;Bayeux,Caen;Ploërmel;Pornic,PaysdeRetz;Fontenay,Luçon;Cholet\n1\n\n\nOuest-FranceGuingamp;Dinan;Bayeux,Caen;Auray;Quimper,Centre-Finistère;Saint-Brieuc,Lamballe;Cholet;Vannes;Fougères,Vitré;Rennes;Pornic,PaysdeRetz;Mayenne;Ploërmel;RennesNord-Ouest;Orne;Ancenis;Fontenay,Luçon;Challans,Saint-Gilles-Croix-de-Vie;Caen,Vire;Lorient;Nantes;NantesNord-Loire;Saint-Malo;LaRoche-sur-Yon;Quimperlé,Concarneau;Saint-Nazaire,LaBaule,Guérande;Angers,Segré;LesSablesd'Olonne;Redon;Paysd'Auge;Lannion,Paimpol;Châteaubriant;Saint-Lô,Coutances,Cherbourg;Avranches,Granville;Pontivy;RennesSud-Est;Sarthe;NantesSud-LoireVignoble;Nord-Finistère;Loudéac,Rostrenen;LesHerbiers,Montaigu\n1\n\n\nOuest-FranceLorient;Quimper,Centre-Finistère;Saint-Lô,Coutances,Cherbourg;Saint-Malo;Fontenay,Luçon;Dinan;Cholet;Bayeux,Caen;Saint-Nazaire,LaBaule,Guérande;Angers,Segré;Ploërmel;Mayenne;Pornic,PaysdeRetz;Saint-Brieuc,Lamballe;Guingamp;LesSablesd'Olonne;Pontivy;RennesNord-Ouest;Loudéac,Rostrenen;Vannes;LaRoche-sur-Yon;Redon;Sarthe;Nord-Finistère;Auray;Orne;NantesNord-Loire;Quimperlé,Concarneau;Ancenis;Challans,Saint-Gilles-Croix-de-Vie;Nantes;LesHerbiers,Montaigu;Avranches,Granville;Rennes;Lannion,Paimpol;Châteaubriant;Caen,Vire;RennesSud-Est;Fougères,Vitré;Paysd'Auge;NantesSud-LoireVignoble\n1\n\n\nOuest-FranceNantesNord-Loire;Nantes;NantesSud-LoireVignoble\n1\n\n\nOuest-FranceNantesNord-Loire;Nantes;Ploërmel;RennesSud-Est;Bayeux,Caen;Caen,Vire;LaRoche-sur-Yon;Guingamp;Saint-Nazaire,LaBaule,Guérande;RennesNord-Ouest;Challans,Saint-Gilles-Croix-de-Vie;Quimperlé,Concarneau;Fontenay,Luçon;Nord-Finistère;Avranches,Granville;Pornic,PaysdeRetz;Châteaubriant;Rennes;Redon;Lannion,Paimpol;Pontivy;Quimper,Centre-Finistère;Cholet;Mayenne;LesHerbiers,Montaigu;Sarthe;NantesSud-LoireVignoble;Paysd'Auge;Lorient;Ancenis;Orne;Dinan;Saint-Brieuc,Lamballe;Auray;Saint-Lô,Coutances,Cherbourg;Saint-Malo;Loudéac,Rostrenen;Angers,Segré;Vannes;Fougères,Vitré;LesSablesd'Olonne\n1\n\n\nOuest-FranceNord-Finistère;Mayenne;Dinan;Redon;Angers,Segré;NantesNord-Loire;Lorient;Quimper,Centre-Finistère;Nantes;Sarthe;NantesSud-LoireVignoble;Fougères,Vitré;Quimperlé,Concarneau;LaRoche-sur-Yon;Vannes;Bayeux,Caen;Saint-Malo;Lannion,Paimpol;Rennes;Saint-Nazaire,LaBaule,Guérande;Ploërmel;Cholet;Paysd'Auge;Guingamp;LesHerbiers,Montaigu;Saint-Lô,Coutances,Cherbourg;RennesSud-Est;Fontenay,Luçon;Pontivy;RennesNord-Ouest;Châteaubriant;LesSablesd'Olonne;Orne;Auray;Saint-Brieuc,Lamballe;Caen,Vire;Ancenis;Challans,Saint-Gilles-Croix-de-Vie;Pornic,PaysdeRetz;Loudéac,Rostrenen;Avranches,Granville\n1\n\n\nOuest-FrancePaysd'Auge\n1\n\n\nOuest-FranceQuimper,Centre-Finistère;RennesNord-Ouest;Caen,Vire;NantesNord-Loire;Saint-Brieuc,Lamballe;Nantes;Sarthe;Vannes;Angers,Segré;Quimperlé,Concarneau;Saint-Nazaire,LaBaule,Guérande;Saint-Malo;Challans,Saint-Gilles-Croix-de-Vie;Lannion,Paimpol;RennesSud-Est;Loudéac,Rostrenen;Bayeux,Caen;LaRoche-sur-Yon;Auray;Dinan;Lorient;Pontivy;Cholet;Ancenis;Fougères,Vitré;Orne;Fontenay,Luçon;Mayenne;Châteaubriant;Guingamp;Paysd'Auge;Ploërmel;NantesSud-LoireVignoble;Pornic,PaysdeRetz;Redon;LesHerbiers,Montaigu;Rennes;LesSablesd'Olonne;Nord-Finistère;Saint-Lô,Coutances,Cherbourg;Avranches,Granville\n1\n\n\nOuest-FranceRedon;RennesNord-Ouest;Challans,Saint-Gilles-Croix-de-Vie;NantesNord-Loire;Paysd'Auge;Quimper,Centre-Finistère;Auray;Sarthe;LesHerbiers,Montaigu;Mayenne;Saint-Brieuc,Lamballe;Pornic,PaysdeRetz;Quimperlé,Concarneau;Saint-Malo;RennesSud-Est;Pontivy;LesSablesd'Olonne;Orne;Caen,Vire;Avranches,Granville;Dinan;Angers,Segré;LaRoche-sur-Yon;Châteaubriant;Fontenay,Luçon;Guingamp;Fougères,Vitré;Cholet;Vannes;Saint-Lô,Coutances,Cherbourg;Lannion,Paimpol;Nord-Finistère;Ancenis;Loudéac,Rostrenen;Bayeux,Caen;Nantes;Rennes;NantesSud-LoireVignoble;Lorient;Ploërmel;Saint-Nazaire,LaBaule,Guérande\n1\n\n\nOuest-FranceRennesSud-Est;Rennes;RennesNord-Ouest;NantesNord-Loire;NantesSud-LoireVignoble;Ancenis;Châteaubriant;Pornic,PaysdeRetz;Saint-Nazaire,LaBaule,Guérande;Nantes;Saint-Malo;Paysd'Auge;Redon;Lannion,Paimpol;Sarthe;Saint-Lô,Coutances,Cherbourg;Loudéac,Rostrenen;Saint-Brieuc,Lamballe;Bayeux,Caen;Angers,Segré;Nord-Finistère;Dinan;Cholet;Orne;Avranches,Granville;Caen,Vire;Mayenne;Guingamp;Pontivy;Ploërmel;Auray;Vannes;Lorient;Fougères,Vitré;Quimper,Centre-Finistère;Quimperlé,Concarneau;LesSablesd'Olonne;LesHerbiers,Montaigu;Fontenay,Luçon;Challans,Saint-Gilles-Croix-de-Vie;LaRoche-sur-Yon\n1\n\n\nOuest-FranceSaint-Lô,Coutances,Cherbourg;Guingamp;Quimper,Centre-Finistère;Châteaubriant;Mayenne;LesHerbiers,Montaigu;LaRoche-sur-Yon;Paysd'Auge;Nord-Finistère;Dinan;Saint-Malo;Avranches,Granville;Nantes;Pornic,PaysdeRetz;Ancenis;RennesSud-Est;Pontivy;Quimperlé,Concarneau;Rennes;Lannion,Paimpol;Bayeux,Caen;Loudéac,Rostrenen;Lorient;Saint-Nazaire,LaBaule,Guérande;Vannes;Cholet;Ploërmel;Fontenay,Luçon;Saint-Brieuc,Lamballe;Challans,Saint-Gilles-Croix-de-Vie;NantesSud-LoireVignoble;RennesNord-Ouest;Orne;NantesNord-Loire;Fougères,Vitré;Auray;Redon;LesSablesd'Olonne;Caen,Vire;Sarthe;Angers,Segré\n1\n\n\nOuest-FranceSarthe;Ploërmel;Lorient;LesSablesd'Olonne;Saint-Lô,Coutances,Cherbourg;Guingamp;Bayeux,Caen;Pornic,PaysdeRetz;Rennes;Pontivy;RennesSud-Est;LaRoche-sur-Yon;Quimper,Centre-Finistère;Nord-Finistère;Challans,Saint-Gilles-Croix-de-Vie;Fontenay,Luçon;Châteaubriant;Vannes;Saint-Malo;Caen,Vire;RennesNord-Ouest;NantesSud-LoireVignoble;Ancenis;Loudéac,Rostrenen;Lannion,Paimpol;Orne;Mayenne;NantesNord-Loire;Quimperlé,Concarneau;Paysd'Auge;Avranches,Granville;Nantes;Auray;LesHerbiers,Montaigu;Cholet;Redon;Dinan;Saint-Nazaire,LaBaule,Guérande;Angers,Segré;Saint-Brieuc,Lamballe;Fougères,Vitré\n1\n\n\nPhytothérapie,no.20;1\n1\n\n\nPleineVie(siteweb)\n1\n\n\nPsycho-Oncologie,no.17;2\n1\n\n\nPèlerin,no.7257\n1\n\n\nPèlerin,no.7278\n1\n\n\nPèlerin,no.7302\n1\n\n\nPèlerin,no.7311\n1\n\n\nRevuedeMédecinePérinatale,no.14;4\n1\n\n\nSanté+Magazine(siteweb)-SantePlusMag\n1\n\n\nScienceetVie\n1\n\n\nStratégies(siteweb)\n1\n\n\nSudOuest-Charente-Maritime\n1\n\n\nSudOuest-Landes\n1\n\n\nSudOuest-Lot-et-Garonne\n1\n\n\nSudOuestdimanche-Landes\n1\n\n\nmindFintech(siteweb)\n1\n\n\n\n\n\n\n\n\n\nRecodage des journaux\nOn procède aux recodages des journaux suivants.\n\n\n\nRecoder les journaux (5)\n\narticles$CJournal[stri_detect_fixed(articles$Journal, \"bulletinquoti\",case_insensitive=T)] &lt;- \"BulletinQuoti\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"huienfr\",case_insensitive=T)]       &lt;- \"AJF\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"chos\",case_insensitive=T)]          &lt;- \"Echos\"  \narticles$CJournal[stri_detect_fixed(articles$Journal, \"libération\",case_insensitive=T)]    &lt;- \"Liberation\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"ouest-fr\",case_insensitive=T)]      &lt;- \"OF\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"afp\",case_insensitive=T)]           &lt;- \"AFP\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"croix\",case_insensitive=T)]         &lt;- \"Croix\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"express\",case_insensitive=T)]       &lt;- \"Express\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"sciencesetave\",case_insensitive=T)] &lt;- \"SciencesAvenir\"\narticles$CJournal[stri_detect_fixed(articles$Journal, \"obs\",case_insensitive=T)]           &lt;- \"Obs\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"sudouest\",case_insensitive=T)]      &lt;- \"SudOuest\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"20min\",case_insensitive=T)]         &lt;- \"20min\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"huma\",case_insensitive=T)]          &lt;- \"Humanites\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"valeursact\",case_insensitive=T)]    &lt;- \"ValeursActu\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"point\",case_insensitive=T)]         &lt;- \"LePoint\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"challen\",case_insensitive=T)]       &lt;- \"Challenges\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"lavie\",case_insensitive=T)]         &lt;- \"LaVie\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"l'hist\",case_insensitive=T)]        &lt;- \"Histoire\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"pèleri\",case_insensitive=T)]        &lt;- \"Pelerin\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"télégra\",case_insensitive=T)]       &lt;- \"Telegramme\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"tribun\",case_insensitive=T)]        &lt;- \"LaTribune\" \narticles$CJournal[stri_detect_fixed(articles$Journal, \"biba\",case_insensitive=T)]          &lt;- \"Biba\" \n\n\n\n\nRegrouper plusieurs journaux dans une catégorie\nOn peut également unifier certains journaux par une catégorie. Ici, on change un peu le code : on met la même modalité si dans la variable initiale, on a une des chaînes de caractères qu’on demande :\n\n\n\nRecoder les journaux (6)\n\narticles$CJournal[stri_detect_regex(articles$Journal, \n\"lejournalde|voixdun|provence|midilibre|vellerép|bienpublic|\npopulaireducentr|berry|indépendant|nordéclair|charente|yonne|estrépu|\nhavre|mainelib|dépêche|voixde|courrier|lejournaldu|Parisnormandie|\nlarépubliquedu|ducentre|bliquedespy|lameuse|dernièreh|aisne|dordogne|\nchorépub]|lalibre|corse|union|nordlittoral|centrepresse|paris-normandie|presseocéan]\",\n                                    case_insensitive=T)] &lt;- \"Rég\"\n\n\nIci, le but est de ne pas surcharger le nombre de titres de presse en unifiant tous les journaux régionaux qui avaient relativement peu de résultats dans mes requêtes (en revanche, les grands titres de la presse quotidienne régionale sont conservés en propre)\n\n\nRésultat du recodage\n\n\n\nTable des journaux propres\n\ntable(articles$CJournal,useNA = \"always\")\n\n\n\n         20min            AFP            AJF          Autre           Biba \n            25             27             28             96              7 \n BulletinQuoti     Challenges          Croix          Echos        Express \n            20              5             45             29             15 \n        Figaro       Histoire      Humanites      LaTribune          LaVie \n            53              8              8              5              5 \n       LePoint     Liberation          Monde            Obs             OF \n            13             24             41             12             17 \n       Pelerin            Rég SciencesAvenir       SudOuest     Telegramme \n             4             63             12             13             10 \n   ValeursActu           &lt;NA&gt; \n             6              0 \n\n\nOn voit qu’il reste encore un grand nombre d’articles dans la catégorie “Autre”.\nOn explore les journaux qui n’ont pas été attribués à une catégorie :\n\n\n\nTable des journaux restants\n\ntable(articles[articles$CJournal == \"Autre\",]$Journal)\n\n\n\n\n\n\n\n\nJournal\nN_journ\n\n\n\n\nActeursPublics-Nominations\n2\n\n\nActualitésSocialesHebdomadaires(siteweb)\n2\n\n\nActualitésSocialesHebdomadaires,no.3259\n1\n\n\nActualitésSocialesHebdomadaires,no.3279\n1\n\n\nActualitésSocialesHebdomadaires,no.3286\n1\n\n\nBoursier(siteweb)\n1\n\n\nCLEMI(fichepédagogique)\n1\n\n\nCarenews(siteweb)\n1\n\n\nCarenews(siteweb)-Carenews\n1\n\n\nCoiffuredeParis\n1\n\n\nEconostrum(siteweb)\n1\n\n\nElWatan(siteweb)\n1\n\n\nElWatan(siteweb)-ElWatan\n1\n\n\nEntrepriseetCarrières,no.1576\n1\n\n\nEntrepriseetCarrières,no.1609\n1\n\n\nEntrepriseetCarrières,no.1616\n1\n\n\nGrazia(siteweb)-Grazia(FR)\n1\n\n\nHuffPost-France(siteweb)\n1\n\n\nJeuneAfrique(siteweb)\n4\n\n\nL'AGEFIHebdo\n1\n\n\nL'EchoRépublicainEditionprincipale\n1\n\n\nL'Opinion\n1\n\n\nL'Orient-LeJour\n2\n\n\nL'UsineNouvelle(siteweb)\n2\n\n\nLaCorrespondancedelaPresse\n3\n\n\nLaCorrespondanceéconomique\n4\n\n\nLaGazettedescommunes(siteweb)\n4\n\n\nLaLettredel'audiovisuel\n1\n\n\nLaMontagne(siteweb)\n1\n\n\nLaMontagneIssoire-Sancy-Haute-Loire;Clermont-Ferrand;Riom;Thiers-Ambert\n1\n\n\nLaRecherche,no.574\n1\n\n\nLeParisien(siteweb)Editionprincipale\n4\n\n\nLeParisienOise;Seine-et-Marne;Essonne;Yvelines;Vald'Oise;ValdeMarne;SeineStDenis;Hauts-de-Seine;Paris;EditionPrincipale\n1\n\n\nLeProgrès(Lyon)EditiondeLons,ChampagnoleetduHaut-Jura;EditiondeDoleetduNordJura;Editiond'Oyonnax–Léman–Bugey–Bas-Bugey;EditiondeBourg–Bresse–Val-de-Saône-Nord;EditiondeDombes–CôtièredeL’Ain;EditiondeVillefrancheetBeaujolais;EditiondeTarare–L’Arbresle–MontsduLyonnais;Editiond'Oullins–Givors–MontsduLyonnais;EditionOuestLyonnaisetValdeSaône;EditionEstLyonnais;EditiondeLyon-Villeurbanne-Caluire;EditiondelaHaute-Loire;EditionduRoannais;EditionduForez;EditionduGieretduPilat;EditiondeL’Ondaine;EditiondeSaint-Etienne\n1\n\n\nLeProgrès(Lyon)EditiondeVillefranche-Tarare;Editiond'Oullins–Givors–MontsduLyonnais;EditionOuestLyonnaisetValdeSaône;EditionEstLyonnais;EditiondeLyon-Villeurbanne-Caluire\n1\n\n\nLeProgrès(Lyon)EditionduRoannais;EditionduForez;EditionduGieretduPilat;EditiondeL’Ondaine;EditiondeSaint-Etienne;EditiondeLons,ChampagnoleetduHaut-Jura;EditiondeDoleetduNordJura;EditiondeVillefrancheetBeaujolais;EditiondeTarare–L’Arbresle–MontsduLyonnais;Editiond'Oullins–Givors–MontsduLyonnais;EditionOuestLyonnaisetValdeSaône;EditionEstLyonnais;EditiondeLyon-Villeurbanne-Caluire;Editiond'Oyonnax–Léman–Bugey–Bas-Bugey;EditiondeBourg–Bresse–Val-de-Saône-Nord;EditiondeDombes–CôtièredeL’Ain;EditiondelaHaute-Loire\n1\n\n\nLeQuotidienduMédecin\n1\n\n\nLeSoirGENERALE\n2\n\n\nLesCahiersduDRH,no.299\n1\n\n\nLesVeilléesdesChaumières\n1\n\n\nLiaisonssocialesMagazine,no.237\n1\n\n\nLiaisonssocialesQuotidien,no.18541\n1\n\n\nLiaisonssocialesQuotidien,no.18658\n1\n\n\nMieuxVivreVotreArgent\n1\n\n\nMieuxVivreVotreArgent(siteweb)\n1\n\n\nNewsPress(français)\n1\n\n\nNousDeux\n1\n\n\nPhytothérapie,no.20;1\n1\n\n\nPleineVie\n2\n\n\nPleineVie(siteweb)\n1\n\n\nPleineVie(siteweb)-PleineVie\n2\n\n\nPresseOcéanNantesMétropole,NordetSud;Saint-NazairePresqu'île\n2\n\n\nPsycho-Oncologie,no.17;2\n1\n\n\nRevuedeMédecinePérinatale,no.14;4\n1\n\n\nRiskAssur(siteweb)\n2\n\n\nSanté+Magazine(siteweb)\n3\n\n\nSanté+Magazine(siteweb)-SantePlusMag\n1\n\n\nSanté-médecine(siteweb)\n2\n\n\nScienceetVie\n1\n\n\nScienceetVie(siteweb)-Scienceetvie\n3\n\n\nStratégies(siteweb)\n1\n\n\nTopSanté(siteweb)\n2\n\n\nTopSanté(siteweb)-TopSanté.com\n2\n\n\nmariefrance(siteweb)-MarieFrance\n2\n\n\nmindFintech(siteweb)\n1"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#variable-année",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#variable-année",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Variable année",
    "text": "Variable année\nPour pouvoir utiliser la date dans Iramuteq, nous faisons le choix de ne garder que l’année.\n\n\n\nVariable année\n\narticles &lt;- articles %&gt;% \n  mutate(Annee = as.numeric(format(Date, \"%Y\")))"
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#objectif",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#objectif",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "Objectif :",
    "text": "Objectif :\nPour pouvoir être lu par Iramuteq, notre fichier doit respecter un certain nombre de conventions présentées ci-après :\n\nêtre un fichier .txt\n\nchaque texte est précédé d’une ligne qui commence par quatre étoiles : ****\n\ncette ligne contient les métadonnées (variables) qui caractérisent le texte\n\nchaque métadonnée est précédée d’une étoile, puis du nom de la variable, un underscore “_”, et la valeur de la modalité.\n\n\nPour faciliter le processus, nous proposons une fonction qui met en forme la table créée précédemment directement dans le format voulu par Iramuteq."
  },
  {
    "objectID": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#la-fonction-format_iramuteq",
    "href": "R/assist/posts/europress_iramuteq/corpus_europress_iramuteq.html#la-fonction-format_iramuteq",
    "title": "Créer un corpus de texte issu d’Europresse au format d’Iramuteq",
    "section": "La fonction: format_iramuteq()",
    "text": "La fonction: format_iramuteq()\nUne fonction pour transformer un data.frame avec une variable de texte, en un document .txt adapté à l’analyse textuelle sur Iramuteq.\nPour l’instant, la fonction ne se trouve pas dans un package, il faut donc la charger dans l’environnement global de R depuis GitHub en utilisant le code suivant.\n\n\n\nimport fonction format\n\nsource(\"https://raw.githubusercontent.com/arnomuller/Fonction_R/main/format_iramuteq/format_iramuteq.R\")\n\n\n\nParamètres de la fonction\narticles : Une base de données avec une variable texte et des métadonnées (années, source, etc.)\nnom_fichier : Le nom du fichier .txt en sortie\nvar_texte : Le nom de la variable de texte (entre ““)\nvars_métadonnees : Un vecteur avec les variables de métadonnées\n\n\nCréation du corpus\n\n\n\nCréation du corpus\n\nformat_iramuteq(dataframe = articles, \n                nom_fichier = \"corpus_iramuteq_ined.txt\", \n                var_texte = \"Texte\", \n                vars_metadonnees = c(\"CJournal\", \"Annee\"))\n\n\n\n\n\n\n\n\nPrécautions à prendre\n\n\n\nIramuteq étant un format particulier, la fonction prendra quelques précautions :\n\nIl faut supprimer les espaces et les “_” dans les noms des variables métadonnées\n\nIl faut supprimer les espaces et les “_” dans les valeurs des variables métadonnées\n\nIl faut supprimer les * présentent dans les textes.\n\nCes 3 points sont pris en compte dans la fonction format_iramuteq(), et informera l’utilisateur.rice des modifications par un warning."
  },
  {
    "objectID": "R/assist/posts/fuzzyjoin/fuzzyjoin.html",
    "href": "R/assist/posts/fuzzyjoin/fuzzyjoin.html",
    "title": "Techniques d’appariements entre chaînes de caractères",
    "section": "",
    "text": "En démographie historique, on est souvent amenés à confronter des chaines de caractères pour relier des enregistrements nominatifs, par exemple chaîner des actes BMS (Baptême-Mariage-Sépulture) pour essayer de retrouver le parcours d’un individu. Dans les actes du 18ème siècle, l’identification des individus, lieux ou professions est souvent rédigée avec une forte hétérogénéité. Il en résulte une jointure par recherche floue, avec des chaînes de caractères identifiantes qui correspondent à une problématique de recherche approximative.\nPour ce faire, on va calculer une distance entre 2 chaînes de caractères, qui pourra être un nombre absolu représentant un degré de ressemblance des deux chaînes comparées, ou un nombre relatif, score variant de 0 à 1 par exemple, distance définie pour mesurer cette proximité.\nUn des algorithmes les plus utilisés est l’algorithme de Lehvenshtein, qui calcule entre deux chaines de caractères la plus courte distance, en tenant compte des opérations suivantes:\n\nInsertion de motifs.\nSuppression de motifs (équivalent à la règle précédente).\nSubstitution de motifs.\n\n\n\n\nPackages\nFonctions\n\n\n\n\nstringdist\nstringdist - amatch\n\n\ntidyverse\ninner_join\n\n\nfuzzyjoin\nstringdist_inner_join\n\n\n\nLes packages utilisés seront les suivants:\n\ntidyverse\nstringdist\nfuzzyjoin\n\n\n#install.packages(stringdist)\n#install.packages(tidyverse)\n#install.packages(fuzzyjoin)\n\nlibrary(stringdist)\nlibrary(tidyverse)\nlibrary(fuzzyjoin)"
  },
  {
    "objectID": "R/assist/posts/fuzzyjoin/fuzzyjoin.html#utilisation-dans-le-cas-dappariements-de-fichiers",
    "href": "R/assist/posts/fuzzyjoin/fuzzyjoin.html#utilisation-dans-le-cas-dappariements-de-fichiers",
    "title": "Techniques d’appariements entre chaînes de caractères",
    "section": "Utilisation dans le cas d’appariements de fichiers",
    "text": "Utilisation dans le cas d’appariements de fichiers\nNous disposons de deux fichiers d’analyse, un fichier de dénombrement recensant toutes les identités (nom-prenom) des individus présents dans un village en 1702 (nommé REC.Vars), et un fichier des baptêmes comptabilisés en 1703, contenant le nom et le prénom du père du nouveau né. On aimerait identifier les parents qui ont été recensés dans le village en 1702.\nLa fonction stringdist_join, du package fuzzyjoin, permet de faire une jointure avec une incertitude sur la clé de jonction des fichiers.\nCi-dessous le début du fichier des Baptêmes\n# Affichage début de fichier\nkable(head(BAP.Vars,n=10)) %&gt;%\n   kable_styling(bootstrap_options = c(\"striped\"),full_width = T,font_size = 11) %&gt;%\n   scroll_box(height = \"300px\")\n\n\n\n\nPERE.Nom\nPERE.Prenom\nNobs.BAP\n\n\n\n\nANTOINE\nJEAN\n10\n\n\nALENE\nJEAN\n12\n\n\nAUBER\nCHALLE\n16\n\n\nABEILLE\nBARTHELLEMY\n27\n\n\nANTOINE\nTHOMAS\n29\n\n\nAUDIFRETTE\nPIERRE\n36\n\n\nAUDON\nJEAN\n40\n\n\nARNAUD\nFRANCOIS\n42\n\n\nARNAUD\nCLAUDE\n48\n\n\nANGLESY\nANDRE\n67\n\n\n\n\n\n\nCi-dessous le début du fichier de recensement\n# Affichage début de fichier\nkable(head(REC.Vars,n=10)) %&gt;%\n   kable_styling(bootstrap_options = c(\"striped\"),full_width = T,font_size = 11) %&gt;%\n   scroll_box(height = \"300px\")\n\n\n\n\nEgo.nom\nEgo.prenom\nNobs.REC\n\n\n\n\nANDRE\n.\n4\n\n\nAMARE\nFRANCOISE\n15\n\n\nAMARE\nCATHERINE\n17\n\n\nALEMANDE\nCATHERINE\n50\n\n\nARNAUD\nFRANCOIS\n68\n\n\nARNAUD\nJOSEPH\n70\n\n\nARNAUD\nURSULLE\n71\n\n\nARNAUD\nMARGUERITE\n72\n\n\nARNAUD\nJEANNE\n73\n\n\nANTOINE\nANNE\n85\n\n\n\n\n\n\nPar une jointure classique, on veut sélectionner les individus portant le même nom et le même prénom dans les deux fichiers. On fait donc appel à une syntaxe inner_join.\nZ1 = BAP.Vars %&gt;%\n  inner_join(REC.Vars,by=c(\"PERE.Nom\"=\"Ego.nom\",\"PERE.Prenom\"=\"Ego.prenom\"))\n\n\n# Affichage début de fichier\nkable(head(Z1,n=10)) %&gt;%\n   kable_styling(bootstrap_options = c(\"striped\"),full_width = T,font_size = 11) %&gt;%\n   scroll_box(height = \"300px\")\n\n\n\n\nPERE.Nom\nPERE.Prenom\nNobs.BAP\nNobs.REC\n\n\n\n\nANTOINE\nJEAN\n10\n2953\n\n\nAUDON\nJEAN\n40\n148\n\n\nARNAUD\nFRANCOIS\n42\n68\n\n\nARNAUD\nCLAUDE\n48\n1870\n\n\nAUBERT\nJEAN\n220\n1227\n\n\nAUDIBERT\nLEON\n304\n1157\n\n\nAUDIBERT\nJEAN\n333\n3183\n\n\nABEILLE\nJOSEPH\n1115\n625\n\n\nAUDIBERT\nJACQUES\n1437\n1156\n\n\nARDISSON\nJEAN\n1441\n4661\n\n\n\n\n\n\nOn souhaite maintenant unifier les individus portant le même prénom et différent d’une lettre sur le nom de famille, pour prendre en compte les variantes orthographiques minimes.\nZ2 = BAP.Vars %&gt;%\n  \n  # max_dist = Distance maximale de égale à un entre les deux patronymes\n  # distance_col =  nom de la variable créée contenant la valeur de distance\n  stringdist_inner_join(REC.Vars,by=c(\"PERE.Nom\"=\"Ego.nom\"),max_dist=1,distance_col=\"V_Dist\") %&gt;%\n  \n  # On ne garde que les distances égales à 1\n  filter(V_Dist==1) %&gt;%\n  \n  # On ne conserve que les individus de même prénom\n  filter(stringdist(PERE.Prenom,Ego.prenom)==0) %&gt;%\n  \n  # Suppression variable de distance\n  select(-V_Dist)\n\n\n# Affichage début de fichier\nkable(head(Z2,n=30)) %&gt;%\n   kable_styling(bootstrap_options = c(\"striped\"),full_width = T,font_size = 11) %&gt;%\n   scroll_box(height = \"300px\")\n\n\n\n\nPERE.Nom\nPERE.Prenom\nNobs.BAP\nEgo.nom\nEgo.prenom\nNobs.REC\n\n\n\n\nAUBERTE\nJOSEPH\n78\nAUBERT\nJOSEPH\n5052\n\n\nAMIEL\nPONCET\n234\nAMIELH\nPONCET\n328\n\n\nANTHOINE\nJEAN\n518\nANTOINE\nJEAN\n2953\n\n\nAUDIBERTE\nPIERRE\n587\nAUDIBERT\nPIERRE\n2677\n\n\nARNAUDE\nCLAUDE\n673\nARNAUD\nCLAUDE\n1870\n\n\nAUDIBERTE\nLEON\n765\nAUDIBERT\nLEON\n1157\n\n\nAUBERT\nPIERRE\n970\nAUBRET\nPIERRE\n2998\n\n\nAUTRAN\nJEAN\n1026\nAUBRAN\nJEAN\n5192\n\n\nACHARDE\nCLAUDE\n1502\nACHARD\nCLAUDE\n2060\n\n\nANTHOINE\nPIERRE\n2027\nANTOINE\nPIERRE\n2952\n\n\nACHARDE\nJEAN\n2363\nACHARD\nJEAN\n2057\n\n\nARNAUDE\nPIERRE\n2427\nARNAUD\nPIERRE\n1757\n\n\nALIS\nJOSEPH\n2537\nALIX\nJOSEPH\n1499\n\n\nAYNAUD\nJOSEPH\n3176\nARNAUD\nJOSEPH\n70\n\n\nAUBINE\nJACQUES\n3703\nAUBIN\nJACQUES\n2181\n\n\nAUTRANE\nANTOINE\n3801\nAUTRAN\nANTOINE\n5040\n\n\nAUDIBERTE\nJEAN\n3844\nAUDIBERT\nJEAN\n3183\n\n\nANTHEMAN\nPAUL\n3872\nAUTHEMAN\nPAUL\n5353\n\n\nALLEMAND\nHONNORE\n4017\nALEMAND\nHONNORE\n2853\n\n\nARNAUDE\nSEBASTIEN\n4075\nARNAUD\nSEBASTIEN\n3937\n\n\nAUBERT\nJEAN PIERRE\n4095\nAUBRET\nJEAN PIERRE\n4843\n\n\nAUDIBERTE\nANTOINE\n4112\nAUDIBERT\nANTOINE\n5017\n\n\nARMIOU\nANTOINE\n4130\nARMIEU\nANTOINE\n4320\n\n\nAUTIERE\nANDRE\n4195\nAUGIERE\nANDRE\n4856\n\n\nAUTIERE\nANDRE\n4195\nAUZIERE\nANDRE\n7942\n\n\nARNAUDE\nESTIENNE\n4197\nARNAUD\nESTIENNE\n5236\n\n\nACHART\nJEAN\n4204\nACHARD\nJEAN\n2057\n\n\nAUDIERE\nJEAN\n4337\nAUDIER\nJEAN\n5163\n\n\nACHARDE\nLOUIS\n4342\nACHARD\nLOUIS\n3386\n\n\nAUBRANT\nJEAN\n4481\nAUBRAN\nJEAN\n5192"
  },
  {
    "objectID": "R/assist/posts/import_json/JSON.html",
    "href": "R/assist/posts/import_json/JSON.html",
    "title": "Format JSON : de la liste au dataframe",
    "section": "",
    "text": "Fonctions utilisées dans la fiche\n\n\nPackages\nFonctions\n\n\n\n\njsonlite\nfromJSON\n\n\nrjson\nfromJSON\n\n\ndata.table\nrbindlist\n\n\nBase R\nas.data.frame - knitr - class"
  },
  {
    "objectID": "R/assist/posts/import_json/JSON.html#footnotes",
    "href": "R/assist/posts/import_json/JSON.html#footnotes",
    "title": "Format JSON : de la liste au dataframe",
    "section": "Notes de bas de page",
    "text": "Notes de bas de page\n\n\nhttps://ressources.data.sncf.com/explore/dataset/menus-des-bars-tgv/table/↩︎\nPour découvrir comment utiliser des listes : https://juba.github.io/tidyverse/16-structures-donnees.html#sec-listes↩︎"
  },
  {
    "objectID": "R/assist/posts/mapsf/map_sf.html",
    "href": "R/assist/posts/mapsf/map_sf.html",
    "title": "Réaliser des cartes thématiques avec Mapsf",
    "section": "",
    "text": "Documentation (Timothé Giraud):\nInstallation des packages:\nlibrary(mapsf)\nlibrary(sf)\nlibrary(dplyr)\nNous allons réaliser une carte de Paris avec les données du site de Paris Data [Lien]"
  },
  {
    "objectID": "R/assist/posts/mapsf/map_sf.html#les-cartes-à-symboles-proportionnels",
    "href": "R/assist/posts/mapsf/map_sf.html#les-cartes-à-symboles-proportionnels",
    "title": "Réaliser des cartes thématiques avec Mapsf",
    "section": "Les cartes à symboles proportionnels",
    "text": "Les cartes à symboles proportionnels\nLa carte en symboles proportionnels est la méthode de représentation graphique à utiliser pour visualiser des variables de stocks (variables quantitatives absolues pour lesquelles la somme et la moyenne ont une signification).\nSur la carte, on affiche l’effectif de la population de chaque arrondissement et on ajoute la légende et un titre.\n\n#Ajout manuel des valeurs des populations de chaque arrondissements dans le tableau sous le nom \"pop\"\narrondissements$pop &lt;- c(1012687, 903036, 1369857, 1491027, 1672009, 1506475, 1637163, 1603380, 1637542, 1059282, 1494945, 1436205, 1705774, 1425805, 236769, 1668605, 1674568, 1539668, 1421827, 1829526) #INSEE,2021. La valeur 1012687 correspond à la population dans le 1er arrondissement.\n\n\nPour représenter la carte, on utilise la fonction map_sf(). On doit indiquer à minima la variable liée à la statistique (var=pop), et le type de carte (type=prop).\nOn va superposer 2 cartes: le fond affichant seulement les limites des arrondissements, et celle affichant sous forme de bulle proportionnelles la taille de la population dans chaque arrondissement.\n\n\n\n\nCarte avec la fonction mf_map()\n\nmf_map(x = arrondissements)\nmf_map(\n  x = arrondissements,\n  var = \"pop\" ,\n  type = \"prop\",  \n  leg_title = \"Population totale\\12 271 794\",\n  col=\"#C24168\",\n  add= TRUE,\n  inches=0.2)\n\nmf_title(\"Distribution de la population dans les arrondissements de Paris\")"
  },
  {
    "objectID": "R/assist/posts/mapsf/map_sf.html#les-cartes-choroplèthes",
    "href": "R/assist/posts/mapsf/map_sf.html#les-cartes-choroplèthes",
    "title": "Réaliser des cartes thématiques avec Mapsf",
    "section": "Les cartes choroplèthes",
    "text": "Les cartes choroplèthes\nLa carte choroplèthe est la représentation à utiliser pour visualiser des ratios (variables quantitatives relatives pour lesquelles la moyenne a un sens, mais dont la somme n’en a pas), et qui sont des variables ordinales.\nSur la carte, on affiche la densité de population de chaque arrondissement. On utilise ici la méthode des quantiles pour discrétiser cette variable, et on applique une palette de couleurs séquentielles avec dégradé pour représenter l’ordre entre les valeurs.\n\n\n\nVariable densité de la population\n\n#création de la variable densite \narrondissements$DENS &lt;- 1e6 * arrondissements$pop / as.numeric(st_area(arrondissements))\n\n\n\n\n\nCarte avec la fonction mf_map()\n\nmf_map(\n  x = arrondissements,\n# variable à représenter: densité de population  \nvar = \"DENS\",\n# type de carte  \ntype = \"choro\",\n# méthode de dsicrétisation\n  breaks = \"quantile\",\n# palette de rouges  \npal = \"Reds\",\n  lwd = 1,\n  leg_title = \"Densité de population\\n(habitants par km2)\", \n  leg_val_rnd = 0\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nla faible densité de population des 12e et 16e arrondissement résulte notamment des zônes bois de Vincennes et de Bois de Boulogne qui les composent."
  },
  {
    "objectID": "R/assist/posts/mapsf/map_sf.html#les-cartes-pour-une-variable-qualitative-nominale",
    "href": "R/assist/posts/mapsf/map_sf.html#les-cartes-pour-une-variable-qualitative-nominale",
    "title": "Réaliser des cartes thématiques avec Mapsf",
    "section": "Les cartes pour une variable qualitative nominale",
    "text": "Les cartes pour une variable qualitative nominale\nOn peut aussi représenter un autre type de variable: qualitative nominale. Pour illuster cette fiche on va représenter les bords politiques des mairies de chaque arrondissement. Pour cela, on produit une carte choroplèthes mais avec des couleurs sans dégradé (palettee qualitative).\n\nPenser à trier la base par numéro d’arrondissement avant de fusionner les informations sur les bords politiques (arrange())\nBien vérifier que les couleurs, ici fortement informatives, correspondent bien aux bords politiques. Sans raison apparente, il a été ici nécessaire de les renseigner dans l’ordre EELV, LR et PS.\n\n\narrondissements2 = select(arrondissements, c_ar, l_aroff, geom_x_y, geometry)\narrondissements2 = arrange(arrondissements2, c_ar)\n\nbords_politiques &lt;- c(\"LR\", \"EELV\", \"PS\", \"PS\", \"LR\", \"LR\", \"LR\", \"LR\", \"LR\", \"PS\", \"PS\", \"PS\", \"PS\", \"PS\", \"LR\", \"LR\", \"LR\", \"PS\", \"PS\", \"PS\")\n# Le maire du 2e arrondissement de Paris était EELV entre 2014 et 2015.\n\n\narrondissements2 &lt;- cbind(arrondissements2, bords_politiques)\n\n# Choix des couleurs\n\ncolors &lt;- c(\"EELV\" = \"#31a354\", \"LR\" = \"#3182bd\", \"PS\" = \"#C24168\")\n\n# Placer les carrés sur les centroïdes des polygones des arrondissements.\narr_c&lt;-st_centroid(arrondissements2)\n\n\n\nmf_map(x = arrondissements2, border = \"black\")\n\n# Choix  du symbol rectangle (pch=15)\nmf_map(\n  x = arr_c,\n  var = \"bords_politiques\",\n  pal=colors,\n  type=\"symb\",\n  pch=15,\n  cex = 2,\n  lwd = .5,\n  leg_title = \"\",\n  border=\"black\"\n)\n\n\n# habillage additionnel\nmf_layout(\n  title = \"Bord politique des maires de Paris entre 2014 et 2020\",\n  credits = paste0(\n    \"mapsf \",\n    packageVersion(\"mapsf\")\n  )\n)\n\n\n\n\n\n\n\n\nIl est courant de représenter les cartes électorales en remplissant les aires géographiques par des couleurs. Par rapport au graphique précédent, il suffit d’utiliser type=\"typo\" et de retirer l’argument pch. On ajoute également le numéro de l’arrondissement avec la fonction mf_label.\n\n\nShow the code\nmf_map(\n  x = arrondissements2,\n  # var à représenter  \n  var = \"bords_politiques\",\n  pal=colors,\n  type=\"typo\",\n  cex = 2,\n  lwd = .5,\n  leg_title = \"\",\n  leg_pos= c(2.43, 48.91396),\n  border=\"black\"\n)\n\nmf_layout(\n  title = \"Bord politique des maires de Paris entre 2014 et 2020\",\n  credits = paste0(\n    \"mapsf \",\n    packageVersion(\"mapsf\")\n  )\n)\n\nmf_label(\n  x = arrondissements2, var = \"c_ar\", col = \"grey\", halo = TRUE, overlap = FALSE, lines = FALSE,\n)"
  },
  {
    "objectID": "R/assist/posts/pkg_prefix/pkg_prefix.html",
    "href": "R/assist/posts/pkg_prefix/pkg_prefix.html",
    "title": "Consolider sa reproductibilité avec le package prefixer",
    "section": "",
    "text": "Pour illustrer ce propos, nous reprennons le script de la fiche de Coralie Cottet Générer des graphes de mot avec R.temis. Nous allons ajouter un prefixe à chaque fonction utilisée pour générer un nuage de mots.\nDocumentation :\nInstallation des packages :\nFichiers à utilisés :\nLes voeux du président Hollande pour les années 2013 à 2017.\nChaque discours correspond à un fichier texte et ces 5 discours sont placés dans un dossier unique appelé dossier_de_textes"
  },
  {
    "objectID": "R/assist/posts/pkg_prefix/pkg_prefix.html#installer-le-package-prefixer-à-partir-de-github",
    "href": "R/assist/posts/pkg_prefix/pkg_prefix.html#installer-le-package-prefixer-à-partir-de-github",
    "title": "Consolider sa reproductibilité avec le package prefixer",
    "section": "Installer le package prefixer à partir de GitHub",
    "text": "Installer le package prefixer à partir de GitHub\nL’addin prefix est disponible sur la forge logicielle de dreamRs\n\ninstall.packages(\"remotes\")\ninstall_github(\"dreamRs/prefixer\")\n\nCelui-ci permet d’ouvrir une interface qui propose pour chaque fonction du script de lui ajouter un préfixe composé du nom de la fonction suivi de ::"
  },
  {
    "objectID": "R/assist/posts/pkg_prefix/pkg_prefix.html#prefixer-le-script",
    "href": "R/assist/posts/pkg_prefix/pkg_prefix.html#prefixer-le-script",
    "title": "Consolider sa reproductibilité avec le package prefixer",
    "section": "Prefixer le script",
    "text": "Prefixer le script\nA la fin du script R, on charge le package prefixer puis on ouvre l’interface avec la commande prefixer()\n\n## Appel du package\nlibrary(prefixer)\n## Ouverture de l'interface RShiny\nprefixer()\n\nDans le cas de notre script"
  },
  {
    "objectID": "R/assist/posts/pkg_prefix/pkg_prefix.html#utiliser-la-fenêtre-shiny-permettant-de-choisir-le-préfixe",
    "href": "R/assist/posts/pkg_prefix/pkg_prefix.html#utiliser-la-fenêtre-shiny-permettant-de-choisir-le-préfixe",
    "title": "Consolider sa reproductibilité avec le package prefixer",
    "section": "Utiliser la fenêtre shiny permettant de choisir le préfixe",
    "text": "Utiliser la fenêtre shiny permettant de choisir le préfixe"
  },
  {
    "objectID": "R/assist/posts/R_jupyter/R_jupyter.html",
    "href": "R/assist/posts/R_jupyter/R_jupyter.html",
    "title": "Utiliser R avec le notebook Jupyter",
    "section": "",
    "text": "Astuce\n\n\n\nCliquer sur l’animation pour l’agrandir et la faire redémarrer au début"
  },
  {
    "objectID": "R/assist/posts/R_jupyter/R_jupyter.html#ined",
    "href": "R/assist/posts/R_jupyter/R_jupyter.html#ined",
    "title": "Utiliser R avec le notebook Jupyter",
    "section": "Ined",
    "text": "Ined\n\nA l’Ined, l’installation de Python et Jupyter est directement accessible via le bureau vial’outil Applined mis à disposition par le Service Informatique. Dans la fenêtre de recherche:\nPython puis l’installer.\nJupyter puis l’installer.\nOuverture de Jupyter dans le navigateur: taper cmd dans la barre de recherche windows, puis jupyter notebook.\n\nRésumé des étapes"
  },
  {
    "objectID": "R/assist/posts/R_jupyter/R_jupyter.html#hors-ined",
    "href": "R/assist/posts/R_jupyter/R_jupyter.html#hors-ined",
    "title": "Utiliser R avec le notebook Jupyter",
    "section": "Hors Ined",
    "text": "Hors Ined\n\nLa solution la plus simple est d’installer Anaconda, mais un nombre important d’applications seront installées. Je ne suis pas sur que, hors usage intensif de python, cela soit un quelconque intérêt.\nInstaller la version soft d’Anaconda, miniconda, puis installer Jupyter via l’invit de commandes conda: conda install jupyter ou via l’invite de commandes window avec l’application de gestion des librairie Python pip: pip install jupyter.\n\nL’ouverture de Jupyter se fera directement via un raccourci (conda) ou via l’invite de commande windows en tapant jupyter noteboook."
  },
  {
    "objectID": "R/assist/posts/spaghetti/spaghetti.html",
    "href": "R/assist/posts/spaghetti/spaghetti.html",
    "title": "Contrôler les effets spaghetti avec ggplot",
    "section": "",
    "text": "# pour récupérer la palette de couleur qualitatitive Tableau: \n# install.packages(ggthemes\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(ggthemes)"
  },
  {
    "objectID": "R/assist/posts/spaghetti/spaghetti.html#graphique-combiné-simple",
    "href": "R/assist/posts/spaghetti/spaghetti.html#graphique-combiné-simple",
    "title": "Contrôler les effets spaghetti avec ggplot",
    "section": "Graphique combiné simple",
    "text": "Graphique combiné simple\nPar rapport au graphique précédent on va simplement générer des sous graphiques par pays, qui seront combinés avec l’option facet_wrap.\n\nggplot(df) +\n  aes(x = year, y = y) +\n  geom_line(colour = \"#C24168\", lwd=1.2) +\n  labs(title = \"Taux de fécondité\") +\n  theme_minimal() +\n  labs(x = \"Années\", \n       y = \"ICF\", \n       title = \"Indices conjoncturels de fécondité par pays de 1950 à 2022\", \n       caption = \"Source: GGP - Datalab Ined\",) +\n  scale_x_continuous(guide = guide_axis(n.dodge = 2), breaks=seq(1950,2020, 10)) + \n  scale_y_continuous(breaks=seq(0,6,1)) +\n  facet_wrap(vars(pays), ncol = 4L)"
  },
  {
    "objectID": "R/assist/posts/spaghetti/spaghetti.html#graphique-combiné-avec-highlighting",
    "href": "R/assist/posts/spaghetti/spaghetti.html#graphique-combiné-avec-highlighting",
    "title": "Contrôler les effets spaghetti avec ggplot",
    "section": "Graphique combiné avec highlighting",
    "text": "Graphique combiné avec highlighting\nOn peut combiné les deux approches, en gardant en arrière plan de chaque sous graphique les informations des autres graphiques. On peut donc ici, pour chaque pays, positionné l’information de chaque pays par rapport aux autres.\nLe principe du code a été récupéré dans le support de Yann Holtz consacré à ce problème Data to viz. On vous recommande très fortement d’utiliser ce support très riche, non seulement en éléments de programmation, mais également en conseils. En particulier la section mise en garde (caveats).\nLes courbes en arrière plan ont une épaisseur plus faible (lwd=0.1) et on une couleur unique ( color=\"grey ). Pour facilité la lecture, le quadrillage a été allégé dans l’option theme().\n\ntmp &lt;- df %&gt;%\n  mutate(pays2=pays)   \n\nggplot(tmp) +\n  aes(x = year, y = y) +\n  geom_line( data=tmp %&gt;% dplyr::select(-pays), aes(group=pays2), color=\"grey\", lwd=0.1) +    \n  geom_line(colour = \"#C24168\", lwd=1.4) +\n  labs(title = \"Taux de fécondité\") +\n  theme_minimal() +\n  theme(panel.grid.major.x = element_blank(),\n        panel.grid.minor.x = element_blank(),  \n        panel.grid.minor.y = element_blank()) + \n  labs(x = \"Années\", \n       y = \"ICF\", \n       title = \"Indices conjoncturels de fécondité par pays de 1950 à 2022\", \n       caption = \"Source: GGP - Datalab Ined\",) +\n  scale_x_continuous(guide = guide_axis(n.dodge = 2), breaks=seq(1950,2020, 10)) + \n  scale_y_continuous(breaks=seq(0,6,1)) +\n  facet_wrap(vars(pays), ncol = 4L)\n\n\n\n\n\n\n\n\nOn peut vouloir trier les sous graphiques selon un ordre particulier, ici ils sont simplement affichés par ordre alphabétique.\nSi on souhaite par exemple, affiché les sous graphiques par ordre décroissant du taux de fécondité en 2022, donc d’Israel en haut à gauche à la Corée du Sud en bas à droite, on doit réarranger l’ordre de la variable pays avec le code suivant:\n\npays_order &lt;- df %&gt;%\n  filter(year == 2022) %&gt;% \n  arrange(desc(y))\npays_order &lt;- as.character(pays_order[,\"pays\"])\npays_order\n\n [1] \"Israel\"            \"Turkey\"            \"Argentina\"        \n [4] \"France\"            \"Iceland\"           \"USA\"              \n [7] \"Germany\"           \"Portugal\"          \"Japan\"            \n[10] \"Italy\"             \"Taiwan\"            \"Republic of Korea\"\n\ntmp &lt;- df %&gt;%\n  mutate(pays2=pays)\ntmp$pays &lt;- factor(tmp$pays, levels = pays_order)\ntmp$pays2 &lt;- factor(tmp$pays2, levels = pays_order)\nunique(tmp$pays2)\n\n [1] France            Germany           Iceland           Israel           \n [5] Italy             Japan             Portugal          Turkey           \n [9] USA               Argentina         Taiwan            Republic of Korea\n12 Levels: Israel Turkey Argentina France Iceland USA Germany ... Republic of Korea\n\n\nEt on réexécute le graphique précédent\n\nggplot(tmp) +\n  aes(x = year, y = y) +\n  geom_line( data=tmp %&gt;% dplyr::select(-pays), aes(group=pays2), color=\"grey\", lwd=0.1) +    \n  geom_line(colour = \"#C24168\", lwd=1.4) +\n  labs(title = \"Taux de fécondité\") +\n  theme_minimal() +\n  theme(panel.grid.major.x = element_blank(),\n        panel.grid.minor.x = element_blank(),  \n        panel.grid.minor.y = element_blank()) + \n  labs(x = \"Années\", \n       y = \"ICF\", \n       title = \"Indices conjoncturels de fécondité par pays de 1950 à 2022\", \n       caption = \"Source: GGP - Datalab Ined\",) +\n  scale_x_continuous(guide = guide_axis(n.dodge = 2), breaks=seq(1950,2020, 10)) + \n  scale_y_continuous(breaks=seq(0,6,1)) +\n  facet_wrap(vars(pays), ncol = 4L)"
  },
  {
    "objectID": "R/assist/posts/spaghetti/spaghetti.html#une-fonction-pour-simplifier-et-automatiser-le-code",
    "href": "R/assist/posts/spaghetti/spaghetti.html#une-fonction-pour-simplifier-et-automatiser-le-code",
    "title": "Contrôler les effets spaghetti avec ggplot",
    "section": "Une fonction pour simplifier et automatiser le code",
    "text": "Une fonction pour simplifier et automatiser le code\n\nVersion 0.1 - Juillet 2023 [Arno Muller]\nDes options seront ajoutées ultérieurement (couleurs, épaisseurs, options thème(), ….).\n\nChargement de la fonction:\n\nsource(\"https://raw.githubusercontent.com/arnomuller/Fonction_R/main/spag_plot/spag_plot.R\")\n\nMaintenant on va trier les graphiques pas ordre décroissant du taux de fécondité en 1950\n\ndf &lt;- read.csv(\"D:/D/Marc/SMS/assistoolsms_marc/R/assist/posts/spaghetti/fecondite_ggp.csv\")\ndf = df %&gt;% mutate_if(is.character,as.factor)\n\nspag_plot(df,                  # Base de données au format long\n          var_x = \"year\",      # Variable en X (numérique)\n          var_y = \"y\",         # Variable en Y (numérique)\n          var_group= \"pays\",   # Variable de groupe (factor)\n          ordre =  1950,      # Ordre des plots (\"alpha\", valeur num de var_x, un vecteur)\n          decroiss = \"oui\",    # Ordre décroissant de l'ordre choisi au dessus\n          titre   = \"TITRE\",   # Choix du titre\n          titre_x = \"Années\",  # Choix du titre de l'axe X\n          titre_y   =\"Taux\",   # Choix du titre de l'axe Y\n          source    = \"\",      # Source des données\n          interval = 20,       # Echelle de X\n          n_col = 6)           # Nombre de colonnes pour les graphiques"
  }
]